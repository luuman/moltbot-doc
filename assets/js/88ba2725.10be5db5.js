"use strict";(globalThis.webpackChunkdocs_workspace=globalThis.webpackChunkdocs_workspace||[]).push([[1890],{31298(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>a,frontMatter:()=>c,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"platforms/mac/menu-bar","title":"\u83dc\u5355\u680f\u72b6\u6001\u903b\u8f91","description":"\u663e\u793a\u7684\u5185\u5bb9","source":"@site/content/moltbot/docs/platforms/mac/menu-bar.md","sourceDirName":"platforms/mac","slug":"/platforms/mac/menu-bar","permalink":"/moltbot-doc/docs/platforms/mac/menu-bar","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"summary":"\u83dc\u5355\u680f\u72b6\u6001\u903b\u8f91\u548c\u5411\u7528\u6237\u5c55\u793a\u7684\u5185\u5bb9","read_when":["\u8c03\u6574 mac \u83dc\u5355 UI \u6216\u72b6\u6001\u903b\u8f91"]},"sidebar":"tutorialSidebar","previous":{"title":"\u5f00\u53d1\u73af\u5883\u8bbe\u7f6e","permalink":"/moltbot-doc/docs/platforms/mac/dev-setup"},"next":{"title":"\u8bed\u97f3\u5524\u9192","permalink":"/moltbot-doc/docs/platforms/mac/voicewake"}}');var s=i(74848),d=i(28453);const c={summary:"\u83dc\u5355\u680f\u72b6\u6001\u903b\u8f91\u548c\u5411\u7528\u6237\u5c55\u793a\u7684\u5185\u5bb9",read_when:["\u8c03\u6574 mac \u83dc\u5355 UI \u6216\u72b6\u6001\u903b\u8f91"]},r="\u83dc\u5355\u680f\u72b6\u6001\u903b\u8f91",t={},o=[{value:"\u663e\u793a\u7684\u5185\u5bb9",id:"\u663e\u793a\u7684\u5185\u5bb9",level:2},{value:"\u72b6\u6001\u6a21\u578b",id:"\u72b6\u6001\u6a21\u578b",level:2},{value:"IconState \u679a\u4e3e\uff08Swift\uff09",id:"iconstate-\u679a\u4e3eswift",level:2},{value:"ActivityKind \u2192 \u56fe\u6807",id:"activitykind--\u56fe\u6807",level:3},{value:"\u89c6\u89c9\u6620\u5c04",id:"\u89c6\u89c9\u6620\u5c04",level:3},{value:"\u72b6\u6001\u884c\u6587\u672c\uff08\u83dc\u5355\uff09",id:"\u72b6\u6001\u884c\u6587\u672c\u83dc\u5355",level:2},{value:"\u4e8b\u4ef6\u6444\u5165",id:"\u4e8b\u4ef6\u6444\u5165",level:2},{value:"\u8c03\u8bd5\u8986\u76d6",id:"\u8c03\u8bd5\u8986\u76d6",level:2},{value:"\u6d4b\u8bd5\u6e05\u5355",id:"\u6d4b\u8bd5\u6e05\u5355",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u83dc\u5355\u680f\u72b6\u6001\u903b\u8f91",children:"\u83dc\u5355\u680f\u72b6\u6001\u903b\u8f91"})}),"\n",(0,s.jsx)(n.h2,{id:"\u663e\u793a\u7684\u5185\u5bb9",children:"\u663e\u793a\u7684\u5185\u5bb9"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u6211\u4eec\u5728\u83dc\u5355\u680f\u56fe\u6807\u548c\u83dc\u5355\u7684\u7b2c\u4e00\u4e2a\u72b6\u6001\u884c\u4e2d\u663e\u793a\u5f53\u524d\u4ee3\u7406\u5de5\u4f5c\u72b6\u6001\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u5de5\u4f5c\u6d3b\u8dc3\u65f6\u9690\u85cf\u5065\u5eb7\u72b6\u6001\uff1b\u6240\u6709\u4f1a\u8bdd\u7a7a\u95f2\u65f6\u6062\u590d\u663e\u793a\u3002"}),"\n",(0,s.jsxs)(n.li,{children:['\u83dc\u5355\u4e2d\u7684"\u8282\u70b9"\u5757\u4ec5\u5217\u51fa',(0,s.jsx)(n.strong,{children:"\u8bbe\u5907"}),"\uff08\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"node.list"})," \u914d\u5bf9\u7684\u8282\u70b9\uff09\uff0c\u800c\u4e0d\u662f\u5ba2\u6237\u7aef/\u5b58\u5728\u6761\u76ee\u3002"]}),"\n",(0,s.jsx)(n.li,{children:'\u5f53\u63d0\u4f9b\u8005\u4f7f\u7528\u60c5\u51b5\u5feb\u7167\u53ef\u7528\u65f6\uff0c\u5728\u4e0a\u4e0b\u6587\u4e0b\u4f1a\u51fa\u73b0"\u4f7f\u7528\u60c5\u51b5"\u90e8\u5206\u3002'}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u72b6\u6001\u6a21\u578b",children:"\u72b6\u6001\u6a21\u578b"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u4f1a\u8bdd\uff1a\u4e8b\u4ef6\u5230\u8fbe\u65f6\u5e26\u6709 ",(0,s.jsx)(n.code,{children:"runId"}),"\uff08\u6bcf\u6b21\u8fd0\u884c\uff09\u548c\u6709\u6548\u8f7d\u8377\u4e2d\u7684 ",(0,s.jsx)(n.code,{children:"sessionKey"}),'\u3002"main" \u4f1a\u8bdd\u662f\u952e ',(0,s.jsx)(n.code,{children:"main"}),"\uff1b\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u6211\u4eec\u56de\u9000\u5230\u6700\u8fd1\u66f4\u65b0\u7684\u4f1a\u8bdd\u3002"]}),"\n",(0,s.jsx)(n.li,{children:"\u4f18\u5148\u7ea7\uff1amain \u59cb\u7ec8\u83b7\u80dc\u3002\u5982\u679c main \u6d3b\u8dc3\uff0c\u7acb\u5373\u663e\u793a\u5176\u72b6\u6001\u3002\u5982\u679c main \u7a7a\u95f2\uff0c\u663e\u793a\u6700\u8fd1\u6d3b\u8dc3\u7684\u975e main \u4f1a\u8bdd\u3002\u6211\u4eec\u4e0d\u4f1a\u5728\u6d3b\u52a8\u4e2d\u671f\u5207\u6362\uff1b\u53ea\u6709\u5f53\u524d\u4f1a\u8bdd\u53d8\u7a7a\u95f2\u6216 main \u53d8\u6d3b\u8dc3\u65f6\u624d\u5207\u6362\u3002"}),"\n",(0,s.jsxs)(n.li,{children:["\u6d3b\u52a8\u7c7b\u578b\uff1a\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"job"}),"\uff1a\u9ad8\u7ea7\u547d\u4ee4\u6267\u884c\uff08",(0,s.jsx)(n.code,{children:"state: started|streaming|done|error"}),"\uff09\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tool"}),"\uff1a",(0,s.jsx)(n.code,{children:"phase: start|result"})," \u5e26\u6709 ",(0,s.jsx)(n.code,{children:"toolName"})," \u548c ",(0,s.jsx)(n.code,{children:"meta/args"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"iconstate-\u679a\u4e3eswift",children:"IconState \u679a\u4e3e\uff08Swift\uff09"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"idle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"workingMain(ActivityKind)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"workingOther(ActivityKind)"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"overridden(ActivityKind)"}),"\uff08\u8c03\u8bd5\u8986\u76d6\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"activitykind--\u56fe\u6807",children:"ActivityKind \u2192 \u56fe\u6807"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"exec"})," \u2192 \ud83d\udcbb"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"read"})," \u2192 \ud83d\udcc4"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"write"})," \u2192 \u270d\ufe0f"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"edit"})," \u2192 \ud83d\udcdd"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"attach"})," \u2192 \ud83d\udcce"]}),"\n",(0,s.jsx)(n.li,{children:"\u9ed8\u8ba4 \u2192 \ud83d\udee0\ufe0f"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u89c6\u89c9\u6620\u5c04",children:"\u89c6\u89c9\u6620\u5c04"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"idle"}),"\uff1a\u6b63\u5e38\u5c0f\u52a8\u7269\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"workingMain"}),'\uff1a\u5e26\u56fe\u6807\u5fbd\u7ae0\uff0c\u5b8c\u6574\u7740\u8272\uff0c\u817f"\u5de5\u4f5c"\u52a8\u753b\u3002']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"workingOther"}),"\uff1a\u5e26\u56fe\u6807\u5fbd\u7ae0\uff0c\u6de1\u8272\uff0c\u65e0\u5954\u8dd1\u52a8\u753b\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"overridden"}),"\uff1a\u4f7f\u7528\u6240\u9009\u56fe\u6807/\u7740\u8272\uff0c\u4e0d\u7ba1\u6d3b\u52a8\u72b6\u6001\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u72b6\u6001\u884c\u6587\u672c\u83dc\u5355",children:"\u72b6\u6001\u884c\u6587\u672c\uff08\u83dc\u5355\uff09"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5de5\u4f5c\u6d3b\u8dc3\u65f6\uff1a",(0,s.jsx)(n.code,{children:"<\u4f1a\u8bdd\u89d2\u8272> \xb7 <\u6d3b\u52a8\u6807\u7b7e>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u793a\u4f8b\uff1a",(0,s.jsx)(n.code,{children:"Main \xb7 exec: pnpm test"}),", ",(0,s.jsx)(n.code,{children:"Other \xb7 read: apps/macos/Sources/Moltbot/AppState.swift"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"\u7a7a\u95f2\u65f6\uff1a\u56de\u9000\u5230\u5065\u5eb7\u6458\u8981\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u4e8b\u4ef6\u6444\u5165",children:"\u4e8b\u4ef6\u6444\u5165"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u6e90\uff1a\u63a7\u5236\u901a\u9053 ",(0,s.jsx)(n.code,{children:"agent"})," \u4e8b\u4ef6\uff08",(0,s.jsx)(n.code,{children:"ControlChannel.handleAgentEvent"}),"\uff09\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:["\u89e3\u6790\u5b57\u6bb5\uff1a\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'stream: "job"'})," \u5e26\u6709 ",(0,s.jsx)(n.code,{children:"data.state"})," \u7528\u4e8e\u5f00\u59cb/\u505c\u6b62\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'stream: "tool"'})," \u5e26\u6709 ",(0,s.jsx)(n.code,{children:"data.phase"}),"\u3001",(0,s.jsx)(n.code,{children:"name"}),"\u3001\u53ef\u9009\u7684 ",(0,s.jsx)(n.code,{children:"meta"}),"/",(0,s.jsx)(n.code,{children:"args"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u6807\u7b7e\uff1a\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"exec"}),"\uff1a",(0,s.jsx)(n.code,{children:"args.command"})," \u7684\u7b2c\u4e00\u884c\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"read"}),"/",(0,s.jsx)(n.code,{children:"write"}),"\uff1a\u7f29\u77ed\u7684\u8def\u5f84\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"edit"}),"\uff1a\u8def\u5f84\u52a0\u4e0a\u4ece ",(0,s.jsx)(n.code,{children:"meta"}),"/\u5dee\u5f02\u8ba1\u6570\u63a8\u65ad\u7684\u53d8\u66f4\u7c7b\u578b\u3002"]}),"\n",(0,s.jsx)(n.li,{children:"\u56de\u9000\uff1a\u5de5\u5177\u540d\u79f0\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u8c03\u8bd5\u8986\u76d6",children:"\u8c03\u8bd5\u8986\u76d6"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:['\u8bbe\u7f6e \u25b8 \u8c03\u8bd5 \u25b8 "\u56fe\u6807\u8986\u76d6" \u9009\u62e9\u5668\uff1a\n',(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"\u7cfb\u7edf\uff08\u81ea\u52a8\uff09"}),"\uff08\u9ed8\u8ba4\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"\u5de5\u4f5c\u4e2d\uff1amain"}),"\uff08\u6309\u5de5\u5177\u7c7b\u578b\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"\u5de5\u4f5c\u4e2d\uff1aother"}),"\uff08\u6309\u5de5\u5177\u7c7b\u578b\uff09"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"\u7a7a\u95f2"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:'@AppStorage("iconOverride")'})," \u5b58\u50a8\uff1b\u6620\u5c04\u5230 ",(0,s.jsx)(n.code,{children:"IconState.overridden"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u6d4b\u8bd5\u6e05\u5355",children:"\u6d4b\u8bd5\u6e05\u5355"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u89e6\u53d1 main \u4f1a\u8bdd\u4f5c\u4e1a\uff1a\u9a8c\u8bc1\u56fe\u6807\u7acb\u5373\u5207\u6362\uff0c\u72b6\u6001\u884c\u663e\u793a main \u6807\u7b7e\u3002"}),"\n",(0,s.jsx)(n.li,{children:"main \u7a7a\u95f2\u65f6\u89e6\u53d1\u975e main \u4f1a\u8bdd\u4f5c\u4e1a\uff1a\u56fe\u6807/\u72b6\u6001\u663e\u793a\u975e main\uff1b\u4fdd\u6301\u7a33\u5b9a\u76f4\u5230\u5b8c\u6210\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u5176\u4ed6\u6d3b\u8dc3\u65f6\u542f\u52a8 main\uff1a\u56fe\u6807\u7acb\u5373\u5207\u6362\u5230 main\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u5feb\u901f\u5de5\u5177\u7a81\u53d1\uff1a\u786e\u4fdd\u5fbd\u7ae0\u4e0d\u95ea\u70c1\uff08\u5de5\u5177\u7ed3\u679c\u7684 TTL \u5bbd\u9650\u671f\uff09\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u6240\u6709\u4f1a\u8bdd\u7a7a\u95f2\u540e\u5065\u5eb7\u884c\u91cd\u65b0\u51fa\u73b0\u3002"}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453(e,n,i){i.d(n,{R:()=>c,x:()=>r});var l=i(96540);const s={},d=l.createContext(s);function c(e){const n=l.useContext(d);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),l.createElement(d.Provider,{value:n},e.children)}}}]);