"use strict";(globalThis.webpackChunkdocs_workspace=globalThis.webpackChunkdocs_workspace||[]).push([[7190],{57949(n,l,e){e.r(l),e.d(l,{assets:()=>a,contentTitle:()=>r,default:()=>x,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"channels/signal","title":"Signal (signal-cli)","description":"\u72b6\u6001\uff1a\u5916\u90e8 CLI \u96c6\u6210\u3002\u7f51\u5173\u901a\u8fc7 HTTP JSON-RPC + SSE \u4e0e signal-cli \u901a\u4fe1\u3002","source":"@site/content/moltbot/docs/channels/signal.md","sourceDirName":"channels","slug":"/channels/signal","permalink":"/moltbot-doc/docs/channels/signal","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"summary":"\u901a\u8fc7 signal-cli\uff08JSON-RPC + SSE\uff09\u3001\u8bbe\u7f6e\u548c\u53f7\u7801\u6a21\u578b\u652f\u6301 Signal","read_when":["\u8bbe\u7f6e Signal \u652f\u6301","\u8c03\u8bd5 Signal \u53d1\u9001/\u63a5\u6536"]}}');var s=e(74848),c=e(28453);const d={summary:"\u901a\u8fc7 signal-cli\uff08JSON-RPC + SSE\uff09\u3001\u8bbe\u7f6e\u548c\u53f7\u7801\u6a21\u578b\u652f\u6301 Signal",read_when:["\u8bbe\u7f6e Signal \u652f\u6301","\u8c03\u8bd5 Signal \u53d1\u9001/\u63a5\u6536"]},r="Signal (signal-cli)",a={},h=[{value:"\u5feb\u901f\u8bbe\u7f6e\uff08\u521d\u5b66\u8005\uff09",id:"\u5feb\u901f\u8bbe\u7f6e\u521d\u5b66\u8005",level:2},{value:"\u5b83\u662f\u4ec0\u4e48",id:"\u5b83\u662f\u4ec0\u4e48",level:2},{value:"\u914d\u7f6e\u5199\u5165",id:"\u914d\u7f6e\u5199\u5165",level:2},{value:"\u53f7\u7801\u6a21\u578b\uff08\u91cd\u8981\uff09",id:"\u53f7\u7801\u6a21\u578b\u91cd\u8981",level:2},{value:"\u8bbe\u7f6e\uff08\u5feb\u901f\u8def\u5f84\uff09",id:"\u8bbe\u7f6e\u5feb\u901f\u8def\u5f84",level:2},{value:"\u5916\u90e8\u5b88\u62a4\u8fdb\u7a0b\u6a21\u5f0f\uff08httpUrl\uff09",id:"\u5916\u90e8\u5b88\u62a4\u8fdb\u7a0b\u6a21\u5f0fhttpurl",level:2},{value:"\u8bbf\u95ee\u63a7\u5236\uff08\u79c1\u4fe1 + \u7fa4\u7ec4\uff09",id:"\u8bbf\u95ee\u63a7\u5236\u79c1\u4fe1--\u7fa4\u7ec4",level:2},{value:"\u5de5\u4f5c\u539f\u7406\uff08\u884c\u4e3a\uff09",id:"\u5de5\u4f5c\u539f\u7406\u884c\u4e3a",level:2},{value:"\u5a92\u4f53 + \u9650\u5236",id:"\u5a92\u4f53--\u9650\u5236",level:2},{value:"\u8f93\u5165 + \u5df2\u8bfb\u56de\u6267",id:"\u8f93\u5165--\u5df2\u8bfb\u56de\u6267",level:2},{value:"\u53cd\u5e94\uff08\u6d88\u606f\u5de5\u5177\uff09",id:"\u53cd\u5e94\u6d88\u606f\u5de5\u5177",level:2},{value:"\u4ea4\u4ed8\u76ee\u6807\uff08CLI/cron\uff09",id:"\u4ea4\u4ed8\u76ee\u6807clicron",level:2},{value:"\u914d\u7f6e\u53c2\u8003\uff08Signal\uff09",id:"\u914d\u7f6e\u53c2\u8003signal",level:2}];function o(n){const l={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.header,{children:(0,s.jsx)(l.h1,{id:"signal-signal-cli",children:"Signal (signal-cli)"})}),"\n",(0,s.jsxs)(l.p,{children:["\u72b6\u6001\uff1a\u5916\u90e8 CLI \u96c6\u6210\u3002\u7f51\u5173\u901a\u8fc7 HTTP JSON-RPC + SSE \u4e0e ",(0,s.jsx)(l.code,{children:"signal-cli"})," \u901a\u4fe1\u3002"]}),"\n",(0,s.jsx)(l.h2,{id:"\u5feb\u901f\u8bbe\u7f6e\u521d\u5b66\u8005",children:"\u5feb\u901f\u8bbe\u7f6e\uff08\u521d\u5b66\u8005\uff09"}),"\n",(0,s.jsxs)(l.ol,{children:["\n",(0,s.jsxs)(l.li,{children:["\u4e3a\u673a\u5668\u4eba\u4f7f\u7528",(0,s.jsx)(l.strong,{children:"\u5355\u72ec\u7684 Signal \u53f7\u7801"}),"\uff08\u63a8\u8350\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u5b89\u88c5 ",(0,s.jsx)(l.code,{children:"signal-cli"}),"\uff08\u9700\u8981 Java\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u94fe\u63a5\u673a\u5668\u4eba\u8bbe\u5907\u5e76\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\uff1a\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:(0,s.jsx)(l.code,{children:'signal-cli link -n "Moltbot"'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(l.li,{children:"\u914d\u7f6e Moltbot \u5e76\u542f\u52a8\u7f51\u5173\u3002"}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u6700\u5c0f\u914d\u7f6e\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-json5",children:'{\n  channels: {\n    signal: {\n      enabled: true,\n      account: "+15551234567",\n      cliPath: "signal-cli",\n      dmPolicy: "pairing",\n      allowFrom: ["+15557654321"]\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(l.h2,{id:"\u5b83\u662f\u4ec0\u4e48",children:"\u5b83\u662f\u4ec0\u4e48"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\u901a\u8fc7 ",(0,s.jsx)(l.code,{children:"signal-cli"}),"\uff08\u975e\u5d4c\u5165\u5f0f libsignal\uff09\u7684 Signal \u901a\u9053\u3002"]}),"\n",(0,s.jsx)(l.li,{children:"\u786e\u5b9a\u6027\u8def\u7531\uff1a\u56de\u590d\u59cb\u7ec8\u8fd4\u56de\u5230 Signal\u3002"}),"\n",(0,s.jsxs)(l.li,{children:["\u79c1\u4fe1\u5171\u4eab\u4ee3\u7406\u7684\u4e3b\u4f1a\u8bdd\uff1b\u7fa4\u7ec4\u662f\u9694\u79bb\u7684\uff08",(0,s.jsx)(l.code,{children:"agent:<agentId>:signal:group:<groupId>"}),"\uff09\u3002"]}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"\u914d\u7f6e\u5199\u5165",children:"\u914d\u7f6e\u5199\u5165"}),"\n",(0,s.jsxs)(l.p,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cSignal \u5141\u8bb8\u5199\u5165\u7531 ",(0,s.jsx)(l.code,{children:"/config set|unset"})," \u89e6\u53d1\u7684\u914d\u7f6e\u66f4\u65b0\uff08\u9700\u8981 ",(0,s.jsx)(l.code,{children:"commands.config: true"}),"\uff09\u3002"]}),"\n",(0,s.jsx)(l.p,{children:"\u7981\u7528\u65b9\u6cd5\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-json5",children:"{\n  channels: { signal: { configWrites: false } }\n}\n"})}),"\n",(0,s.jsx)(l.h2,{id:"\u53f7\u7801\u6a21\u578b\u91cd\u8981",children:"\u53f7\u7801\u6a21\u578b\uff08\u91cd\u8981\uff09"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\u7f51\u5173\u8fde\u63a5\u5230\u4e00\u4e2a",(0,s.jsx)(l.strong,{children:"Signal \u8bbe\u5907"}),"\uff08",(0,s.jsx)(l.code,{children:"signal-cli"})," \u8d26\u6237\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u5982\u679c\u60a8\u5728",(0,s.jsx)(l.strong,{children:"\u60a8\u7684\u4e2a\u4eba Signal \u8d26\u6237"}),"\u4e0a\u8fd0\u884c\u673a\u5668\u4eba\uff0c\u5b83\u5c06\u5ffd\u7565\u60a8\u81ea\u5df1\u7684\u6d88\u606f\uff08\u5faa\u73af\u4fdd\u62a4\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:['\u5bf9\u4e8e"\u6211\u53d1\u77ed\u4fe1\u7ed9\u673a\u5668\u4eba\uff0c\u5b83\u56de\u590d"\uff0c\u4f7f\u7528',(0,s.jsx)(l.strong,{children:"\u5355\u72ec\u7684\u673a\u5668\u4eba\u53f7\u7801"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"\u8bbe\u7f6e\u5feb\u901f\u8def\u5f84",children:"\u8bbe\u7f6e\uff08\u5feb\u901f\u8def\u5f84\uff09"}),"\n",(0,s.jsxs)(l.ol,{children:["\n",(0,s.jsxs)(l.li,{children:["\u5b89\u88c5 ",(0,s.jsx)(l.code,{children:"signal-cli"}),"\uff08\u9700\u8981 Java\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u94fe\u63a5\u673a\u5668\u4eba\u8d26\u6237\uff1a\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:'signal-cli link -n "Moltbot"'})," \u7136\u540e\u626b\u63cf Signal \u4e2d\u7684\u4e8c\u7ef4\u7801\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(l.li,{children:"\u914d\u7f6e Signal \u5e76\u542f\u52a8\u7f51\u5173\u3002"}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-json5",children:'{\n  channels: {\n    signal: {\n      enabled: true,\n      account: "+15551234567",\n      cliPath: "signal-cli",\n      dmPolicy: "pairing",\n      allowFrom: ["+15557654321"]\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(l.p,{children:["\u591a\u8d26\u6237\u652f\u6301\uff1a\u4f7f\u7528 ",(0,s.jsx)(l.code,{children:"channels.signal.accounts"})," \u914d\u7f6e\u6bcf\u4e2a\u8d26\u6237\u7684\u914d\u7f6e\u548c\u53ef\u9009\u7684 ",(0,s.jsx)(l.code,{children:"name"}),"\u3002\u53c2\u89c1 ",(0,s.jsx)(l.a,{href:"/gateway/configuration#telegramaccounts--discordaccounts--slackaccounts--signalaccounts--imessageaccounts",children:(0,s.jsx)(l.code,{children:"gateway/configuration"})})," \u4e86\u89e3\u5171\u4eab\u6a21\u5f0f\u3002"]}),"\n",(0,s.jsx)(l.h2,{id:"\u5916\u90e8\u5b88\u62a4\u8fdb\u7a0b\u6a21\u5f0fhttpurl",children:"\u5916\u90e8\u5b88\u62a4\u8fdb\u7a0b\u6a21\u5f0f\uff08httpUrl\uff09"}),"\n",(0,s.jsxs)(l.p,{children:["\u5982\u679c\u60a8\u60f3\u81ea\u5df1\u7ba1\u7406 ",(0,s.jsx)(l.code,{children:"signal-cli"}),"\uff08\u6162 JVM \u51b7\u542f\u52a8\u3001\u5bb9\u5668\u521d\u59cb\u5316\u6216\u5171\u4eab CPU\uff09\uff0c\u5355\u72ec\u8fd0\u884c\u5b88\u62a4\u8fdb\u7a0b\u5e76\u8ba9 Moltbot \u6307\u5411\u5b83\uff1a"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-json5",children:'{\n  channels: {\n    signal: {\n      httpUrl: "http://127.0.0.1:8080",\n      autoStart: false\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(l.p,{children:["\u8fd9\u8df3\u8fc7\u4e86\u81ea\u52a8\u4ea7\u751f\u548c Moltbot \u5185\u90e8\u7684\u542f\u52a8\u7b49\u5f85\u3002\u5bf9\u4e8e\u81ea\u52a8\u4ea7\u751f\u65f6\u7684\u6162\u542f\u52a8\uff0c\u8bbe\u7f6e ",(0,s.jsx)(l.code,{children:"channels.signal.startupTimeoutMs"}),"\u3002"]}),"\n",(0,s.jsx)(l.h2,{id:"\u8bbf\u95ee\u63a7\u5236\u79c1\u4fe1--\u7fa4\u7ec4",children:"\u8bbf\u95ee\u63a7\u5236\uff08\u79c1\u4fe1 + \u7fa4\u7ec4\uff09"}),"\n",(0,s.jsx)(l.p,{children:"\u79c1\u4fe1\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\u9ed8\u8ba4\uff1a",(0,s.jsx)(l.code,{children:'channels.signal.dmPolicy = "pairing"'}),"\u3002"]}),"\n",(0,s.jsx)(l.li,{children:"\u672a\u77e5\u53d1\u9001\u8005\u6536\u5230\u914d\u5bf9\u7801\uff1b\u5728\u6279\u51c6\u4e4b\u524d\u5ffd\u7565\u6d88\u606f\uff08\u4ee3\u7801\u5728 1 \u5c0f\u65f6\u540e\u8fc7\u671f\uff09\u3002"}),"\n",(0,s.jsxs)(l.li,{children:["\u6279\u51c6\u65b9\u5f0f\uff1a\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:(0,s.jsx)(l.code,{children:"moltbot pairing list signal"})}),"\n",(0,s.jsx)(l.li,{children:(0,s.jsx)(l.code,{children:"moltbot pairing approve signal <CODE>"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.li,{children:["\u914d\u5bf9\u662f Signal \u79c1\u4fe1\u7684\u9ed8\u8ba4\u4ee4\u724c\u4ea4\u6362\u3002\u8be6\u60c5\uff1a",(0,s.jsx)(l.a,{href:"/start/pairing",children:"\u914d\u5bf9"})]}),"\n",(0,s.jsxs)(l.li,{children:["UUID-only \u53d1\u9001\u8005\uff08\u6765\u81ea ",(0,s.jsx)(l.code,{children:"sourceUuid"}),"\uff09\u5b58\u50a8\u4e3a ",(0,s.jsx)(l.code,{children:"channels.signal.allowFrom"})," \u4e2d\u7684 ",(0,s.jsx)(l.code,{children:"uuid:<id>"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u7fa4\u7ec4\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.groupPolicy = open | allowlist | disabled"}),"\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.groupAllowFrom"})," \u63a7\u5236\u5728\u8bbe\u7f6e\u4e3a ",(0,s.jsx)(l.code,{children:"allowlist"})," \u65f6\u8c01\u53ef\u4ee5\u5728\u7fa4\u7ec4\u4e2d\u89e6\u53d1\u3002"]}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"\u5de5\u4f5c\u539f\u7406\u884c\u4e3a",children:"\u5de5\u4f5c\u539f\u7406\uff08\u884c\u4e3a\uff09"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"signal-cli"})," \u4f5c\u4e3a\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\uff1b\u7f51\u5173\u901a\u8fc7 SSE \u8bfb\u53d6\u4e8b\u4ef6\u3002"]}),"\n",(0,s.jsx)(l.li,{children:"\u5165\u7ad9\u6d88\u606f\u88ab\u89c4\u8303\u5316\u4e3a\u5171\u4eab\u901a\u9053\u4fe1\u5c01\u3002"}),"\n",(0,s.jsx)(l.li,{children:"\u56de\u590d\u59cb\u7ec8\u8def\u7531\u56de\u540c\u4e00\u4e2a\u53f7\u7801\u6216\u7fa4\u7ec4\u3002"}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"\u5a92\u4f53--\u9650\u5236",children:"\u5a92\u4f53 + \u9650\u5236"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\u51fa\u7ad9\u6587\u672c\u5206\u5272\u5230 ",(0,s.jsx)(l.code,{children:"channels.signal.textChunkLimit"}),"\uff08\u9ed8\u8ba4 4000\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u53ef\u9009\u7684\u6362\u884c\u5206\u5272\uff1a\u8bbe\u7f6e ",(0,s.jsx)(l.code,{children:'channels.signal.chunkMode="newline"'})," \u4ee5\u5728\u957f\u5ea6\u5206\u5272\u4e4b\u524d\u6309\u7a7a\u884c\uff08\u6bb5\u843d\u8fb9\u754c\uff09\u5206\u5272\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u652f\u6301\u9644\u4ef6\uff08\u4ece ",(0,s.jsx)(l.code,{children:"signal-cli"})," \u83b7\u53d6 base64\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u9ed8\u8ba4\u5a92\u4f53\u4e0a\u9650\uff1a",(0,s.jsx)(l.code,{children:"channels.signal.mediaMaxMb"}),"\uff08\u9ed8\u8ba4 8\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u4f7f\u7528 ",(0,s.jsx)(l.code,{children:"channels.signal.ignoreAttachments"})," \u8df3\u8fc7\u4e0b\u8f7d\u5a92\u4f53\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u7fa4\u7ec4\u5386\u53f2\u4e0a\u4e0b\u6587\u4f7f\u7528 ",(0,s.jsx)(l.code,{children:"channels.signal.historyLimit"}),"\uff08\u6216 ",(0,s.jsx)(l.code,{children:"channels.signal.accounts.*.historyLimit"}),"\uff09\uff0c\u56de\u9000\u5230 ",(0,s.jsx)(l.code,{children:"messages.groupChat.historyLimit"}),"\u3002\u8bbe\u7f6e ",(0,s.jsx)(l.code,{children:"0"})," \u4ee5\u7981\u7528\uff08\u9ed8\u8ba4 50\uff09\u3002"]}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"\u8f93\u5165--\u5df2\u8bfb\u56de\u6267",children:"\u8f93\u5165 + \u5df2\u8bfb\u56de\u6267"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"\u8f93\u5165\u6307\u793a\u5668"}),"\uff1aMoltbot \u901a\u8fc7 ",(0,s.jsx)(l.code,{children:"signal-cli sendTyping"})," \u53d1\u9001\u8f93\u5165\u4fe1\u53f7\u5e76\u5728\u56de\u590d\u8fd0\u884c\u65f6\u5237\u65b0\u5b83\u4eec\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"\u5df2\u8bfb\u56de\u6267"}),"\uff1a\u5f53 ",(0,s.jsx)(l.code,{children:"channels.signal.sendReadReceipts"})," \u4e3a\u771f\u65f6\uff0cMoltbot \u8f6c\u53d1\u5141\u8bb8\u7684\u79c1\u4fe1\u7684\u5df2\u8bfb\u56de\u6267\u3002"]}),"\n",(0,s.jsx)(l.li,{children:"Signal-cli \u4e0d\u516c\u5f00\u7fa4\u7ec4\u7684\u5df2\u8bfb\u56de\u6267\u3002"}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"\u53cd\u5e94\u6d88\u606f\u5de5\u5177",children:"\u53cd\u5e94\uff08\u6d88\u606f\u5de5\u5177\uff09"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\u4f7f\u7528 ",(0,s.jsx)(l.code,{children:"message action=react"})," \u548c ",(0,s.jsx)(l.code,{children:"channel=signal"}),"\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u76ee\u6807\uff1a\u53d1\u9001\u8005 E.164 \u6216 UUID\uff08\u4f7f\u7528\u914d\u5bf9\u8f93\u51fa\u4e2d\u7684 ",(0,s.jsx)(l.code,{children:"uuid:<id>"}),"\uff1b\u88f8 UUID \u4e5f\u6709\u6548\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"messageId"})," \u662f\u60a8\u6b63\u5728\u53cd\u5e94\u7684\u6d88\u606f\u7684 Signal \u65f6\u95f4\u6233\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u7fa4\u7ec4\u53cd\u5e94\u9700\u8981 ",(0,s.jsx)(l.code,{children:"targetAuthor"})," \u6216 ",(0,s.jsx)(l.code,{children:"targetAuthorUuid"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{children:"message action=react channel=signal target=uuid:123e4567-e89b-12d3-a456-426614174000 messageId=1737630212345 emoji=\ud83d\udd25\nmessage action=react channel=signal target=+15551234567 messageId=1737630212345 emoji=\ud83d\udd25 remove=true\nmessage action=react channel=signal target=signal:group:<groupId> targetAuthor=uuid:<sender-uuid> messageId=1737630212345 emoji=\u2705\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u914d\u7f6e\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.actions.reactions"}),"\uff1a\u542f\u7528/\u7981\u7528\u53cd\u5e94\u52a8\u4f5c\uff08\u9ed8\u8ba4 true\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.reactionLevel"}),"\uff1a",(0,s.jsx)(l.code,{children:"off | ack | minimal | extensive"}),"\u3002\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"off"}),"/",(0,s.jsx)(l.code,{children:"ack"})," \u7981\u7528\u4ee3\u7406\u53cd\u5e94\uff08\u6d88\u606f\u5de5\u5177 ",(0,s.jsx)(l.code,{children:"react"})," \u5c06\u51fa\u9519\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"minimal"}),"/",(0,s.jsx)(l.code,{children:"extensive"})," \u542f\u7528\u4ee3\u7406\u53cd\u5e94\u5e76\u8bbe\u7f6e\u6307\u5bfc\u7ea7\u522b\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.li,{children:["\u6309\u8d26\u6237\u8986\u76d6\uff1a",(0,s.jsx)(l.code,{children:"channels.signal.accounts.<id>.actions.reactions"}),"\uff0c",(0,s.jsx)(l.code,{children:"channels.signal.accounts.<id>.reactionLevel"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"\u4ea4\u4ed8\u76ee\u6807clicron",children:"\u4ea4\u4ed8\u76ee\u6807\uff08CLI/cron\uff09"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\u79c1\u4fe1\uff1a",(0,s.jsx)(l.code,{children:"signal:+15551234567"}),"\uff08\u6216\u7eaf E.164\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["UUID \u79c1\u4fe1\uff1a",(0,s.jsx)(l.code,{children:"uuid:<id>"}),"\uff08\u6216\u88f8 UUID\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u7fa4\u7ec4\uff1a",(0,s.jsx)(l.code,{children:"signal:group:<groupId>"}),"\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:["\u7528\u6237\u540d\uff1a",(0,s.jsx)(l.code,{children:"username:<name>"}),"\uff08\u5982\u679c\u60a8\u7684 Signal \u8d26\u6237\u652f\u6301\uff09\u3002"]}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"\u914d\u7f6e\u53c2\u8003signal",children:"\u914d\u7f6e\u53c2\u8003\uff08Signal\uff09"}),"\n",(0,s.jsxs)(l.p,{children:["\u5b8c\u6574\u914d\u7f6e\uff1a",(0,s.jsx)(l.a,{href:"/gateway/configuration",children:"\u914d\u7f6e"})]}),"\n",(0,s.jsx)(l.p,{children:"\u63d0\u4f9b\u8005\u9009\u9879\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.enabled"}),"\uff1a\u542f\u7528/\u7981\u7528\u901a\u9053\u542f\u52a8\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.account"}),"\uff1a\u673a\u5668\u4eba\u8d26\u6237\u7684 E.164\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.cliPath"}),"\uff1a",(0,s.jsx)(l.code,{children:"signal-cli"})," \u7684\u8def\u5f84\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.httpUrl"}),"\uff1a\u5b8c\u6574\u5b88\u62a4\u8fdb\u7a0b URL\uff08\u8986\u76d6\u4e3b\u673a/\u7aef\u53e3\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.httpHost"}),"\uff0c",(0,s.jsx)(l.code,{children:"channels.signal.httpPort"}),"\uff1a\u5b88\u62a4\u8fdb\u7a0b\u7ed1\u5b9a\uff08\u9ed8\u8ba4 127.0.0.1:8080\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.autoStart"}),"\uff1a\u81ea\u52a8\u4ea7\u751f\u5b88\u62a4\u8fdb\u7a0b\uff08\u5982\u679c\u672a\u8bbe\u7f6e ",(0,s.jsx)(l.code,{children:"httpUrl"})," \u9ed8\u8ba4\u4e3a true\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.startupTimeoutMs"}),"\uff1a\u542f\u52a8\u7b49\u5f85\u8d85\u65f6\uff08\u6beb\u79d2\uff09\uff08\u4e0a\u9650 120000\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.receiveMode"}),"\uff1a",(0,s.jsx)(l.code,{children:"on-start | manual"}),"\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.ignoreAttachments"}),"\uff1a\u8df3\u8fc7\u9644\u4ef6\u4e0b\u8f7d\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.ignoreStories"}),"\uff1a\u5ffd\u7565\u5b88\u62a4\u8fdb\u7a0b\u7684\u6545\u4e8b\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.sendReadReceipts"}),"\uff1a\u8f6c\u53d1\u5df2\u8bfb\u56de\u6267\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.dmPolicy"}),"\uff1a",(0,s.jsx)(l.code,{children:"pairing | allowlist | open | disabled"}),"\uff08\u9ed8\u8ba4\uff1a\u914d\u5bf9\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.allowFrom"}),"\uff1a\u79c1\u4fe1\u5141\u8bb8\u5217\u8868\uff08E.164 \u6216 ",(0,s.jsx)(l.code,{children:"uuid:<id>"}),"\uff09\u3002",(0,s.jsx)(l.code,{children:"open"})," \u9700\u8981 ",(0,s.jsx)(l.code,{children:'"*"'}),"\u3002Signal \u6ca1\u6709\u7528\u6237\u540d\uff1b\u4f7f\u7528\u7535\u8bdd/UUID id\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.groupPolicy"}),"\uff1a",(0,s.jsx)(l.code,{children:"open | allowlist | disabled"}),"\uff08\u9ed8\u8ba4\uff1a\u5141\u8bb8\u5217\u8868\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.groupAllowFrom"}),"\uff1a\u7fa4\u7ec4\u53d1\u9001\u8005\u5141\u8bb8\u5217\u8868\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.historyLimit"}),"\uff1a\u4f5c\u4e3a\u4e0a\u4e0b\u6587\u5305\u542b\u7684\u6700\u5927\u7fa4\u7ec4\u6d88\u606f\u6570\uff080 \u7981\u7528\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.dmHistoryLimit"}),"\uff1a\u79c1\u4fe1\u5386\u53f2\u9650\u5236\uff08\u7528\u6237\u56de\u5408\uff09\u3002\u6309\u7528\u6237\u8986\u76d6\uff1a",(0,s.jsx)(l.code,{children:'channels.signal.dms["<phone_or_uuid>"].historyLimit'}),"\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.textChunkLimit"}),"\uff1a\u51fa\u7ad9\u5206\u5757\u5927\u5c0f\uff08\u5b57\u7b26\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.chunkMode"}),"\uff1a",(0,s.jsx)(l.code,{children:"length"}),"\uff08\u9ed8\u8ba4\uff09\u6216 ",(0,s.jsx)(l.code,{children:"newline"})," \u4ee5\u5728\u957f\u5ea6\u5206\u5272\u4e4b\u524d\u6309\u7a7a\u884c\uff08\u6bb5\u843d\u8fb9\u754c\uff09\u5206\u5272\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"channels.signal.mediaMaxMb"}),"\uff1a\u5165\u7ad9/\u51fa\u7ad9\u5a92\u4f53\u4e0a\u9650\uff08MB\uff09\u3002"]}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u76f8\u5173\u5168\u5c40\u9009\u9879\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"agents.list[].groupChat.mentionPatterns"}),"\uff08Signal \u4e0d\u652f\u6301\u539f\u751f\u63d0\u53ca\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"messages.groupChat.mentionPatterns"}),"\uff08\u5168\u5c40\u56de\u9000\uff09\u3002"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"messages.responsePrefix"}),"\u3002"]}),"\n"]})]})}function x(n={}){const{wrapper:l}={...(0,c.R)(),...n.components};return l?(0,s.jsx)(l,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},28453(n,l,e){e.d(l,{R:()=>d,x:()=>r});var i=e(96540);const s={},c=i.createContext(s);function d(n){const l=i.useContext(c);return i.useMemo(function(){return"function"==typeof n?n(l):{...l,...n}},[l,n])}function r(n){let l;return l=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:d(n.components),i.createElement(c.Provider,{value:l},n.children)}}}]);