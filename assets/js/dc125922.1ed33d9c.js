"use strict";(globalThis.webpackChunkdocs_workspace=globalThis.webpackChunkdocs_workspace||[]).push([[9043],{75425(e,o,n){n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>i});const l=JSON.parse('{"id":"cli/approvals","title":"moltbot approvals","description":"\u7ba1\u7406\u672c\u5730\u4e3b\u673a\u3001\u7f51\u5173\u4e3b\u673a\u6216\u8282\u70b9\u4e3b\u673a\u7684 exec \u6279\u51c6\u3002","source":"@site/content/moltbot/docs/cli/approvals.md","sourceDirName":"cli","slug":"/cli/approvals","permalink":"/moltbot-doc/docs/cli/approvals","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"summary":"`moltbot approvals` \u7684 CLI \u53c2\u8003\uff08\u7f51\u5173\u6216\u8282\u70b9\u4e3b\u673a\u7684 exec \u6279\u51c6\uff09","read_when":["\u60a8\u60f3\u4ece CLI \u7f16\u8f91 exec \u6279\u51c6","\u60a8\u9700\u8981\u7ba1\u7406\u7f51\u5173\u6216\u8282\u70b9\u4e3b\u673a\u4e0a\u7684\u5141\u8bb8\u5217\u8868"]},"sidebar":"tutorialSidebar","previous":{"title":"\u8282\u70b9","permalink":"/moltbot-doc/docs/cli/nodes"},"next":{"title":"\u7f51\u5173","permalink":"/moltbot-doc/docs/cli/gateway"}}');var s=n(74848),t=n(28453);const a={summary:"`moltbot approvals` \u7684 CLI \u53c2\u8003\uff08\u7f51\u5173\u6216\u8282\u70b9\u4e3b\u673a\u7684 exec \u6279\u51c6\uff09",read_when:["\u60a8\u60f3\u4ece CLI \u7f16\u8f91 exec \u6279\u51c6","\u60a8\u9700\u8981\u7ba1\u7406\u7f51\u5173\u6216\u8282\u70b9\u4e3b\u673a\u4e0a\u7684\u5141\u8bb8\u5217\u8868"]},r="moltbot approvals",c={},i=[{value:"\u5e38\u7528\u547d\u4ee4",id:"\u5e38\u7528\u547d\u4ee4",level:2},{value:"\u4ece\u6587\u4ef6\u66ff\u6362\u6279\u51c6",id:"\u4ece\u6587\u4ef6\u66ff\u6362\u6279\u51c6",level:2},{value:"\u5141\u8bb8\u5217\u8868\u52a9\u624b",id:"\u5141\u8bb8\u5217\u8868\u52a9\u624b",level:2},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2}];function d(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"moltbot-approvals",children:(0,s.jsx)(o.code,{children:"moltbot approvals"})})}),"\n",(0,s.jsxs)(o.p,{children:["\u7ba1\u7406",(0,s.jsx)(o.strong,{children:"\u672c\u5730\u4e3b\u673a"}),"\u3001",(0,s.jsx)(o.strong,{children:"\u7f51\u5173\u4e3b\u673a"}),"\u6216",(0,s.jsx)(o.strong,{children:"\u8282\u70b9\u4e3b\u673a"}),"\u7684 exec \u6279\u51c6\u3002\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u547d\u4ee4\u9488\u5bf9\u78c1\u76d8\u4e0a\u7684\u672c\u5730\u6279\u51c6\u6587\u4ef6\u3002\u4f7f\u7528 ",(0,s.jsx)(o.code,{children:"--gateway"})," \u9488\u5bf9\u7f51\u5173\uff0c\u6216\u4f7f\u7528 ",(0,s.jsx)(o.code,{children:"--node"})," \u9488\u5bf9\u7279\u5b9a\u8282\u70b9\u3002"]}),"\n",(0,s.jsx)(o.p,{children:"\u76f8\u5173\uff1a"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Exec \u6279\u51c6\uff1a",(0,s.jsx)(o.a,{href:"/tools/exec-approvals",children:"Exec \u6279\u51c6"})]}),"\n",(0,s.jsxs)(o.li,{children:["\u8282\u70b9\uff1a",(0,s.jsx)(o.a,{href:"/nodes",children:"\u8282\u70b9"})]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"\u5e38\u7528\u547d\u4ee4",children:"\u5e38\u7528\u547d\u4ee4"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"moltbot approvals get\nmoltbot approvals get --node <id|name|ip>\nmoltbot approvals get --gateway\n"})}),"\n",(0,s.jsx)(o.h2,{id:"\u4ece\u6587\u4ef6\u66ff\u6362\u6279\u51c6",children:"\u4ece\u6587\u4ef6\u66ff\u6362\u6279\u51c6"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"moltbot approvals set --file ./exec-approvals.json\nmoltbot approvals set --node <id|name|ip> --file ./exec-approvals.json\nmoltbot approvals set --gateway --file ./exec-approvals.json\n"})}),"\n",(0,s.jsx)(o.h2,{id:"\u5141\u8bb8\u5217\u8868\u52a9\u624b",children:"\u5141\u8bb8\u5217\u8868\u52a9\u624b"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:'moltbot approvals allowlist add "~/Projects/**/bin/rg"\nmoltbot approvals allowlist add --agent main --node <id|name|ip> "/usr/bin/uptime"\nmoltbot approvals allowlist add --agent "*" "/usr/bin/uname"\n\nmoltbot approvals allowlist remove "~/Projects/**/bin/rg"\n'})}),"\n",(0,s.jsx)(o.h2,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"--node"})," \u4f7f\u7528\u4e0e ",(0,s.jsx)(o.code,{children:"moltbot nodes"})," \u76f8\u540c\u7684\u89e3\u6790\u5668\uff08id\u3001name\u3001ip \u6216 id \u524d\u7f00\uff09\u3002"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"--agent"})," \u9ed8\u8ba4\u4e3a ",(0,s.jsx)(o.code,{children:'"*"'}),"\uff0c\u5e94\u7528\u4e8e\u6240\u6709\u667a\u80fd\u4f53\u3002"]}),"\n",(0,s.jsxs)(o.li,{children:["\u8282\u70b9\u4e3b\u673a\u5fc5\u987b\u5ba3\u4f20 ",(0,s.jsx)(o.code,{children:"system.execApprovals.get/set"}),"\uff08macOS \u5e94\u7528\u6216\u65e0\u5934\u8282\u70b9\u4e3b\u673a\uff09\u3002"]}),"\n",(0,s.jsxs)(o.li,{children:["\u6279\u51c6\u6587\u4ef6\u6309\u4e3b\u673a\u5b58\u50a8\u5728 ",(0,s.jsx)(o.code,{children:"~/.clawdbot/exec-approvals.json"}),"\u3002"]}),"\n"]})]})}function p(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453(e,o,n){n.d(o,{R:()=>a,x:()=>r});var l=n(96540);const s={},t=l.createContext(s);function a(e){const o=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),l.createElement(t.Provider,{value:o},e.children)}}}]);