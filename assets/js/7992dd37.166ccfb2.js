"use strict";(globalThis.webpackChunkdocs_workspace=globalThis.webpackChunkdocs_workspace||[]).push([[7628],{8491(e,n,s){s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"providers/claude-max-api-proxy","title":"Claude Max API Proxy","description":"claude-max-api-proxy is a community tool that exposes your Claude Max/Pro subscription as an OpenAI-compatible API endpoint. This allows you to use your subscription with any tool that supports the OpenAI API format.","source":"@site/content/moltbot/docs/providers/claude-max-api-proxy.md","sourceDirName":"providers","slug":"/providers/claude-max-api-proxy","permalink":"/moltbot-doc/docs/providers/claude-max-api-proxy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"summary":"Use Claude Max/Pro subscription as an OpenAI-compatible API endpoint","read_when":["You want to use Claude Max subscription with OpenAI-compatible tools","You want a local API server that wraps Claude Code CLI","You want to save money by using subscription instead of API keys"]}}');var o=s(74848),a=s(28453);const i={summary:"Use Claude Max/Pro subscription as an OpenAI-compatible API endpoint",read_when:["You want to use Claude Max subscription with OpenAI-compatible tools","You want a local API server that wraps Claude Code CLI","You want to save money by using subscription instead of API keys"]},l="Claude Max API Proxy",r={},d=[{value:"Why Use This?",id:"why-use-this",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Start the server",id:"start-the-server",level:3},{value:"Test it",id:"test-it",level:3},{value:"With Moltbot",id:"with-moltbot",level:3},{value:"Available Models",id:"available-models",level:2},{value:"Auto-Start on macOS",id:"auto-start-on-macos",level:2},{value:"Links",id:"links",level:2},{value:"Notes",id:"notes",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"claude-max-api-proxy",children:"Claude Max API Proxy"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"claude-max-api-proxy"})," is a community tool that exposes your Claude Max/Pro subscription as an OpenAI-compatible API endpoint. This allows you to use your subscription with any tool that supports the OpenAI API format."]}),"\n",(0,o.jsx)(n.h2,{id:"why-use-this",children:"Why Use This?"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Approach"}),(0,o.jsx)(n.th,{children:"Cost"}),(0,o.jsx)(n.th,{children:"Best For"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Anthropic API"}),(0,o.jsx)(n.td,{children:"Pay per token (~$15/M input, $75/M output for Opus)"}),(0,o.jsx)(n.td,{children:"Production apps, high volume"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Claude Max subscription"}),(0,o.jsx)(n.td,{children:"$200/month flat"}),(0,o.jsx)(n.td,{children:"Personal use, development, unlimited usage"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:"If you have a Claude Max subscription and want to use it with OpenAI-compatible tools, this proxy can save you significant money."}),"\n",(0,o.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Your App \u2192 claude-max-api-proxy \u2192 Claude Code CLI \u2192 Anthropic (via subscription)\n     (OpenAI format)              (converts format)      (uses your login)\n"})}),"\n",(0,o.jsx)(n.p,{children:"The proxy:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Accepts OpenAI-format requests at ",(0,o.jsx)(n.code,{children:"http://localhost:3456/v1/chat/completions"})]}),"\n",(0,o.jsx)(n.li,{children:"Converts them to Claude Code CLI commands"}),"\n",(0,o.jsx)(n.li,{children:"Returns responses in OpenAI format (streaming supported)"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Requires Node.js 20+ and Claude Code CLI\nnpm install -g claude-max-api-proxy\n\n# Verify Claude CLI is authenticated\nclaude --version\n"})}),"\n",(0,o.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(n.h3,{id:"start-the-server",children:"Start the server"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"claude-max-api\n# Server runs at http://localhost:3456\n"})}),"\n",(0,o.jsx)(n.h3,{id:"test-it",children:"Test it"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Health check\ncurl http://localhost:3456/health\n\n# List models\ncurl http://localhost:3456/v1/models\n\n# Chat completion\ncurl http://localhost:3456/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "model": "claude-opus-4",\n    "messages": [{"role": "user", "content": "Hello!"}]\n  }\'\n'})}),"\n",(0,o.jsx)(n.h3,{id:"with-moltbot",children:"With Moltbot"}),"\n",(0,o.jsx)(n.p,{children:"You can point Moltbot at the proxy as a custom OpenAI-compatible endpoint:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json5",children:'{\n  env: {\n    OPENAI_API_KEY: "not-needed",\n    OPENAI_BASE_URL: "http://localhost:3456/v1"\n  },\n  agents: {\n    defaults: {\n      model: { primary: "openai/claude-opus-4" }\n    }\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"available-models",children:"Available Models"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Model ID"}),(0,o.jsx)(n.th,{children:"Maps To"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"claude-opus-4"})}),(0,o.jsx)(n.td,{children:"Claude Opus 4"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"claude-sonnet-4"})}),(0,o.jsx)(n.td,{children:"Claude Sonnet 4"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"claude-haiku-4"})}),(0,o.jsx)(n.td,{children:"Claude Haiku 4"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"auto-start-on-macos",children:"Auto-Start on macOS"}),"\n",(0,o.jsx)(n.p,{children:"Create a LaunchAgent to run the proxy automatically:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'cat > ~/Library/LaunchAgents/com.claude-max-api.plist << \'EOF\'\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n<dict>\n  <key>Label</key>\n  <string>com.claude-max-api</string>\n  <key>RunAtLoad</key>\n  <true/>\n  <key>KeepAlive</key>\n  <true/>\n  <key>ProgramArguments</key>\n  <array>\n    <string>/usr/local/bin/node</string>\n    <string>/usr/local/lib/node_modules/claude-max-api-proxy/dist/server/standalone.js</string>\n  </array>\n  <key>EnvironmentVariables</key>\n  <dict>\n    <key>PATH</key>\n    <string>/usr/local/bin:/opt/homebrew/bin:~/.local/bin:/usr/bin:/bin</string>\n  </dict>\n</dict>\n</plist>\nEOF\n\nlaunchctl bootstrap gui/$(id -u) ~/Library/LaunchAgents/com.claude-max-api.plist\n'})}),"\n",(0,o.jsx)(n.h2,{id:"links",children:"Links"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"npm:"})," ",(0,o.jsx)(n.a,{href:"https://www.npmjs.com/package/claude-max-api-proxy",children:"https://www.npmjs.com/package/claude-max-api-proxy"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"GitHub:"})," ",(0,o.jsx)(n.a,{href:"https://github.com/atalovesyou/claude-max-api-proxy",children:"https://github.com/atalovesyou/claude-max-api-proxy"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Issues:"})," ",(0,o.jsx)(n.a,{href:"https://github.com/atalovesyou/claude-max-api-proxy/issues",children:"https://github.com/atalovesyou/claude-max-api-proxy/issues"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["This is a ",(0,o.jsx)(n.strong,{children:"community tool"}),", not officially supported by Anthropic or Moltbot"]}),"\n",(0,o.jsx)(n.li,{children:"Requires an active Claude Max/Pro subscription with Claude Code CLI authenticated"}),"\n",(0,o.jsx)(n.li,{children:"The proxy runs locally and does not send data to any third-party servers"}),"\n",(0,o.jsx)(n.li,{children:"Streaming responses are fully supported"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/providers/anthropic",children:"Anthropic provider"})," - Native Moltbot integration with Claude setup-token or API keys"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/providers/openai",children:"OpenAI provider"})," - For OpenAI/Codex subscriptions"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453(e,n,s){s.d(n,{R:()=>i,x:()=>l});var t=s(96540);const o={},a=t.createContext(o);function i(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);