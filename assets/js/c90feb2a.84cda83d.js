"use strict";(globalThis.webpackChunkdocs_workspace=globalThis.webpackChunkdocs_workspace||[]).push([[9307],{44796(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"channels/zalouser","title":"Zalo Personal (unofficial)","description":"Status: experimental. This integration automates a personal Zalo account via zca-cli.","source":"@site/content/moltbot/docs/channels/zalouser.md","sourceDirName":"channels","slug":"/channels/zalouser","permalink":"/moltbot-doc/docs/channels/zalouser","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"summary":"Zalo personal account support via zca-cli (QR login), capabilities, and configuration","read_when":["Setting up Zalo Personal for Moltbot","Debugging Zalo Personal login or message flow"]}}');var i=l(74848),o=l(28453);const r={summary:"Zalo personal account support via zca-cli (QR login), capabilities, and configuration",read_when:["Setting up Zalo Personal for Moltbot","Debugging Zalo Personal login or message flow"]},a="Zalo Personal (unofficial)",c={},t=[{value:"Plugin required",id:"plugin-required",level:2},{value:"Prerequisite: zca-cli",id:"prerequisite-zca-cli",level:2},{value:"Quick setup (beginner)",id:"quick-setup-beginner",level:2},{value:"What it is",id:"what-it-is",level:2},{value:"Naming",id:"naming",level:2},{value:"Finding IDs (directory)",id:"finding-ids-directory",level:2},{value:"Limits",id:"limits",level:2},{value:"Access control (DMs)",id:"access-control-dms",level:2},{value:"Group access (optional)",id:"group-access-optional",level:2},{value:"Multi-account",id:"multi-account",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"zalo-personal-unofficial",children:"Zalo Personal (unofficial)"})}),"\n",(0,i.jsxs)(n.p,{children:["Status: experimental. This integration automates a ",(0,i.jsx)(n.strong,{children:"personal Zalo account"})," via ",(0,i.jsx)(n.code,{children:"zca-cli"}),"."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Warning:"})," This is an unofficial integration and may result in account suspension/ban. Use at your own risk."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"plugin-required",children:"Plugin required"}),"\n",(0,i.jsx)(n.p,{children:"Zalo Personal ships as a plugin and is not bundled with the core install."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install via CLI: ",(0,i.jsx)(n.code,{children:"moltbot plugins install @moltbot/zalouser"})]}),"\n",(0,i.jsxs)(n.li,{children:["Or from a source checkout: ",(0,i.jsx)(n.code,{children:"moltbot plugins install ./extensions/zalouser"})]}),"\n",(0,i.jsxs)(n.li,{children:["Details: ",(0,i.jsx)(n.a,{href:"/plugin",children:"Plugins"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"prerequisite-zca-cli",children:"Prerequisite: zca-cli"}),"\n",(0,i.jsxs)(n.p,{children:["The Gateway machine must have the ",(0,i.jsx)(n.code,{children:"zca"})," binary available in ",(0,i.jsx)(n.code,{children:"PATH"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Verify: ",(0,i.jsx)(n.code,{children:"zca --version"})]}),"\n",(0,i.jsxs)(n.li,{children:["If missing, install zca-cli (see ",(0,i.jsx)(n.code,{children:"extensions/zalouser/README.md"})," or the upstream zca-cli docs)."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"quick-setup-beginner",children:"Quick setup (beginner)"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Install the plugin (see above)."}),"\n",(0,i.jsxs)(n.li,{children:["Login (QR, on the Gateway machine):\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"moltbot channels login --channel zalouser"})}),"\n",(0,i.jsx)(n.li,{children:"Scan the QR code in the terminal with the Zalo mobile app."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Enable the channel:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:'{\n  channels: {\n    zalouser: {\n      enabled: true,\n      dmPolicy: "pairing"\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Restart the Gateway (or finish onboarding)."}),"\n",(0,i.jsx)(n.li,{children:"DM access defaults to pairing; approve the pairing code on first contact."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"what-it-is",children:"What it is"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Uses ",(0,i.jsx)(n.code,{children:"zca listen"})," to receive inbound messages."]}),"\n",(0,i.jsxs)(n.li,{children:["Uses ",(0,i.jsx)(n.code,{children:"zca msg ..."})," to send replies (text/media/link)."]}),"\n",(0,i.jsx)(n.li,{children:"Designed for \u201cpersonal account\u201d use cases where Zalo Bot API is not available."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"naming",children:"Naming"}),"\n",(0,i.jsxs)(n.p,{children:["Channel id is ",(0,i.jsx)(n.code,{children:"zalouser"})," to make it explicit this automates a ",(0,i.jsx)(n.strong,{children:"personal Zalo user account"})," (unofficial). We keep ",(0,i.jsx)(n.code,{children:"zalo"})," reserved for a potential future official Zalo API integration."]}),"\n",(0,i.jsx)(n.h2,{id:"finding-ids-directory",children:"Finding IDs (directory)"}),"\n",(0,i.jsx)(n.p,{children:"Use the directory CLI to discover peers/groups and their IDs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'moltbot directory self --channel zalouser\nmoltbot directory peers list --channel zalouser --query "name"\nmoltbot directory groups list --channel zalouser --query "work"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"limits",children:"Limits"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Outbound text is chunked to ~2000 characters (Zalo client limits)."}),"\n",(0,i.jsx)(n.li,{children:"Streaming is blocked by default."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"access-control-dms",children:"Access control (DMs)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"channels.zalouser.dmPolicy"})," supports: ",(0,i.jsx)(n.code,{children:"pairing | allowlist | open | disabled"})," (default: ",(0,i.jsx)(n.code,{children:"pairing"}),").\n",(0,i.jsx)(n.code,{children:"channels.zalouser.allowFrom"})," accepts user IDs or names. The wizard resolves names to IDs via ",(0,i.jsx)(n.code,{children:"zca friend find"})," when available."]}),"\n",(0,i.jsx)(n.p,{children:"Approve via:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"moltbot pairing list zalouser"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"moltbot pairing approve zalouser <code>"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"group-access-optional",children:"Group access (optional)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:'channels.zalouser.groupPolicy = "open"'})," (groups allowed). Use ",(0,i.jsx)(n.code,{children:"channels.defaults.groupPolicy"})," to override the default when unset."]}),"\n",(0,i.jsxs)(n.li,{children:["Restrict to an allowlist with:\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:'channels.zalouser.groupPolicy = "allowlist"'})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"channels.zalouser.groups"})," (keys are group IDs or names)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Block all groups: ",(0,i.jsx)(n.code,{children:'channels.zalouser.groupPolicy = "disabled"'}),"."]}),"\n",(0,i.jsx)(n.li,{children:"The configure wizard can prompt for group allowlists."}),"\n",(0,i.jsx)(n.li,{children:"On startup, Moltbot resolves group/user names in allowlists to IDs and logs the mapping; unresolved entries are kept as typed."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:'{\n  channels: {\n    zalouser: {\n      groupPolicy: "allowlist",\n      groups: {\n        "123456789": { allow: true },\n        "Work Chat": { allow: true }\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"multi-account",children:"Multi-account"}),"\n",(0,i.jsx)(n.p,{children:"Accounts map to zca profiles. Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:'{\n  channels: {\n    zalouser: {\n      enabled: true,\n      defaultAccount: "default",\n      accounts: {\n        work: { enabled: true, profile: "work" }\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"zca"})," not found:"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install zca-cli and ensure it\u2019s on ",(0,i.jsx)(n.code,{children:"PATH"})," for the Gateway process."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Login doesn\u2019t stick:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"moltbot channels status --probe"})}),"\n",(0,i.jsxs)(n.li,{children:["Re-login: ",(0,i.jsx)(n.code,{children:"moltbot channels logout --channel zalouser && moltbot channels login --channel zalouser"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453(e,n,l){l.d(n,{R:()=>r,x:()=>a});var s=l(96540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);