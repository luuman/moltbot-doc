"use strict";(globalThis.webpackChunkdocs_workspace=globalThis.webpackChunkdocs_workspace||[]).push([[2074],{83617(e,n,o){o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>a,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"hooks/soul-evil","title":"SOUL Evil Hook","description":"The SOUL Evil hook swaps the injected SOUL.md content with SOUL_EVIL.md during","source":"@site/content/moltbot/docs/hooks/soul-evil.md","sourceDirName":"hooks","slug":"/hooks/soul-evil","permalink":"/moltbot-doc/docs/hooks/soul-evil","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"summary":"SOUL Evil hook (swap SOUL.md with SOUL_EVIL.md)","read_when":["You want to enable or tune the SOUL Evil hook","You want a purge window or random-chance persona swap"]}}');var r=o(74848),t=o(28453);const i={summary:"SOUL Evil hook (swap SOUL.md with SOUL_EVIL.md)",read_when:["You want to enable or tune the SOUL Evil hook","You want a purge window or random-chance persona swap"]},l="SOUL Evil Hook",d={},c=[{value:"How It Works",id:"how-it-works",level:2},{value:"Enable",id:"enable",level:2},{value:"Options",id:"options",level:2},{value:"Notes",id:"notes",level:2},{value:"See Also",id:"see-also",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"soul-evil-hook",children:"SOUL Evil Hook"})}),"\n",(0,r.jsxs)(n.p,{children:["The SOUL Evil hook swaps the ",(0,r.jsx)(n.strong,{children:"injected"})," ",(0,r.jsx)(n.code,{children:"SOUL.md"})," content with ",(0,r.jsx)(n.code,{children:"SOUL_EVIL.md"})," during\na purge window or by random chance. It does ",(0,r.jsx)(n.strong,{children:"not"})," modify files on disk."]}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsxs)(n.p,{children:["When ",(0,r.jsx)(n.code,{children:"agent:bootstrap"})," runs, the hook can replace the ",(0,r.jsx)(n.code,{children:"SOUL.md"})," content in memory\nbefore the system prompt is assembled. If ",(0,r.jsx)(n.code,{children:"SOUL_EVIL.md"})," is missing or empty,\nMoltbot logs a warning and keeps the normal ",(0,r.jsx)(n.code,{children:"SOUL.md"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Sub-agent runs do ",(0,r.jsx)(n.strong,{children:"not"})," include ",(0,r.jsx)(n.code,{children:"SOUL.md"})," in their bootstrap files, so this hook\nhas no effect on sub-agents."]}),"\n",(0,r.jsx)(n.h2,{id:"enable",children:"Enable"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"moltbot hooks enable soul-evil\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then set the config:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "hooks": {\n    "internal": {\n      "enabled": true,\n      "entries": {\n        "soul-evil": {\n          "enabled": true,\n          "file": "SOUL_EVIL.md",\n          "chance": 0.1,\n          "purge": { "at": "21:00", "duration": "15m" }\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Create ",(0,r.jsx)(n.code,{children:"SOUL_EVIL.md"})," in the agent workspace root (next to ",(0,r.jsx)(n.code,{children:"SOUL.md"}),")."]}),"\n",(0,r.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"file"})," (string): alternate SOUL filename (default: ",(0,r.jsx)(n.code,{children:"SOUL_EVIL.md"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chance"})," (number 0\u20131): random chance per run to use ",(0,r.jsx)(n.code,{children:"SOUL_EVIL.md"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"purge.at"})," (HH:mm): daily purge start (24-hour clock)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"purge.duration"})," (duration): window length (e.g. ",(0,r.jsx)(n.code,{children:"30s"}),", ",(0,r.jsx)(n.code,{children:"10m"}),", ",(0,r.jsx)(n.code,{children:"1h"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Precedence:"})," purge window wins over chance."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Timezone:"})," uses ",(0,r.jsx)(n.code,{children:"agents.defaults.userTimezone"})," when set; otherwise host timezone."]}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No files are written or modified on disk."}),"\n",(0,r.jsxs)(n.li,{children:["If ",(0,r.jsx)(n.code,{children:"SOUL.md"})," is not in the bootstrap list, the hook does nothing."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/hooks",children:"Hooks"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453(e,n,o){o.d(n,{R:()=>i,x:()=>l});var s=o(96540);const r={},t=s.createContext(r);function i(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);