"use strict";(globalThis.webpackChunkdocs_workspace=globalThis.webpackChunkdocs_workspace||[]).push([[1968],{28114(e,n,l){l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"automation/poll","title":"\u6295\u7968","description":"\u652f\u6301\u7684\u6e20\u9053","source":"@site/content/moltbot/docs/automation/poll.md","sourceDirName":"automation","slug":"/automation/poll","permalink":"/moltbot-doc/docs/automation/poll","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"summary":"\u901a\u8fc7\u7f51\u5173 + CLI \u53d1\u9001\u6295\u7968","read_when":["\u6dfb\u52a0\u6216\u4fee\u6539\u6295\u7968\u652f\u6301","\u8c03\u8bd5\u6765\u81ea CLI \u6216\u7f51\u5173\u7684\u6295\u7968\u53d1\u9001"]}}');var s=l(74848),i=l(28453);const c={summary:"\u901a\u8fc7\u7f51\u5173 + CLI \u53d1\u9001\u6295\u7968",read_when:["\u6dfb\u52a0\u6216\u4fee\u6539\u6295\u7968\u652f\u6301","\u8c03\u8bd5\u6765\u81ea CLI \u6216\u7f51\u5173\u7684\u6295\u7968\u53d1\u9001"]},d="\u6295\u7968",t={},r=[{value:"\u652f\u6301\u7684\u6e20\u9053",id:"\u652f\u6301\u7684\u6e20\u9053",level:2},{value:"CLI",id:"cli",level:2},{value:"\u7f51\u5173 RPC",id:"\u7f51\u5173-rpc",level:2},{value:"\u6e20\u9053\u5dee\u5f02",id:"\u6e20\u9053\u5dee\u5f02",level:2},{value:"\u4ee3\u7406\u5de5\u5177\uff08\u6d88\u606f\uff09",id:"\u4ee3\u7406\u5de5\u5177\u6d88\u606f",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u6295\u7968",children:"\u6295\u7968"})}),"\n",(0,s.jsx)(n.h2,{id:"\u652f\u6301\u7684\u6e20\u9053",children:"\u652f\u6301\u7684\u6e20\u9053"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"WhatsApp\uff08\u7f51\u9875\u6e20\u9053\uff09"}),"\n",(0,s.jsx)(n.li,{children:"Discord"}),"\n",(0,s.jsx)(n.li,{children:"MS Teams\uff08\u81ea\u9002\u5e94\u5361\u7247\uff09"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"cli",children:"CLI"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# WhatsApp\nmoltbot message poll --target +15555550123 \\\n  --poll-question "\u4eca\u5929\u5403\u5348\u996d\uff1f" --poll-option "\u662f" --poll-option "\u5426" --poll-option "\u4e5f\u8bb8"\nmoltbot message poll --target 123456789@g.us \\\n  --poll-question "\u4f1a\u8bae\u65f6\u95f4\uff1f" --poll-option "\u4e0a\u534810\u70b9" --poll-option "\u4e0b\u53482\u70b9" --poll-option "\u4e0b\u53484\u70b9" --poll-multi\n\n# Discord\nmoltbot message poll --channel discord --target channel:123456789 \\\n  --poll-question "\u96f6\u98df\uff1f" --poll-option "\u62ab\u8428" --poll-option "\u5bff\u53f8"\nmoltbot message poll --channel discord --target channel:123456789 \\\n  --poll-question "\u8ba1\u5212\uff1f" --poll-option "A" --poll-option "B" --poll-duration-hours 48\n\n# MS Teams\nmoltbot message poll --channel msteams --target conversation:19:abc@thread.tacv2 \\\n  --poll-question "\u5348\u996d\uff1f" --poll-option "\u62ab\u8428" --poll-option "\u5bff\u53f8"\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u9009\u9879\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--channel"}),": ",(0,s.jsx)(n.code,{children:"whatsapp"}),"\uff08\u9ed8\u8ba4\uff09\uff0c",(0,s.jsx)(n.code,{children:"discord"}),"\uff0c\u6216 ",(0,s.jsx)(n.code,{children:"msteams"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--poll-multi"}),": \u5141\u8bb8\u9009\u62e9\u591a\u4e2a\u9009\u9879"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--poll-duration-hours"}),": \u4ec5 Discord\uff08\u7701\u7565\u65f6\u9ed8\u8ba4\u4e3a 24\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u7f51\u5173-rpc",children:"\u7f51\u5173 RPC"}),"\n",(0,s.jsxs)(n.p,{children:["\u65b9\u6cd5\uff1a",(0,s.jsx)(n.code,{children:"poll"})]}),"\n",(0,s.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"to"}),"\uff08\u5b57\u7b26\u4e32\uff0c\u5fc5\u9700\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"question"}),"\uff08\u5b57\u7b26\u4e32\uff0c\u5fc5\u9700\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"options"}),"\uff08\u5b57\u7b26\u4e32[]\uff0c\u5fc5\u9700\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"maxSelections"}),"\uff08\u6570\u5b57\uff0c\u53ef\u9009\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"durationHours"}),"\uff08\u6570\u5b57\uff0c\u53ef\u9009\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"channel"}),"\uff08\u5b57\u7b26\u4e32\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba4\uff1a",(0,s.jsx)(n.code,{children:"whatsapp"}),"\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"idempotencyKey"}),"\uff08\u5b57\u7b26\u4e32\uff0c\u5fc5\u9700\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u6e20\u9053\u5dee\u5f02",children:"\u6e20\u9053\u5dee\u5f02"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["WhatsApp\uff1a2-12 \u4e2a\u9009\u9879\uff0c",(0,s.jsx)(n.code,{children:"maxSelections"})," \u5fc5\u987b\u5728\u9009\u9879\u8ba1\u6570\u8303\u56f4\u5185\uff0c\u5ffd\u7565 ",(0,s.jsx)(n.code,{children:"durationHours"}),"\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:["Discord\uff1a2-10 \u4e2a\u9009\u9879\uff0c",(0,s.jsx)(n.code,{children:"durationHours"})," \u9650\u5236\u4e3a 1-768 \u5c0f\u65f6\uff08\u9ed8\u8ba4 24\uff09\u3002",(0,s.jsx)(n.code,{children:"maxSelections > 1"})," \u542f\u7528\u591a\u9009\uff1bDiscord \u4e0d\u652f\u6301\u4e25\u683c\u7684\u9009\u5b9a\u8ba1\u6570\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:["MS Teams\uff1a\u81ea\u9002\u5e94\u5361\u7247\u6295\u7968\uff08Moltbot \u7ba1\u7406\uff09\u3002\u6ca1\u6709\u672c\u673a\u6295\u7968 API\uff1b\u5ffd\u7565 ",(0,s.jsx)(n.code,{children:"durationHours"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u4ee3\u7406\u5de5\u5177\u6d88\u606f",children:"\u4ee3\u7406\u5de5\u5177\uff08\u6d88\u606f\uff09"}),"\n",(0,s.jsxs)(n.p,{children:["\u4f7f\u7528\u5e26\u6709 ",(0,s.jsx)(n.code,{children:"poll"})," \u64cd\u4f5c\u7684 ",(0,s.jsx)(n.code,{children:"message"})," \u5de5\u5177\uff08",(0,s.jsx)(n.code,{children:"to"}),"\u3001",(0,s.jsx)(n.code,{children:"pollQuestion"}),"\u3001",(0,s.jsx)(n.code,{children:"pollOption"}),"\uff0c\u53ef\u9009 ",(0,s.jsx)(n.code,{children:"pollMulti"}),"\u3001",(0,s.jsx)(n.code,{children:"pollDurationHours"}),"\u3001",(0,s.jsx)(n.code,{children:"channel"}),"\uff09\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:['\u6ce8\u610f\uff1aDiscord \u6ca1\u6709"\u7cbe\u786e\u9009\u62e9 N \u9879"\u6a21\u5f0f\uff1b',(0,s.jsx)(n.code,{children:"pollMulti"})," \u6620\u5c04\u5230\u591a\u9009\u3002\nTeams \u6295\u7968\u6e32\u67d3\u4e3a\u81ea\u9002\u5e94\u5361\u7247\uff0c\u9700\u8981\u7f51\u5173\u4fdd\u6301\u5728\u7ebf\n\u4ee5\u5728 ",(0,s.jsx)(n.code,{children:"~/.clawdbot/msteams-polls.json"})," \u4e2d\u8bb0\u5f55\u6295\u7968\u3002"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453(e,n,l){l.d(n,{R:()=>c,x:()=>d});var o=l(96540);const s={},i=o.createContext(s);function c(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);