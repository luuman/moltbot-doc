"use strict";(globalThis.webpackChunkdocs_workspace=globalThis.webpackChunkdocs_workspace||[]).push([[2186],{86488(n,l,e){e.r(l),e.d(l,{assets:()=>o,contentTitle:()=>d,default:()=>a,frontMatter:()=>t,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"install/installer","title":"\u5b89\u88c5\u7a0b\u5e8f\u5185\u90e8","description":"Moltbot \u63d0\u4f9b\u4e24\u4e2a\u5b89\u88c5\u7a0b\u5e8f\u811a\u672c\uff08\u4ece molt.bot \u63d0\u4f9b\uff09\uff1a","source":"@site/content/moltbot/docs/install/installer.md","sourceDirName":"install","slug":"/install/installer","permalink":"/moltbot-doc/docs/install/installer","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"summary":"\u5b89\u88c5\u7a0b\u5e8f\u811a\u672c\u7684\u5de5\u4f5c\u539f\u7406\uff08install.sh + install-cli.sh\uff09\u3001\u6807\u5fd7\u548c\u81ea\u52a8\u5316","read_when":["\u60a8\u60f3\u4e86\u89e3 `molt.bot/install.sh`","\u60a8\u60f3\u81ea\u52a8\u5316\u5b89\u88c5\uff08CI / \u65e0\u5934\uff09","\u60a8\u60f3\u4ece GitHub \u68c0\u51fa\u5b89\u88c5"]},"sidebar":"tutorialSidebar","previous":{"title":"\u7d22\u5f15","permalink":"/moltbot-doc/docs/install/"},"next":{"title":"\u66f4\u65b0","permalink":"/moltbot-doc/docs/install/updating"}}');var i=e(74848),c=e(28453);const t={summary:"\u5b89\u88c5\u7a0b\u5e8f\u811a\u672c\u7684\u5de5\u4f5c\u539f\u7406\uff08install.sh + install-cli.sh\uff09\u3001\u6807\u5fd7\u548c\u81ea\u52a8\u5316",read_when:["\u60a8\u60f3\u4e86\u89e3 `molt.bot/install.sh`","\u60a8\u60f3\u81ea\u52a8\u5316\u5b89\u88c5\uff08CI / \u65e0\u5934\uff09","\u60a8\u60f3\u4ece GitHub \u68c0\u51fa\u5b89\u88c5"]},d="\u5b89\u88c5\u7a0b\u5e8f\u5185\u90e8",o={},r=[{value:"install.sh\uff08\u63a8\u8350\uff09",id:"installsh\u63a8\u8350",level:2},{value:"\u53ef\u53d1\u73b0\u6027 / \u201cgit \u5b89\u88c5\u201d\u63d0\u793a",id:"\u53ef\u53d1\u73b0\u6027--git-\u5b89\u88c5\u63d0\u793a",level:3},{value:"\u4e3a\u4ec0\u4e48\u9700\u8981 Git",id:"\u4e3a\u4ec0\u4e48\u9700\u8981-git",level:3},{value:"\u4e3a\u4ec0\u4e48 npm \u5728\u65b0 Linux \u4e0a\u9047\u5230 <code>EACCES</code>",id:"\u4e3a\u4ec0\u4e48-npm-\u5728\u65b0-linux-\u4e0a\u9047\u5230-eacces",level:3},{value:"install-cli.sh\uff08\u975e root CLI \u5b89\u88c5\u7a0b\u5e8f\uff09",id:"install-clish\u975e-root-cli-\u5b89\u88c5\u7a0b\u5e8f",level:2},{value:"install.ps1\uff08Windows PowerShell\uff09",id:"installps1windows-powershell",level:2}];function h(n){const l={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.header,{children:(0,i.jsx)(l.h1,{id:"\u5b89\u88c5\u7a0b\u5e8f\u5185\u90e8",children:"\u5b89\u88c5\u7a0b\u5e8f\u5185\u90e8"})}),"\n",(0,i.jsxs)(l.p,{children:["Moltbot \u63d0\u4f9b\u4e24\u4e2a\u5b89\u88c5\u7a0b\u5e8f\u811a\u672c\uff08\u4ece ",(0,i.jsx)(l.code,{children:"molt.bot"})," \u63d0\u4f9b\uff09\uff1a"]}),"\n",(0,i.jsxs)(l.ul,{children:["\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.code,{children:"https://molt.bot/install.sh"})," \u2014 \u201c\u63a8\u8350\u201d\u5b89\u88c5\u7a0b\u5e8f\uff08\u9ed8\u8ba4\u5168\u5c40 npm \u5b89\u88c5\uff1b\u4e5f\u53ef\u4ee5\u4ece GitHub \u68c0\u51fa\u5b89\u88c5\uff09"]}),"\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.code,{children:"https://molt.bot/install-cli.sh"})," \u2014 \u975e root \u7528\u6237\u53cb\u597d\u7684 CLI \u5b89\u88c5\u7a0b\u5e8f\uff08\u5b89\u88c5\u5230\u524d\u7f00\u76ee\u5f55\u5e76\u81ea\u5e26 Node\uff09"]}),"\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.code,{children:"https://molt.bot/install.ps1"})," \u2014 Windows PowerShell \u5b89\u88c5\u7a0b\u5e8f\uff08\u9ed8\u8ba4 npm\uff1b\u53ef\u9009 git \u5b89\u88c5\uff09"]}),"\n"]}),"\n",(0,i.jsx)(l.p,{children:"\u8981\u67e5\u770b\u5f53\u524d\u6807\u5fd7/\u884c\u4e3a\uff0c\u8bf7\u8fd0\u884c\uff1a"}),"\n",(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-bash",children:"curl -fsSL https://molt.bot/install.sh | bash -s -- --help\n"})}),"\n",(0,i.jsx)(l.p,{children:"Windows\uff08PowerShell\uff09\u5e2e\u52a9\uff1a"}),"\n",(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-powershell",children:"& ([scriptblock]::Create((iwr -useb https://molt.bot/install.ps1))) -?\n"})}),"\n",(0,i.jsxs)(l.p,{children:["\u5982\u679c\u5b89\u88c5\u7a0b\u5e8f\u5b8c\u6210\u4f46\u5728\u65b0\u7ec8\u7aef\u4e2d\u627e\u4e0d\u5230 ",(0,i.jsx)(l.code,{children:"moltbot"}),"\uff0c\u901a\u5e38\u662f Node/npm PATH \u95ee\u9898\u3002\u53c2\u89c1\uff1a",(0,i.jsx)(l.a,{href:"/install#nodejs--npm-path-sanity",children:"\u5b89\u88c5"}),"\u3002"]}),"\n",(0,i.jsx)(l.h2,{id:"installsh\u63a8\u8350",children:"install.sh\uff08\u63a8\u8350\uff09"}),"\n",(0,i.jsx)(l.p,{children:"\u5b83\u7684\u4f5c\u7528\uff08\u9ad8\u5c42\u7ea7\uff09\uff1a"}),"\n",(0,i.jsxs)(l.ul,{children:["\n",(0,i.jsx)(l.li,{children:"\u68c0\u6d4b\u64cd\u4f5c\u7cfb\u7edf\uff08macOS / Linux / WSL\uff09\u3002"}),"\n",(0,i.jsxs)(l.li,{children:["\u786e\u4fdd Node.js ",(0,i.jsx)(l.strong,{children:"22+"}),"\uff08macOS \u901a\u8fc7 Homebrew\uff1bLinux \u901a\u8fc7 NodeSource\uff09\u3002"]}),"\n",(0,i.jsxs)(l.li,{children:["\u9009\u62e9\u5b89\u88c5\u65b9\u6cd5\uff1a\n",(0,i.jsxs)(l.ul,{children:["\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.code,{children:"npm"}),"\uff08\u9ed8\u8ba4\uff09\uff1a",(0,i.jsx)(l.code,{children:"npm install -g moltbot@latest"})]}),"\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.code,{children:"git"}),"\uff1a\u514b\u9686/\u6784\u5efa\u6e90\u4ee3\u7801\u68c0\u51fa\u5e76\u5b89\u88c5\u5305\u88c5\u811a\u672c"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(l.li,{children:["\u5728 Linux \u4e0a\uff1a\u901a\u8fc7\u5728\u9700\u8981\u65f6\u5c06 npm \u7684\u524d\u7f00\u5207\u6362\u5230 ",(0,i.jsx)(l.code,{children:"~/.npm-global"})," \u6765\u907f\u514d\u5168\u5c40 npm \u6743\u9650\u9519\u8bef\u3002"]}),"\n",(0,i.jsxs)(l.li,{children:["\u5982\u679c\u5347\u7ea7\u73b0\u6709\u5b89\u88c5\uff1a\u8fd0\u884c ",(0,i.jsx)(l.code,{children:"moltbot doctor --non-interactive"}),"\uff08\u5c3d\u529b\u800c\u4e3a\uff09\u3002"]}),"\n",(0,i.jsxs)(l.li,{children:["\u5bf9\u4e8e git \u5b89\u88c5\uff1a\u5728\u5b89\u88c5/\u66f4\u65b0\u540e\u8fd0\u884c ",(0,i.jsx)(l.code,{children:"moltbot doctor --non-interactive"}),"\uff08\u5c3d\u529b\u800c\u4e3a\uff09\u3002"]}),"\n",(0,i.jsxs)(l.li,{children:["\u901a\u8fc7\u9ed8\u8ba4\u8bbe\u7f6e ",(0,i.jsx)(l.code,{children:"SHARP_IGNORE_GLOBAL_LIBVIPS=1"})," \u51cf\u8f7b ",(0,i.jsx)(l.code,{children:"sharp"})," \u672c\u5730\u5b89\u88c5\u9677\u9631\uff08\u907f\u514d\u9488\u5bf9\u7cfb\u7edf libvips \u6784\u5efa\uff09\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(l.p,{children:["\u5982\u679c\u60a8",(0,i.jsx)(l.em,{children:"\u5e0c\u671b"})," ",(0,i.jsx)(l.code,{children:"sharp"})," \u94fe\u63a5\u5230\u5168\u5c40\u5b89\u88c5\u7684 libvips\uff08\u6216\u60a8\u6b63\u5728\u8c03\u8bd5\uff09\uff0c\u8bf7\u8bbe\u7f6e\uff1a"]}),"\n",(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-bash",children:"SHARP_IGNORE_GLOBAL_LIBVIPS=0 curl -fsSL https://molt.bot/install.sh | bash\n"})}),"\n",(0,i.jsx)(l.h3,{id:"\u53ef\u53d1\u73b0\u6027--git-\u5b89\u88c5\u63d0\u793a",children:"\u53ef\u53d1\u73b0\u6027 / \u201cgit \u5b89\u88c5\u201d\u63d0\u793a"}),"\n",(0,i.jsxs)(l.p,{children:["\u5982\u679c\u60a8\u5728",(0,i.jsx)(l.strong,{children:"\u5df2\u7ecf\u5904\u4e8e Moltbot \u6e90\u4ee3\u7801\u68c0\u51fa"}),"\uff08\u901a\u8fc7 ",(0,i.jsx)(l.code,{children:"package.json"})," + ",(0,i.jsx)(l.code,{children:"pnpm-workspace.yaml"})," \u68c0\u6d4b\uff09\u4e2d\u8fd0\u884c\u5b89\u88c5\u7a0b\u5e8f\uff0c\u5b83\u4f1a\u63d0\u793a\uff1a"]}),"\n",(0,i.jsxs)(l.ul,{children:["\n",(0,i.jsxs)(l.li,{children:["\u66f4\u65b0\u5e76\u4f7f\u7528\u6b64\u68c0\u51fa\uff08",(0,i.jsx)(l.code,{children:"git"}),"\uff09"]}),"\n",(0,i.jsxs)(l.li,{children:["\u6216\u8fc1\u79fb\u5230\u5168\u5c40 npm \u5b89\u88c5\uff08",(0,i.jsx)(l.code,{children:"npm"}),"\uff09"]}),"\n"]}),"\n",(0,i.jsxs)(l.p,{children:["\u5728\u975e\u4ea4\u4e92\u5f0f\u4e0a\u4e0b\u6587\uff08\u65e0 TTY / ",(0,i.jsx)(l.code,{children:"--no-prompt"}),"\uff09\u4e2d\uff0c\u60a8\u5fc5\u987b\u4f20\u9012 ",(0,i.jsx)(l.code,{children:"--install-method git|npm"}),"\uff08\u6216\u8bbe\u7f6e ",(0,i.jsx)(l.code,{children:"CLAWDBOT_INSTALL_METHOD"}),"\uff09\uff0c\u5426\u5219\u811a\u672c\u4ee5\u4ee3\u7801 ",(0,i.jsx)(l.code,{children:"2"})," \u9000\u51fa\u3002"]}),"\n",(0,i.jsx)(l.h3,{id:"\u4e3a\u4ec0\u4e48\u9700\u8981-git",children:"\u4e3a\u4ec0\u4e48\u9700\u8981 Git"}),"\n",(0,i.jsxs)(l.p,{children:[(0,i.jsx)(l.code,{children:"--install-method git"})," \u8def\u5f84\u9700\u8981 Git\uff08\u514b\u9686 / \u62c9\u53d6\uff09\u3002"]}),"\n",(0,i.jsxs)(l.p,{children:["\u5bf9\u4e8e ",(0,i.jsx)(l.code,{children:"npm"})," \u5b89\u88c5\uff0cGit ",(0,i.jsx)(l.em,{children:"\u901a\u5e38"})," \u4e0d\u9700\u8981\uff0c\u4f46\u67d0\u4e9b\u73af\u5883\u4ecd\u9700\u8981\u5b83\uff08\u4f8b\u5982\u5f53\u5305\u6216\u4f9d\u8d56\u9879\u901a\u8fc7 git URL \u83b7\u53d6\u65f6\uff09\u3002\u5b89\u88c5\u7a0b\u5e8f\u5f53\u524d\u786e\u4fdd Git \u5b58\u5728\u4ee5\u907f\u514d\u5728\u65b0\u53d1\u884c\u7248\u4e0a\u51fa\u73b0 ",(0,i.jsx)(l.code,{children:"spawn git ENOENT"})," \u610f\u5916\u3002"]}),"\n",(0,i.jsxs)(l.h3,{id:"\u4e3a\u4ec0\u4e48-npm-\u5728\u65b0-linux-\u4e0a\u9047\u5230-eacces",children:["\u4e3a\u4ec0\u4e48 npm \u5728\u65b0 Linux \u4e0a\u9047\u5230 ",(0,i.jsx)(l.code,{children:"EACCES"})]}),"\n",(0,i.jsxs)(l.p,{children:["\u5728\u4e00\u4e9b Linux \u8bbe\u7f6e\u4e0a\uff08\u7279\u522b\u662f\u5728\u901a\u8fc7\u7cfb\u7edf\u5305\u7ba1\u7406\u5668\u6216 NodeSource \u5b89\u88c5 Node \u540e\uff09\uff0cnpm \u7684\u5168\u5c40\u524d\u7f00\u6307\u5411\u7531 root \u62e5\u6709\u7684\u4f4d\u7f6e\u3002\u7136\u540e ",(0,i.jsx)(l.code,{children:"npm install -g ..."})," \u5931\u8d25\u5e76\u663e\u793a ",(0,i.jsx)(l.code,{children:"EACCES"})," / ",(0,i.jsx)(l.code,{children:"mkdir"})," \u6743\u9650\u9519\u8bef\u3002"]}),"\n",(0,i.jsxs)(l.p,{children:[(0,i.jsx)(l.code,{children:"install.sh"})," \u901a\u8fc7\u5c06\u524d\u7f00\u5207\u6362\u5230\u4ee5\u4e0b\u4f4d\u7f6e\u6765\u7f13\u89e3\u6b64\u95ee\u9898\uff1a"]}),"\n",(0,i.jsxs)(l.ul,{children:["\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.code,{children:"~/.npm-global"}),"\uff08\u5e76\u5728\u5b58\u5728\u65f6\u5c06\u5176\u6dfb\u52a0\u5230 ",(0,i.jsx)(l.code,{children:"~/.bashrc"})," / ",(0,i.jsx)(l.code,{children:"~/.zshrc"})," \u4e2d\u7684 ",(0,i.jsx)(l.code,{children:"PATH"}),"\uff09"]}),"\n"]}),"\n",(0,i.jsx)(l.h2,{id:"install-clish\u975e-root-cli-\u5b89\u88c5\u7a0b\u5e8f",children:"install-cli.sh\uff08\u975e root CLI \u5b89\u88c5\u7a0b\u5e8f\uff09"}),"\n",(0,i.jsxs)(l.p,{children:["\u6b64\u811a\u672c\u5c06 ",(0,i.jsx)(l.code,{children:"moltbot"})," \u5b89\u88c5\u5230\u524d\u7f00\uff08\u9ed8\u8ba4\uff1a",(0,i.jsx)(l.code,{children:"~/.clawdbot"}),"\uff09\u5e76\u5728\u8be5\u524d\u7f00\u4e0b\u5b89\u88c5\u4e13\u7528\u7684 Node \u8fd0\u884c\u65f6\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728\u4e0d\u60f3\u89e6\u6478\u7cfb\u7edf Node/npm \u7684\u673a\u5668\u4e0a\u5de5\u4f5c\u3002"]}),"\n",(0,i.jsx)(l.p,{children:"\u5e2e\u52a9\uff1a"}),"\n",(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-bash",children:"curl -fsSL https://molt.bot/install-cli.sh | bash -s -- --help\n"})}),"\n",(0,i.jsx)(l.h2,{id:"installps1windows-powershell",children:"install.ps1\uff08Windows PowerShell\uff09"}),"\n",(0,i.jsx)(l.p,{children:"\u5b83\u7684\u4f5c\u7528\uff08\u9ad8\u5c42\u7ea7\uff09\uff1a"}),"\n",(0,i.jsxs)(l.ul,{children:["\n",(0,i.jsxs)(l.li,{children:["\u786e\u4fdd Node.js ",(0,i.jsx)(l.strong,{children:"22+"}),"\uff08winget/Chocolatey/Scoop \u6216\u624b\u52a8\uff09\u3002"]}),"\n",(0,i.jsxs)(l.li,{children:["\u9009\u62e9\u5b89\u88c5\u65b9\u6cd5\uff1a\n",(0,i.jsxs)(l.ul,{children:["\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.code,{children:"npm"}),"\uff08\u9ed8\u8ba4\uff09\uff1a",(0,i.jsx)(l.code,{children:"npm install -g moltbot@latest"})]}),"\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.code,{children:"git"}),"\uff1a\u514b\u9686/\u6784\u5efa\u6e90\u4ee3\u7801\u68c0\u51fa\u5e76\u5b89\u88c5\u5305\u88c5\u811a\u672c"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(l.li,{children:["\u5728\u5347\u7ea7\u548c git \u5b89\u88c5\u65f6\u8fd0\u884c ",(0,i.jsx)(l.code,{children:"moltbot doctor --non-interactive"}),"\uff08\u5c3d\u529b\u800c\u4e3a\uff09\u3002"]}),"\n"]}),"\n",(0,i.jsx)(l.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-powershell",children:"iwr -useb https://molt.bot/install.ps1 | iex\n"})}),"\n",(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-powershell",children:"iwr -useb https://molt.bot/install.ps1 | iex -InstallMethod git\n"})}),"\n",(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-powershell",children:'iwr -useb https://molt.bot/install.ps1 | iex -InstallMethod git -GitDir "C:\\\\moltbot"\n'})}),"\n",(0,i.jsx)(l.p,{children:"\u73af\u5883\u53d8\u91cf\uff1a"}),"\n",(0,i.jsxs)(l.ul,{children:["\n",(0,i.jsx)(l.li,{children:(0,i.jsx)(l.code,{children:"CLAWDBOT_INSTALL_METHOD=git|npm"})}),"\n",(0,i.jsx)(l.li,{children:(0,i.jsx)(l.code,{children:"CLAWDBOT_GIT_DIR=..."})}),"\n"]}),"\n",(0,i.jsx)(l.p,{children:"Git \u8981\u6c42\uff1a"}),"\n",(0,i.jsxs)(l.p,{children:["\u5982\u679c\u60a8\u9009\u62e9 ",(0,i.jsx)(l.code,{children:"-InstallMethod git"})," \u4e14 Git \u7f3a\u5931\uff0c\u5b89\u88c5\u7a0b\u5e8f\u5c06\u6253\u5370\nGit for Windows \u94fe\u63a5\uff08",(0,i.jsx)(l.code,{children:"https://git-scm.com/download/win"}),"\uff09\u5e76\u9000\u51fa\u3002"]}),"\n",(0,i.jsx)(l.p,{children:"\u5e38\u89c1 Windows \u95ee\u9898\uff1a"}),"\n",(0,i.jsxs)(l.ul,{children:["\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.strong,{children:"npm error spawn git / ENOENT"}),"\uff1a\u5b89\u88c5 Git for Windows \u5e76\u91cd\u65b0\u6253\u5f00 PowerShell\uff0c\u7136\u540e\u91cd\u65b0\u8fd0\u884c\u5b89\u88c5\u7a0b\u5e8f\u3002"]}),"\n",(0,i.jsxs)(l.li,{children:[(0,i.jsx)(l.strong,{children:'"moltbot" is not recognized'}),"\uff1a\u60a8\u7684 npm \u5168\u5c40 bin \u6587\u4ef6\u5939\u4e0d\u5728 PATH \u4e2d\u3002\u5927\u591a\u6570\u7cfb\u7edf\u4f7f\u7528\n",(0,i.jsx)(l.code,{children:"%AppData%\\\\npm"}),"\u3002\u60a8\u4e5f\u53ef\u4ee5\u8fd0\u884c ",(0,i.jsx)(l.code,{children:"npm config get prefix"})," \u5e76\u5c06 ",(0,i.jsx)(l.code,{children:"\\\\bin"})," \u6dfb\u52a0\u5230 PATH\uff0c\u7136\u540e\u91cd\u65b0\u6253\u5f00 PowerShell\u3002"]}),"\n"]})]})}function a(n={}){const{wrapper:l}={...(0,c.R)(),...n.components};return l?(0,i.jsx)(l,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},28453(n,l,e){e.d(l,{R:()=>t,x:()=>d});var s=e(96540);const i={},c=s.createContext(i);function t(n){const l=s.useContext(c);return s.useMemo(function(){return"function"==typeof n?n(l):{...l,...n}},[l,n])}function d(n){let l;return l=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),s.createElement(c.Provider,{value:l},n.children)}}}]);