---
title: 在 Railway 上部署
---

使用一键模板在 Railway 上部署 Moltbot，并在浏览器中完成设置。
这是最简单的“服务器上无终端”路径：Railway 为您运行网关，
您通过 `/setup` 网页向导配置一切。

## 快速检查清单（新用户）

1) 点击 **在 Railway 上部署**（下方）。
2) 添加挂载在 `/data` 的 **卷**。
3) 设置必需的 **变量**（至少 `SETUP_PASSWORD`）。
4) 在端口 `8080` 上启用 **HTTP 代理**。
5) 打开 `https://<your-railway-domain>/setup` 并完成向导。

## 一键部署

<a href="https://railway.com/deploy/moltbot-railway-template" target="_blank" rel="noreferrer">在 Railway 上部署</a>

部署后，在 **Railway → 您的服务 → 设置 → 域名** 中找到您的公共 URL。

Railway 将会：
- 给您一个生成的域名（通常是 `https://<something>.up.railway.app`），或
- 使用您附加的自定义域名。

然后打开：

- `https://<your-railway-domain>/setup` — 设置向导（密码保护）
- `https://<your-railway-domain>/moltbot` — 控制 UI

## 您得到的

- 托管的 Moltbot 网关 + 控制 UI
- `/setup` 的网页设置向导（无终端命令）
- 通过 Railway 卷（`/data`）的持久存储，因此配置/凭证/工作区在重新部署后依然存在
- 在 `/setup/export` 的备份导出，以便以后迁移到其他主机

## 必需的 Railway 设置

### 公共网络

为服务启用 **HTTP 代理**。

- 端口：`8080`

### 卷（必需）

附加挂载在以下位置的卷：

- `/data`

### 变量

在服务上设置这些变量：

- `SETUP_PASSWORD`（必需）
- `PORT=8080`（必需 — 必须与公共网络中的端口匹配）
- `CLAWDBOT_STATE_DIR=/data/.clawdbot`（推荐）
- `CLAWDBOT_WORKSPACE_DIR=/data/workspace`（推荐）
- `CLAWDBOT_GATEWAY_TOKEN`（推荐；作为管理员密钥对待）

## 设置流程

1) 访问 `https://<your-railway-domain>/setup` 并输入您的 `SETUP_PASSWORD`。
2) 选择模型/认证提供者并粘贴您的密钥。
3) （可选）添加 Telegram/Discord/Slack 令牌。
4) 点击 **运行设置**。

如果 Telegram 私信设置为配对，设置向导可以批准配对码。

## 获取聊天令牌

### Telegram 机器人令牌

1) 在 Telegram 中给 `@BotFather` 发消息
2) 运行 `/newbot`
3) 复制令牌（看起来像 `123456789:AA...`）
4) 粘贴到 `/setup` 中

### Discord 机器人令牌

1) 前往 https://discord.com/developers/applications
2) **新建应用程序** → 选择名称
3) **机器人** → **添加机器人**
4) 在机器人 → 特权网关意图下启用 **启用消息内容意图**（必需，否则机器人将在启动时崩溃）
5) 复制 **机器人令牌** 并粘贴到 `/setup`
6) 邀请机器人到您的服务器（OAuth2 URL 生成器；范围：`bot`，`applications.commands`）

## 备份和迁移

在以下位置下载备份：

- `https://<your-railway-domain>/setup/export`

这会导出您的 Moltbot 状态 + 工作区，因此您可以迁移到另一台主机而不丢失配置或记忆。