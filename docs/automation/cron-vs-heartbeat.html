<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-automation/cron-vs-heartbeat" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Cron 与心跳：何时使用哪个 | Moltbot Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://luuman.github.io/moltbot-doc/docs/automation/cron-vs-heartbeat"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cron 与心跳：何时使用哪个 | Moltbot Docs"><meta data-rh="true" name="description" content="心跳和 cron 作业都可以让您按计划运行任务。本指南帮助您为您的用例选择合适的机制。"><meta data-rh="true" property="og:description" content="心跳和 cron 作业都可以让您按计划运行任务。本指南帮助您为您的用例选择合适的机制。"><link data-rh="true" rel="icon" href="/moltbot-doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://luuman.github.io/moltbot-doc/docs/automation/cron-vs-heartbeat"><link data-rh="true" rel="alternate" href="https://luuman.github.io/moltbot-doc/docs/automation/cron-vs-heartbeat" hreflang="zh"><link data-rh="true" rel="alternate" href="https://luuman.github.io/moltbot-doc/docs/automation/cron-vs-heartbeat" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"定时任务 vs 心跳","item":"https://luuman.github.io/moltbot-doc/docs/automation/cron-vs-heartbeat"}]}</script><link rel="alternate" type="application/rss+xml" href="/moltbot-doc/blog/rss.xml" title="Moltbot Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/moltbot-doc/blog/atom.xml" title="Moltbot Docs Atom Feed"><link rel="stylesheet" href="/moltbot-doc/assets/css/styles.484b4c98.css">
<script src="/moltbot-doc/assets/js/runtime~main.6cf495cf.js" defer="defer"></script>
<script src="/moltbot-doc/assets/js/main.f9205183.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbar_MONK" role="navigation" aria-label="Main"><div class="navbarInner_ASTH"><div class="navbarLeft_pUmY"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="brand_SXL9" href="/moltbot-doc/"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" rx="6" fill="var(--ifm-color-primary)"></rect><path d="M7 8.5h10M7 12h7M7 15.5h10" stroke="white" stroke-width="1.8" stroke-linecap="round"></path></svg><span class="brandTitle_XbyU">Moltbot</span></a><div class="dropdown_GrgZ"><button class="dropdownToggle_Nf_z">全部站点<svg class="dropdownArrow_Eka8" viewBox="0 0 12 12" fill="none"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><ul class="dropdownMenu_zsxH"><li><a href="https://luuman.github.io/docs-workspace/docs" class="dropdownMenuItem_VBaP">Workspace</a></li><li><a href="https://luuman.github.io/claude-doc/docs" class="dropdownMenuItem_VBaP">Claude</a></li><li><a href="https://luuman.github.io/electron-doc/docs" class="dropdownMenuItem_VBaP">Electron</a></li><li><a href="https://luuman.github.io/tauri-doc/docs" class="dropdownMenuItem_VBaP">Tauri</a></li><li><a href="https://luuman.github.io/matrx-doc/docs" class="dropdownMenuItem_VBaP">Matrx</a></li><li><a href="https://luuman.github.io/brainboard-doc/docs" class="dropdownMenuItem_VBaP">Brainboard</a></li><li><a href="https://luuman.github.io/synology-doc/docs" class="dropdownMenuItem_VBaP">Synology</a></li><li><a href="https://luuman.github.io/codex-doc/docs" class="dropdownMenuItem_VBaP">Codex</a></li><li><a href="https://luuman.github.io/ai-doc/docs" class="dropdownMenuItem_VBaP">AI</a></li></ul></div></div><div class="navbarCenter_Zdr3"><div class="root_OF3s"><span class="icon_UcOK" aria-hidden="true"><svg viewBox="0 0 24 24" fill="currentColor" width="15" height="15"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg></span><div class="slot__FGx"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div class="navbarRight_q16u"><a class="navLink_RnnM" href="/moltbot-doc/docs">Docs</a><a class="navLink_RnnM" href="/moltbot-doc/blog">Blog</a><button class="themeToggle_zD_x" aria-label="Switch to light theme" title="Light"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg></button></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs"><span title="从这里开始" class="categoryLinkLabel_W154">从这里开始</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs"><span title="索引" class="linkLabel_WmDU">索引</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/start/getting-started"><span title="快速入门" class="linkLabel_WmDU">快速入门</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/start/wizard"><span title="向导" class="linkLabel_WmDU">向导</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/start/setup"><span title="设置" class="linkLabel_WmDU">设置</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/start/pairing"><span title="配对" class="linkLabel_WmDU">配对</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/start/clawd"><span title="Clawd" class="linkLabel_WmDU">Clawd</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/start/showcase"><span title="功能展示" class="linkLabel_WmDU">功能展示</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/start/hubs"><span title="中心节点" class="linkLabel_WmDU">中心节点</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/start/onboarding"><span title="初始引导" class="linkLabel_WmDU">初始引导</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/start/lore"><span title="背景设定" class="linkLabel_WmDU">背景设定</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs/help"><span title="帮助" class="categoryLinkLabel_W154">帮助</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/help"><span title="索引" class="linkLabel_WmDU">索引</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/help/troubleshooting"><span title="故障排除" class="linkLabel_WmDU">故障排除</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/help/faq"><span title="常见问题" class="linkLabel_WmDU">常见问题</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs/install"><span title="安装与更新" class="categoryLinkLabel_W154">安装与更新</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/install"><span title="索引" class="linkLabel_WmDU">索引</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/install/installer"><span title="安装程序" class="linkLabel_WmDU">安装程序</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/install/updating"><span title="更新" class="linkLabel_WmDU">更新</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/install/development-channels"><span title="开发频道" class="linkLabel_WmDU">开发频道</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/install/uninstall"><span title="卸载" class="linkLabel_WmDU">卸载</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/install/ansible"><span title="Ansible" class="linkLabel_WmDU">Ansible</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/install/nix"><span title="Nix" class="linkLabel_WmDU">Nix</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/install/docker"><span title="Docker" class="linkLabel_WmDU">Docker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/railway"><span title="部署到 Railway" class="linkLabel_WmDU">部署到 Railway</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/render"><span title="部署到 Render" class="linkLabel_WmDU">部署到 Render</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/northflank"><span title="部署到 Northflank" class="linkLabel_WmDU">部署到 Northflank</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/install/bun"><span title="Bun" class="linkLabel_WmDU">Bun</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs/cli"><span title="命令行界面 (CLI)" class="categoryLinkLabel_W154">命令行界面 (CLI)</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli"><span title="索引" class="linkLabel_WmDU">索引</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/setup"><span title="设置" class="linkLabel_WmDU">设置</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/onboard"><span title="初始引导" class="linkLabel_WmDU">初始引导</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/configure"><span title="配置" class="linkLabel_WmDU">配置</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/doctor"><span title="系统诊断" class="linkLabel_WmDU">系统诊断</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/dashboard"><span title="仪表板" class="linkLabel_WmDU">仪表板</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/reset"><span title="重置" class="linkLabel_WmDU">重置</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/uninstall"><span title="卸载" class="linkLabel_WmDU">卸载</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/browser"><span title="浏览器" class="linkLabel_WmDU">浏览器</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/message"><span title="消息" class="linkLabel_WmDU">消息</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/agent"><span title="代理" class="linkLabel_WmDU">代理</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/agents"><span title="代理列表" class="linkLabel_WmDU">代理列表</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/status"><span title="状态" class="linkLabel_WmDU">状态</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/health"><span title="健康状态" class="linkLabel_WmDU">健康状态</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/sessions"><span title="会话" class="linkLabel_WmDU">会话</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/channels"><span title="频道" class="linkLabel_WmDU">频道</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/directory"><span title="目录" class="linkLabel_WmDU">目录</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/skills"><span title="技能" class="linkLabel_WmDU">技能</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/plugins"><span title="插件" class="linkLabel_WmDU">插件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/memory"><span title="内存" class="linkLabel_WmDU">内存</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/models"><span title="模型" class="linkLabel_WmDU">模型</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/logs"><span title="日志" class="linkLabel_WmDU">日志</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/system"><span title="系统" class="linkLabel_WmDU">系统</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/nodes"><span title="节点" class="linkLabel_WmDU">节点</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/approvals"><span title="审批" class="linkLabel_WmDU">审批</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/gateway"><span title="网关" class="linkLabel_WmDU">网关</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/tui"><span title="文本用户界面" class="linkLabel_WmDU">文本用户界面</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/voicecall"><span title="语音通话" class="linkLabel_WmDU">语音通话</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/cron"><span title="定时任务" class="linkLabel_WmDU">定时任务</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/dns"><span title="域名系统" class="linkLabel_WmDU">域名系统</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/docs"><span title="文档" class="linkLabel_WmDU">文档</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/hooks"><span title="钩子" class="linkLabel_WmDU">钩子</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/pairing"><span title="配对" class="linkLabel_WmDU">配对</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/security"><span title="安全" class="linkLabel_WmDU">安全</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/update"><span title="更新" class="linkLabel_WmDU">更新</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/cli/sandbox"><span title="沙盒命令行界面" class="linkLabel_WmDU">沙盒命令行界面</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs/concepts/architecture"><span title="核心概念" class="categoryLinkLabel_W154">核心概念</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/concepts/architecture"><span title="架构" class="linkLabel_WmDU">架构</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/concepts/agent"><span title="代理" class="linkLabel_WmDU">代理</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/concepts/agent-loop"><span title="代理循环" class="linkLabel_WmDU">代理循环</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/concepts/agent-workspace"><span title="代理工作空间" class="linkLabel_WmDU">代理工作空间</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/concepts/session"><span title="会话" class="linkLabel_WmDU">会话</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/concepts/session-pruning"><span title="会话清理" class="linkLabel_WmDU">会话清理</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/concepts/session-tool"><span title="会话工具" class="linkLabel_WmDU">会话工具</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/concepts/model-providers"><span title="模型提供商" class="linkLabel_WmDU">模型提供商</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/concepts/model-failover"><span title="模型故障转移" class="linkLabel_WmDU">模型故障转移</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs/gateway/configuration"><span title="网关运维" class="categoryLinkLabel_W154">网关运维</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/gateway/configuration"><span title="配置" class="linkLabel_WmDU">配置</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/gateway/configuration-examples"><span title="配置示例" class="linkLabel_WmDU">配置示例</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/gateway/remote"><span title="远程" class="linkLabel_WmDU">远程</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/gateway/remote-gateway-readme"><span title="远程网关说明" class="linkLabel_WmDU">远程网关说明</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/moltbot-doc/docs/automation/cron-jobs"><span title="自动化钩子" class="categoryLinkLabel_W154">自动化钩子</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/automation/cron-jobs"><span title="定时任务" class="linkLabel_WmDU">定时任务</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/moltbot-doc/docs/automation/cron-vs-heartbeat"><span title="定时任务 vs 心跳" class="linkLabel_WmDU">定时任务 vs 心跳</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs/tools/browser"><span title="工具与技能" class="categoryLinkLabel_W154">工具与技能</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/tools/browser"><span title="浏览器" class="linkLabel_WmDU">浏览器</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/tools/browser-login"><span title="浏览器登录" class="linkLabel_WmDU">浏览器登录</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/tools/browser-linux-troubleshooting"><span title="浏览器 Linux 故障排除" class="linkLabel_WmDU">浏览器 Linux 故障排除</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/tools/skills"><span title="技能" class="linkLabel_WmDU">技能</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/tools/skills-config"><span title="技能配置" class="linkLabel_WmDU">技能配置</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs/platforms/macos"><span title="平台" class="categoryLinkLabel_W154">平台</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/macos"><span title="macOS" class="linkLabel_WmDU">macOS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/macos-vm"><span title="macOS 虚拟机" class="linkLabel_WmDU">macOS 虚拟机</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs/platforms/mac/dev-setup"><span title="macOS 伴侣应用" class="categoryLinkLabel_W154">macOS 伴侣应用</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/dev-setup"><span title="开发环境设置" class="linkLabel_WmDU">开发环境设置</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/menu-bar"><span title="菜单栏" class="linkLabel_WmDU">菜单栏</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/voicewake"><span title="语音唤醒" class="linkLabel_WmDU">语音唤醒</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/voice-overlay"><span title="语音悬浮窗" class="linkLabel_WmDU">语音悬浮窗</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/webchat"><span title="网页聊天" class="linkLabel_WmDU">网页聊天</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/canvas"><span title="画布" class="linkLabel_WmDU">画布</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/child-process"><span title="子进程" class="linkLabel_WmDU">子进程</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/health"><span title="健康状态" class="linkLabel_WmDU">健康状态</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/icon"><span title="图标" class="linkLabel_WmDU">图标</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/logging"><span title="日志记录" class="linkLabel_WmDU">日志记录</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/permissions"><span title="权限" class="linkLabel_WmDU">权限</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/remote"><span title="远程" class="linkLabel_WmDU">远程</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/signing"><span title="签名" class="linkLabel_WmDU">签名</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/release"><span title="发布" class="linkLabel_WmDU">发布</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/bundled-gateway"><span title="捆绑网关" class="linkLabel_WmDU">捆绑网关</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/xpc"><span title="XPC" class="linkLabel_WmDU">XPC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/skills"><span title="技能" class="linkLabel_WmDU">技能</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/platforms/mac/peekaboo"><span title="Peekaboo" class="linkLabel_WmDU">Peekaboo</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/moltbot-doc/docs/reference/templates/AGENTS"><span title="参考模板" class="categoryLinkLabel_W154">参考模板</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/reference/templates/AGENTS"><span title="代理模板" class="linkLabel_WmDU">代理模板</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/reference/templates/BOOT"><span title="启动模板" class="linkLabel_WmDU">启动模板</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/reference/templates/BOOTSTRAP"><span title="引导程序模板" class="linkLabel_WmDU">引导程序模板</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/reference/templates/HEARTBEAT"><span title="心跳模板" class="linkLabel_WmDU">心跳模板</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/reference/templates/IDENTITY"><span title="身份模板" class="linkLabel_WmDU">身份模板</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/reference/templates/SOUL"><span title="核心模板" class="linkLabel_WmDU">核心模板</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/reference/templates/TOOLS"><span title="工具模板" class="linkLabel_WmDU">工具模板</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/moltbot-doc/docs/reference/templates/USER"><span title="用户模板" class="linkLabel_WmDU">用户模板</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/moltbot-doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">自动化钩子</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">定时任务 vs 心跳</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Cron 与心跳：何时使用哪个</h1></header>
<p>心跳和 cron 作业都可以让您按计划运行任务。本指南帮助您为您的用例选择合适的机制。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="快速决策指南">快速决策指南<a href="#快速决策指南" class="hash-link" aria-label="快速决策指南的直接链接" title="快速决策指南的直接链接" translate="no">​</a></h2>








































<table><thead><tr><th>用例</th><th>推荐</th><th>原因</th></tr></thead><tbody><tr><td>每 30 分钟检查一次收件箱</td><td>心跳</td><td>与其他检查批量处理，具有上下文感知能力</td></tr><tr><td>每天上午 9 点准时发送报告</td><td>Cron（隔离）</td><td>需要精确时间</td></tr><tr><td>监控日历中的即将到来的活动</td><td>心跳</td><td>自然适合周期性感知</td></tr><tr><td>运行每周深度分析</td><td>Cron（隔离）</td><td>独立任务，可以使用不同模型</td></tr><tr><td>20 分钟后提醒我</td><td>Cron（主，<code>--at</code>）</td><td>单次运行，具有精确时间</td></tr><tr><td>后台项目健康检查</td><td>心跳</td><td>依附于现有周期</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="心跳周期性感知">心跳：周期性感知<a href="#心跳周期性感知" class="hash-link" aria-label="心跳：周期性感知的直接链接" title="心跳：周期性感知的直接链接" translate="no">​</a></h2>
<p>心跳在 <strong>主会话</strong> 中以固定间隔（默认：30 分钟）运行。它们设计用于代理检查事物并显示任何重要内容。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="何时使用心跳">何时使用心跳<a href="#何时使用心跳" class="hash-link" aria-label="何时使用心跳的直接链接" title="何时使用心跳的直接链接" translate="no">​</a></h3>
<ul>
<li class=""><strong>多个周期性检查</strong>：与其单独运行 5 个 cron 作业检查收件箱、日历、天气、通知和项目状态，不如用单个心跳批量处理所有这些。</li>
<li class=""><strong>上下文感知决策</strong>：代理具有完整的主会话上下文，因此它可以智能地决定什么是紧急的，什么是可等待的。</li>
<li class=""><strong>对话连续性</strong>：心跳运行共享同一会话，因此代理记住最近的对话并可以自然地跟进。</li>
<li class=""><strong>低开销监控</strong>：一个心跳替代许多小轮询任务。</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="心跳优势">心跳优势<a href="#心跳优势" class="hash-link" aria-label="心跳优势的直接链接" title="心跳优势的直接链接" translate="no">​</a></h3>
<ul>
<li class=""><strong>批量处理多个检查</strong>：一个代理回合可以一起查看收件箱、日历和通知。</li>
<li class=""><strong>减少 API 调用</strong>：一个心跳比 5 个隔离的 cron 作业更便宜。</li>
<li class=""><strong>上下文感知</strong>：代理知道您正在做什么工作，可以相应地确定优先级。</li>
<li class=""><strong>智能抑制</strong>：如果没有需要注意的内容，代理回复 <code>HEARTBEAT_OK</code>，不发送任何消息。</li>
<li class=""><strong>自然时间</strong>：根据队列负载略有漂移，这对于大多数监控来说是可以接受的。</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="心跳示例heartbeatmd-检查清单">心跳示例：HEARTBEAT.md 检查清单<a href="#心跳示例heartbeatmd-检查清单" class="hash-link" aria-label="心跳示例：HEARTBEAT.md 检查清单的直接链接" title="心跳示例：HEARTBEAT.md 检查清单的直接链接" translate="no">​</a></h3>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token title important punctuation" style="color:#C792EA">#</span><span class="token title important" style="color:#D6DEEB"> 心跳检查清单</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 检查收件箱中的紧急邮件</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 查看日历中未来 2 小时的活动</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 如果后台任务完成，总结结果</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 如果空闲超过 8 小时，发送简短检查</span><br></span></code></pre></div></div>
<p>代理在每次心跳时读取此内容，并在一个回合中处理所有项目。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="配置心跳">配置心跳<a href="#配置心跳" class="hash-link" aria-label="配置心跳的直接链接" title="配置心跳的直接链接" translate="no">​</a></h3>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  agents: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    defaults: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      heartbeat: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        every: &quot;30m&quot;,        // 间隔</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        target: &quot;last&quot;,      // 何处传递警报</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        activeHours: { start: &quot;08:00&quot;, end: &quot;22:00&quot; }  // 可选</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>请参阅 <a class="" href="/moltbot-doc/gateway/heartbeat">心跳</a> 了解完整配置。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="cron精确调度">Cron：精确调度<a href="#cron精确调度" class="hash-link" aria-label="Cron：精确调度的直接链接" title="Cron：精确调度的直接链接" translate="no">​</a></h2>
<p>Cron 作业在 <strong>确切时间</strong> 运行，可以在隔离会话中运行而不影响主上下文。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="何时使用-cron">何时使用 cron<a href="#何时使用-cron" class="hash-link" aria-label="何时使用 cron的直接链接" title="何时使用 cron的直接链接" translate="no">​</a></h3>
<ul>
<li class=""><strong>需要精确时间</strong>：&quot;每周一上午 9:00 发送这个&quot;（而不是&quot;大约 9 点左右&quot;）。</li>
<li class=""><strong>独立任务</strong>：不需要对话上下文的任务。</li>
<li class=""><strong>不同模型/思考</strong>：需要更强大模型的繁重分析。</li>
<li class=""><strong>单次提醒</strong>：使用 <code>--at</code> 进行&quot;20 分钟后提醒我&quot;。</li>
<li class=""><strong>嘈杂/频繁任务</strong>：会混淆主会话历史的任务。</li>
<li class=""><strong>外部触发</strong>：应该独立于代理是否活跃而运行的任务。</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cron-优势">Cron 优势<a href="#cron-优势" class="hash-link" aria-label="Cron 优势的直接链接" title="Cron 优势的直接链接" translate="no">​</a></h3>
<ul>
<li class=""><strong>精确时间</strong>：5 字段 cron 表达式支持时区。</li>
<li class=""><strong>会话隔离</strong>：在 <code>cron:&lt;jobId&gt;</code> 中运行，不会污染主历史。</li>
<li class=""><strong>模型覆盖</strong>：为每个作业使用更便宜或更强大的模型。</li>
<li class=""><strong>传递控制</strong>：可以直接传递到频道；默认情况下仍向主会话发布摘要（可配置）。</li>
<li class=""><strong>无需代理上下文</strong>：即使主会话处于空闲或压缩状态也会运行。</li>
<li class=""><strong>单次支持</strong>：<code>--at</code> 用于精确的未来时间戳。</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cron-示例每日晨间简报">Cron 示例：每日晨间简报<a href="#cron-示例每日晨间简报" class="hash-link" aria-label="Cron 示例：每日晨间简报的直接链接" title="Cron 示例：每日晨间简报的直接链接" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">moltbot cron add \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --name &quot;晨间简报&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --cron &quot;0 7 * * *&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --tz &quot;America/New_York&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --session isolated \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --message &quot;生成今日简报：天气、日历、顶级邮件、新闻摘要。&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --model opus \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --deliver \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --channel whatsapp \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --to &quot;+15551234567&quot;</span><br></span></code></pre></div></div>
<p>这在纽约时间上午 7:00 精确运行，使用 Opus 确保质量，并直接传递到 WhatsApp。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cron-示例单次提醒">Cron 示例：单次提醒<a href="#cron-示例单次提醒" class="hash-link" aria-label="Cron 示例：单次提醒的直接链接" title="Cron 示例：单次提醒的直接链接" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">moltbot cron add \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --name &quot;会议提醒&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --at &quot;20m&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --session main \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --system-event &quot;提醒：站立会议将在 10 分钟后开始。&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --wake now \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --delete-after-run</span><br></span></code></pre></div></div>
<p>请参阅 <a class="" href="/moltbot-doc/automation/cron-jobs">Cron 作业</a> 了解完整 CLI 参考。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="决策流程图">决策流程图<a href="#决策流程图" class="hash-link" aria-label="决策流程图的直接链接" title="决策流程图的直接链接" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">任务是否需要在确切时间运行？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  是 -&gt; 使用 cron</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  否 -&gt; 继续...</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">任务是否需要与主会话隔离？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  是 -&gt; 使用 cron（隔离）</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  否 -&gt; 继续...</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">这个任务能否与其他周期性检查一起批处理？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  是 -&gt; 使用心跳（添加到 HEARTBEAT.md）</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  否 -&gt; 使用 cron</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">是否是单次提醒？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  是 -&gt; 使用带 --at 的 cron</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  否 -&gt; 继续...</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">是否需要不同的模型或思考级别？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  是 -&gt; 使用带 --model/--thinking 的 cron（隔离）</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  否 -&gt; 使用心跳</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="结合两者">结合两者<a href="#结合两者" class="hash-link" aria-label="结合两者的直接链接" title="结合两者的直接链接" translate="no">​</a></h2>
<p>最有效的设置使用 <strong>两者</strong>：</p>
<ol>
<li class=""><strong>心跳</strong> 处理例行监控（收件箱、日历、通知）在一个批处理回合中，每 30 分钟一次。</li>
<li class=""><strong>Cron</strong> 处理精确时间表（每日报告、每周回顾）和单次提醒。</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="示例高效自动化设置">示例：高效自动化设置<a href="#示例高效自动化设置" class="hash-link" aria-label="示例：高效自动化设置的直接链接" title="示例：高效自动化设置的直接链接" translate="no">​</a></h3>
<p><strong>HEARTBEAT.md</strong>（每 30 分钟检查）：</p>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token title important punctuation" style="color:#C792EA">#</span><span class="token title important" style="color:#D6DEEB"> 心跳检查清单</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 扫描收件箱中的紧急邮件</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 检查未来 2 小时的日历活动</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 审查任何待处理任务</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 如果安静超过 8 小时，轻度签到</span><br></span></code></pre></div></div>
<p><strong>Cron 作业</strong>（精确时间）：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 每日上午简报上午 7 点</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">moltbot cron add --name &quot;晨间简报&quot; --cron &quot;0 7 * * *&quot; --session isolated --message &quot;...&quot; --deliver</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 每周一上午 9 点的每周项目回顾</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">moltbot cron add --name &quot;每周回顾&quot; --cron &quot;0 9 * * 1&quot; --session isolated --message &quot;...&quot; --model opus</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 单次提醒</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">moltbot cron add --name &quot;回电&quot; --at &quot;2h&quot; --session main --system-event &quot;回电给客户&quot; --wake now</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="lobster具有批准的确定性工作流">Lobster：具有批准的确定性工作流<a href="#lobster具有批准的确定性工作流" class="hash-link" aria-label="Lobster：具有批准的确定性工作流的直接链接" title="Lobster：具有批准的确定性工作流的直接链接" translate="no">​</a></h2>
<p>Lobster 是 <strong>多步骤工具管道</strong> 的工作流运行时，需要确定性执行和明确批准。
当任务不仅仅是单个代理回合，并且您想要一个人工检查点的可恢复工作流时使用它。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="lobster-适用场景">Lobster 适用场景<a href="#lobster-适用场景" class="hash-link" aria-label="Lobster 适用场景的直接链接" title="Lobster 适用场景的直接链接" translate="no">​</a></h3>
<ul>
<li class=""><strong>多步骤自动化</strong>：您需要固定的工具调用管道，而不是一次性提示。</li>
<li class=""><strong>审批门</strong>：副作用应在您批准前暂停，然后继续。</li>
<li class=""><strong>可恢复运行</strong>：继续暂停的工作流而不重新运行早期步骤。</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="如何与心跳和-cron-配对">如何与心跳和 cron 配对<a href="#如何与心跳和-cron-配对" class="hash-link" aria-label="如何与心跳和 cron 配对的直接链接" title="如何与心跳和 cron 配对的直接链接" translate="no">​</a></h3>
<ul>
<li class=""><strong>心跳/cron</strong> 决定运行 <em>何时</em> 发生。</li>
<li class=""><strong>Lobster</strong> 定义一旦运行开始 <em>哪些步骤</em> 发生。</li>
</ul>
<p>对于计划的工作流，使用 cron 或心跳触发调用 Lobster 的代理回合。
对于临时工作流，直接调用 Lobster。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="运维注意事项来自代码">运维注意事项（来自代码）<a href="#运维注意事项来自代码" class="hash-link" aria-label="运维注意事项（来自代码）的直接链接" title="运维注意事项（来自代码）的直接链接" translate="no">​</a></h3>
<ul>
<li class="">Lobster 作为 <strong>本地子进程</strong>（<code>lobster</code> CLI）在工具模式下运行并返回 <strong>JSON 信封</strong>。</li>
<li class="">如果工具返回 <code>needs_approval</code>，您使用 <code>resumeToken</code> 和 <code>approve</code> 标志继续。</li>
<li class="">该工具是 <strong>可选插件</strong>；通过 <code>tools.alsoAllow: [&quot;lobster&quot;]</code> 以附加方式启用（推荐）。</li>
<li class="">如果您传递 <code>lobsterPath</code>，它必须是 <strong>绝对路径</strong>。</li>
</ul>
<p>请参阅 <a class="" href="/moltbot-doc/tools/lobster">Lobster</a> 了解完整用法和示例。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="主会话-vs-隔离会话">主会话 vs 隔离会话<a href="#主会话-vs-隔离会话" class="hash-link" aria-label="主会话 vs 隔离会话的直接链接" title="主会话 vs 隔离会话的直接链接" translate="no">​</a></h2>
<p>心跳和 cron 都可以与主会话交互，但方式不同：</p>









































<table><thead><tr><th></th><th>心跳</th><th>Cron（主）</th><th>Cron（隔离）</th></tr></thead><tbody><tr><td>会话</td><td>主</td><td>主（通过系统事件）</td><td><code>cron:&lt;jobId&gt;</code></td></tr><tr><td>历史</td><td>共享</td><td>共享</td><td>每次运行都是新的</td></tr><tr><td>上下文</td><td>完整</td><td>完整</td><td>无（从干净开始）</td></tr><tr><td>模型</td><td>主会话模型</td><td>主会话模型</td><td>可覆盖</td></tr><tr><td>输出</td><td>如果不是 <code>HEARTBEAT_OK</code> 则传递</td><td>心跳提示 + 事件</td><td>摘要发布到主会话</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="何时使用主会话-cron">何时使用主会话 cron<a href="#何时使用主会话-cron" class="hash-link" aria-label="何时使用主会话 cron的直接链接" title="何时使用主会话 cron的直接链接" translate="no">​</a></h3>
<p>当您想要以下内容时，使用 <code>--session main</code> 和 <code>--system-event</code>：</p>
<ul>
<li class="">提醒/事件出现在主会话上下文中</li>
<li class="">代理在下次心跳期间使用完整上下文处理它</li>
<li class="">没有单独的隔离运行</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">moltbot cron add \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --name &quot;检查项目&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --every &quot;4h&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --session main \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --system-event &quot;项目健康检查时间&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --wake now</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="何时使用隔离-cron">何时使用隔离 cron<a href="#何时使用隔离-cron" class="hash-link" aria-label="何时使用隔离 cron的直接链接" title="何时使用隔离 cron的直接链接" translate="no">​</a></h3>
<p>当您想要以下内容时，使用 <code>--session isolated</code>：</p>
<ul>
<li class="">没有先前上下文的干净 slate</li>
<li class="">不同的模型或思考设置</li>
<li class="">输出直接传递到频道（摘要仍默认发布到主会话）</li>
<li class="">不会混淆主会话的历史</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">moltbot cron add \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --name &quot;深度分析&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --cron &quot;0 6 * * 0&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --session isolated \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --message &quot;每周代码库分析...&quot; \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --model opus \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --thinking high \</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  --deliver</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="成本考虑">成本考虑<a href="#成本考虑" class="hash-link" aria-label="成本考虑的直接链接" title="成本考虑的直接链接" translate="no">​</a></h2>





















<table><thead><tr><th>机制</th><th>成本概况</th></tr></thead><tbody><tr><td>心跳</td><td>每 N 分钟一个回合；随 HEARTBEAT.md 大小扩展</td></tr><tr><td>Cron（主）</td><td>向下次心跳添加事件（无隔离回合）</td></tr><tr><td>Cron（隔离）</td><td>每个作业的完整代理回合；可以使用更便宜的模型</td></tr></tbody></table>
<p><strong>提示</strong>：</p>
<ul>
<li class="">保持 <code>HEARTBEAT.md</code> 小巧以最小化令牌开销。</li>
<li class="">将类似的检查批量处理到心跳中，而不是多个 cron 作业。</li>
<li class="">如果您只想进行内部处理，请在心跳上使用 <code>target: &quot;none&quot;</code>。</li>
<li class="">使用带更便宜模型的隔离 cron 进行例行任务。</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="相关">相关<a href="#相关" class="hash-link" aria-label="相关的直接链接" title="相关的直接链接" translate="no">​</a></h2>
<ul>
<li class=""><a class="" href="/moltbot-doc/gateway/heartbeat">心跳</a> - 完整的心跳配置</li>
<li class=""><a class="" href="/moltbot-doc/automation/cron-jobs">Cron 作业</a> - 完整的 cron CLI 和 API 参考</li>
<li class=""><a class="" href="/moltbot-doc/cli/system">系统</a> - 系统事件 + 心跳控制</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/moltbot-doc/docs/automation/cron-jobs"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">定时任务</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/moltbot-doc/docs/tools/browser"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">浏览器</div></a></nav></div></div><div class="col col--3"><div class="tocWrapper_xKoj"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#快速决策指南" class="table-of-contents__link toc-highlight">快速决策指南</a></li><li><a href="#心跳周期性感知" class="table-of-contents__link toc-highlight">心跳：周期性感知</a><ul><li><a href="#何时使用心跳" class="table-of-contents__link toc-highlight">何时使用心跳</a></li><li><a href="#心跳优势" class="table-of-contents__link toc-highlight">心跳优势</a></li><li><a href="#心跳示例heartbeatmd-检查清单" class="table-of-contents__link toc-highlight">心跳示例：HEARTBEAT.md 检查清单</a></li><li><a href="#配置心跳" class="table-of-contents__link toc-highlight">配置心跳</a></li></ul></li><li><a href="#cron精确调度" class="table-of-contents__link toc-highlight">Cron：精确调度</a><ul><li><a href="#何时使用-cron" class="table-of-contents__link toc-highlight">何时使用 cron</a></li><li><a href="#cron-优势" class="table-of-contents__link toc-highlight">Cron 优势</a></li><li><a href="#cron-示例每日晨间简报" class="table-of-contents__link toc-highlight">Cron 示例：每日晨间简报</a></li><li><a href="#cron-示例单次提醒" class="table-of-contents__link toc-highlight">Cron 示例：单次提醒</a></li></ul></li><li><a href="#决策流程图" class="table-of-contents__link toc-highlight">决策流程图</a></li><li><a href="#结合两者" class="table-of-contents__link toc-highlight">结合两者</a><ul><li><a href="#示例高效自动化设置" class="table-of-contents__link toc-highlight">示例：高效自动化设置</a></li></ul></li><li><a href="#lobster具有批准的确定性工作流" class="table-of-contents__link toc-highlight">Lobster：具有批准的确定性工作流</a><ul><li><a href="#lobster-适用场景" class="table-of-contents__link toc-highlight">Lobster 适用场景</a></li><li><a href="#如何与心跳和-cron-配对" class="table-of-contents__link toc-highlight">如何与心跳和 cron 配对</a></li><li><a href="#运维注意事项来自代码" class="table-of-contents__link toc-highlight">运维注意事项（来自代码）</a></li></ul></li><li><a href="#主会话-vs-隔离会话" class="table-of-contents__link toc-highlight">主会话 vs 隔离会话</a><ul><li><a href="#何时使用主会话-cron" class="table-of-contents__link toc-highlight">何时使用主会话 cron</a></li><li><a href="#何时使用隔离-cron" class="table-of-contents__link toc-highlight">何时使用隔离 cron</a></li></ul></li><li><a href="#成本考虑" class="table-of-contents__link toc-highlight">成本考虑</a></li><li><a href="#相关" class="table-of-contents__link toc-highlight">相关</a></li></ul></div><div class="tocFooter_Fu2z"><div class="themeGroup_RzWV" role="group" aria-label="Theme"><button class="themeBtn_tGr6" aria-label="Light theme" title="Light"><svg viewBox="0 0 24 24" width="15" height="15" fill="currentColor" aria-hidden="true"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg></button><button class="themeBtn_tGr6 themeBtnActive_A6tm" aria-label="Dark theme" title="Dark"><svg viewBox="0 0 24 24" width="15" height="15" fill="currentColor" aria-hidden="true"><path d="M11.38 2.019a7.5 7.5 0 1 0 10.6 10.6C21.83 17.963 17.315 22 12.002 22 6.477 22 2 17.523 2 12c0-5.314 4.038-9.827 9.38-10.28z"></path></svg></button></div></div></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Moltbot Docs.</div></div></div></footer></div>
</body>
</html>