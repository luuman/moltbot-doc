<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-channels/whatsapp" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">WhatsAppï¼ˆç½‘ç»œé€šé“ï¼‰ | Moltbot Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://luuman.github.io/moltbot-doc/docs/channels/whatsapp"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="WhatsAppï¼ˆç½‘ç»œé€šé“ï¼‰ | Moltbot Docs"><meta data-rh="true" name="description" content="çŠ¶æ€ï¼šä»… WhatsApp Web é€šè¿‡ Baileysã€‚ç½‘å…³æ‹¥æœ‰ä¼šè¯ã€‚"><meta data-rh="true" property="og:description" content="çŠ¶æ€ï¼šä»… WhatsApp Web é€šè¿‡ Baileysã€‚ç½‘å…³æ‹¥æœ‰ä¼šè¯ã€‚"><link data-rh="true" rel="icon" href="/moltbot-doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://luuman.github.io/moltbot-doc/docs/channels/whatsapp"><link data-rh="true" rel="alternate" href="https://luuman.github.io/moltbot-doc/docs/channels/whatsapp" hreflang="zh"><link data-rh="true" rel="alternate" href="https://luuman.github.io/moltbot-doc/docs/channels/whatsapp" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/moltbot-doc/blog/rss.xml" title="Moltbot Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/moltbot-doc/blog/atom.xml" title="Moltbot Docs Atom Feed"><link rel="stylesheet" href="/moltbot-doc/assets/css/styles.484b4c98.css">
<script src="/moltbot-doc/assets/js/runtime~main.6cf495cf.js" defer="defer"></script>
<script src="/moltbot-doc/assets/js/main.f9205183.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav class="navbar navbar--fixed-top navbar_MONK" role="navigation" aria-label="Main"><div class="navbarInner_ASTH"><div class="navbarLeft_pUmY"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="brand_SXL9" href="/moltbot-doc/"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" rx="6" fill="var(--ifm-color-primary)"></rect><path d="M7 8.5h10M7 12h7M7 15.5h10" stroke="white" stroke-width="1.8" stroke-linecap="round"></path></svg><span class="brandTitle_XbyU">Moltbot</span></a><div class="dropdown_GrgZ"><button class="dropdownToggle_Nf_z">å…¨éƒ¨ç«™ç‚¹<svg class="dropdownArrow_Eka8" viewBox="0 0 12 12" fill="none"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><ul class="dropdownMenu_zsxH"><li><a href="https://luuman.github.io/docs-workspace/docs" class="dropdownMenuItem_VBaP">Workspace</a></li><li><a href="https://luuman.github.io/claude-doc/docs" class="dropdownMenuItem_VBaP">Claude</a></li><li><a href="https://luuman.github.io/electron-doc/docs" class="dropdownMenuItem_VBaP">Electron</a></li><li><a href="https://luuman.github.io/tauri-doc/docs" class="dropdownMenuItem_VBaP">Tauri</a></li><li><a href="https://luuman.github.io/matrx-doc/docs" class="dropdownMenuItem_VBaP">Matrx</a></li><li><a href="https://luuman.github.io/brainboard-doc/docs" class="dropdownMenuItem_VBaP">Brainboard</a></li><li><a href="https://luuman.github.io/synology-doc/docs" class="dropdownMenuItem_VBaP">Synology</a></li><li><a href="https://luuman.github.io/codex-doc/docs" class="dropdownMenuItem_VBaP">Codex</a></li><li><a href="https://luuman.github.io/ai-doc/docs" class="dropdownMenuItem_VBaP">AI</a></li></ul></div></div><div class="navbarCenter_Zdr3"><div class="root_OF3s"><span class="icon_UcOK" aria-hidden="true"><svg viewBox="0 0 24 24" fill="currentColor" width="15" height="15"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg></span><div class="slot__FGx"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="æœç´¢" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div class="navbarRight_q16u"><a class="navLink_RnnM" href="/moltbot-doc/docs">Docs</a><a class="navLink_RnnM" href="/moltbot-doc/blog">Blog</a><button class="themeToggle_zD_x" aria-label="Switch to light theme" title="Light"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg></button></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>WhatsAppï¼ˆç½‘ç»œé€šé“ï¼‰</h1></header>
<p>çŠ¶æ€ï¼šä»… WhatsApp Web é€šè¿‡ Baileysã€‚ç½‘å…³æ‹¥æœ‰ä¼šè¯ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å¿«é€Ÿè®¾ç½®åˆå­¦è€…">å¿«é€Ÿè®¾ç½®ï¼ˆåˆå­¦è€…ï¼‰<a href="#å¿«é€Ÿè®¾ç½®åˆå­¦è€…" class="hash-link" aria-label="å¿«é€Ÿè®¾ç½®ï¼ˆåˆå­¦è€…ï¼‰çš„ç›´æ¥é“¾æ¥" title="å¿«é€Ÿè®¾ç½®ï¼ˆåˆå­¦è€…ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ol>
<li class="">å¦‚å¯èƒ½ï¼Œä½¿ç”¨<strong>å•ç‹¬çš„ç”µè¯å·ç </strong>ï¼ˆæ¨èï¼‰ã€‚</li>
<li class="">åœ¨ <code>~/.clawdbot/moltbot.json</code> ä¸­é…ç½® WhatsAppã€‚</li>
<li class="">è¿è¡Œ <code>moltbot channels login</code> æ‰«æäºŒç»´ç ï¼ˆå·²è¿æ¥çš„è®¾å¤‡ï¼‰ã€‚</li>
<li class="">å¯åŠ¨ç½‘å…³ã€‚</li>
</ol>
<p>æœ€å°é…ç½®ï¼š</p>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  channels: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    whatsapp: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      dmPolicy: &quot;allowlist&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      allowFrom: [&quot;+15551234567&quot;]</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç›®æ ‡">ç›®æ ‡<a href="#ç›®æ ‡" class="hash-link" aria-label="ç›®æ ‡çš„ç›´æ¥é“¾æ¥" title="ç›®æ ‡çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">ä¸€ä¸ªç½‘å…³è¿›ç¨‹ä¸­å¤šä¸ª WhatsApp è´¦æˆ·ï¼ˆå¤šè´¦æˆ·ï¼‰ã€‚</li>
<li class="">ç¡®å®šæ€§è·¯ç”±ï¼šå›å¤è¿”å›åˆ° WhatsAppï¼Œæ— æ¨¡å‹è·¯ç”±ã€‚</li>
<li class="">æ¨¡å‹çœ‹åˆ°è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä»¥ç†è§£å¼•ç”¨çš„å›å¤ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é…ç½®å†™å…¥">é…ç½®å†™å…¥<a href="#é…ç½®å†™å…¥" class="hash-link" aria-label="é…ç½®å†™å…¥çš„ç›´æ¥é“¾æ¥" title="é…ç½®å†™å…¥çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒWhatsApp å…è®¸å†™å…¥ç”± <code>/config set|unset</code> è§¦å‘çš„é…ç½®æ›´æ–°ï¼ˆéœ€è¦ <code>commands.config: true</code>ï¼‰ã€‚</p>
<p>ç¦ç”¨æ–¹æ³•ï¼š</p>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  channels: { whatsapp: { configWrites: false } }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æ¶æ„è°æ‹¥æœ‰ä»€ä¹ˆ">æ¶æ„ï¼ˆè°æ‹¥æœ‰ä»€ä¹ˆï¼‰<a href="#æ¶æ„è°æ‹¥æœ‰ä»€ä¹ˆ" class="hash-link" aria-label="æ¶æ„ï¼ˆè°æ‹¥æœ‰ä»€ä¹ˆï¼‰çš„ç›´æ¥é“¾æ¥" title="æ¶æ„ï¼ˆè°æ‹¥æœ‰ä»€ä¹ˆï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class=""><strong>ç½‘å…³</strong> æ‹¥æœ‰ Baileys å¥—æ¥å­—å’Œæ”¶ä»¶ç®±å¾ªç¯ã€‚</li>
<li class=""><strong>CLI / macOS åº”ç”¨</strong> ä¸ç½‘å…³é€šä¿¡ï¼›ä¸ç›´æ¥ä½¿ç”¨ Baileysã€‚</li>
<li class=""><strong>æ´»è·ƒç›‘å¬å™¨</strong> æ˜¯å‡ºç«™å‘é€æ‰€å¿…éœ€çš„ï¼›å¦åˆ™å‘é€å¿«é€Ÿå¤±è´¥ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="è·å–ç”µè¯å·ç ä¸¤ç§æ¨¡å¼">è·å–ç”µè¯å·ç ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰<a href="#è·å–ç”µè¯å·ç ä¸¤ç§æ¨¡å¼" class="hash-link" aria-label="è·å–ç”µè¯å·ç ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰çš„ç›´æ¥é“¾æ¥" title="è·å–ç”µè¯å·ç ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<p>WhatsApp éœ€è¦çœŸå®æ‰‹æœºå·è¿›è¡ŒéªŒè¯ã€‚VoIP å’Œè™šæ‹Ÿå·ç é€šå¸¸è¢«é˜»æ­¢ã€‚æœ‰ä¸¤ç§æ”¯æŒçš„æ–¹å¼åœ¨ WhatsApp ä¸Šè¿è¡Œ Moltbotï¼š</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä¸“ç”¨å·ç æ¨è">ä¸“ç”¨å·ç ï¼ˆæ¨èï¼‰<a href="#ä¸“ç”¨å·ç æ¨è" class="hash-link" aria-label="ä¸“ç”¨å·ç ï¼ˆæ¨èï¼‰çš„ç›´æ¥é“¾æ¥" title="ä¸“ç”¨å·ç ï¼ˆæ¨èï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>ä¸º Moltbot ä½¿ç”¨<strong>å•ç‹¬çš„ç”µè¯å·ç </strong>ã€‚æœ€ä½³ç”¨æˆ·ä½“éªŒï¼Œæ¸…æ™°è·¯ç”±ï¼Œæ— è‡ªèŠå¼‚å¸¸ã€‚ç†æƒ³è®¾ç½®ï¼š<strong>å¤‡ç”¨/æ—§ Android æ‰‹æœº + eSIM</strong>ã€‚ä¿æŒ Wi-Fi å’Œç”µæºå¼€å¯ï¼Œå¹¶é€šè¿‡ QR é“¾æ¥ã€‚</p>
<p><strong>WhatsApp Businessï¼š</strong> æ‚¨å¯ä»¥åœ¨åŒä¸€è®¾å¤‡ä¸Šä½¿ç”¨ WhatsApp Businessï¼Œä½¿ç”¨ä¸åŒçš„å·ç ã€‚éå¸¸é€‚åˆå°†æ‚¨çš„ä¸ªäºº WhatsApp ä¸ä¹‹åˆ†ç¦» â€” å®‰è£… WhatsApp Business å¹¶åœ¨é‚£é‡Œæ³¨å†Œ Moltbot å·ç ã€‚</p>
<p><strong>ç¤ºä¾‹é…ç½®ï¼ˆä¸“ç”¨å·ç ï¼Œå•ç”¨æˆ·å…è®¸åˆ—è¡¨ï¼‰ï¼š</strong></p>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  channels: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    whatsapp: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      dmPolicy: &quot;allowlist&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      allowFrom: [&quot;+15551234567&quot;]</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>é…å¯¹æ¨¡å¼ï¼ˆå¯é€‰ï¼‰ï¼š</strong>
å¦‚æœæ‚¨æƒ³è¦é…å¯¹è€Œä¸æ˜¯å…è®¸åˆ—è¡¨ï¼Œå°† <code>channels.whatsapp.dmPolicy</code> è®¾ç½®ä¸º <code>pairing</code>ã€‚æœªçŸ¥å‘é€è€…è·å¾—é…å¯¹ç ï¼›é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰¹å‡†ï¼š
<code>moltbot pairing approve whatsapp &lt;code&gt;</code></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä¸ªäººå·ç å›é€€">ä¸ªäººå·ç ï¼ˆå›é€€ï¼‰<a href="#ä¸ªäººå·ç å›é€€" class="hash-link" aria-label="ä¸ªäººå·ç ï¼ˆå›é€€ï¼‰çš„ç›´æ¥é“¾æ¥" title="ä¸ªäººå·ç ï¼ˆå›é€€ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>å¿«é€Ÿå›é€€ï¼šåœ¨<strong>æ‚¨çš„è‡ªå·±çš„å·ç </strong>ä¸Šè¿è¡Œ Moltbotã€‚ç»™è‡ªå·±å‘æ¶ˆæ¯ï¼ˆWhatsApp &quot;ç»™è‡ªå·±å‘æ¶ˆæ¯&quot;ï¼‰è¿›è¡Œæµ‹è¯•ï¼Œä»¥å…éªšæ‰°è”ç³»äººã€‚åœ¨è®¾ç½®å’Œå®éªŒæœŸé—´é¢„è®¡åœ¨ä¸»æ‰‹æœºä¸Šé˜…è¯»éªŒè¯ç ã€‚<strong>å¿…é¡»å¯ç”¨è‡ªèŠæ¨¡å¼ã€‚</strong>
å½“å‘å¯¼è¯¢é—®æ‚¨çš„ä¸ªäºº WhatsApp å·ç æ—¶ï¼Œè¾“å…¥æ‚¨å°†ä»ä¸­å‘é€æ¶ˆæ¯çš„ç”µè¯ï¼ˆæ‰€æœ‰è€…/å‘é€è€…ï¼‰ï¼Œè€Œä¸æ˜¯åŠ©æ‰‹å·ç ã€‚</p>
<p><strong>ç¤ºä¾‹é…ç½®ï¼ˆä¸ªäººå·ç ï¼Œè‡ªèŠï¼‰ï¼š</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token property" style="color:#F78C6C">&quot;whatsapp&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token property" style="color:#F78C6C">&quot;selfChatMode&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token boolean" style="color:#F78C6C">true</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token property" style="color:#F78C6C">&quot;dmPolicy&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;allowlist&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token property" style="color:#F78C6C">&quot;allowFrom&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">[</span><span class="token string" style="color:#ECC48D">&quot;+15551234567&quot;</span><span class="token punctuation" style="color:#C792EA">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token punctuation" style="color:#C792EA">}</span><br></span></code></pre></div></div>
<p>è‡ªèŠå›å¤åœ¨è®¾ç½®æ—¶é»˜è®¤ä¸º <code>[{identity.name}]</code>ï¼ˆå¦åˆ™ä¸º <code>[moltbot]</code>ï¼‰
å¦‚æœæœªè®¾ç½® <code>messages.responsePrefix</code>ã€‚æ˜¾å¼è®¾ç½®å®ƒä»¥è‡ªå®šä¹‰æˆ–ç¦ç”¨
å‰ç¼€ï¼ˆä½¿ç”¨ <code>&quot;&quot;</code> åˆ é™¤å®ƒï¼‰ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="å·ç è·å–æŠ€å·§">å·ç è·å–æŠ€å·§<a href="#å·ç è·å–æŠ€å·§" class="hash-link" aria-label="å·ç è·å–æŠ€å·§çš„ç›´æ¥é“¾æ¥" title="å·ç è·å–æŠ€å·§çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<ul>
<li class=""><strong>æœ¬åœ° eSIM</strong> æ¥è‡ªæ‚¨å›½å®¶çš„ç§»åŠ¨è¿è¥å•†ï¼ˆæœ€å¯é ï¼‰
<ul>
<li class="">å¥¥åœ°åˆ©ï¼š<a href="https://www.hot.at" target="_blank" rel="noopener noreferrer" class="">hot.at</a></li>
<li class="">è‹±å›½ï¼š<a href="https://www.giffgaff.com" target="_blank" rel="noopener noreferrer" class="">giffgaff</a> â€” å…è´¹ SIMï¼Œæ— åˆåŒ</li>
</ul>
</li>
<li class=""><strong>é¢„ä»˜è´¹ SIM</strong> â€” ä¾¿å®œï¼Œåªéœ€æ¥æ”¶ä¸€æ¡ SMS è¿›è¡ŒéªŒè¯</li>
</ul>
<p><strong>é¿å…ï¼š</strong> TextNowã€Google Voiceã€å¤§å¤šæ•°&quot;å…è´¹ SMS&quot;æœåŠ¡ â€” WhatsApp ç§¯æé˜»æ­¢è¿™äº›ã€‚</p>
<p><strong>æç¤ºï¼š</strong> å·ç åªéœ€è¦æ¥æ”¶ä¸€æ¡éªŒè¯ SMSã€‚ä¹‹åï¼ŒWhatsApp Web ä¼šè¯é€šè¿‡ <code>creds.json</code> æŒç»­ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä¸ºä»€ä¹ˆä¸ä½¿ç”¨-twilio">ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ Twilioï¼Ÿ<a href="#ä¸ºä»€ä¹ˆä¸ä½¿ç”¨-twilio" class="hash-link" aria-label="ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ Twilioï¼Ÿçš„ç›´æ¥é“¾æ¥" title="ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ Twilioï¼Ÿçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">æ—©æœŸ Moltbot ç‰ˆæœ¬æ”¯æŒ Twilio çš„ WhatsApp Business é›†æˆã€‚</li>
<li class="">WhatsApp Business å·ç ä¸é€‚åˆä¸ªäººåŠ©æ‰‹ã€‚</li>
<li class="">Meta å¼ºåˆ¶æ‰§è¡Œ 24 å°æ—¶å›å¤çª—å£ï¼›å¦‚æœæ‚¨åœ¨è¿‡å» 24 å°æ—¶å†…æœªå›å¤ï¼Œä¸šåŠ¡å·ç æ— æ³•å‘èµ·æ–°æ¶ˆæ¯ã€‚</li>
<li class="">é«˜å®¹é‡æˆ–&quot;å¥è°ˆ&quot;ä½¿ç”¨è§¦å‘ç§¯æé˜»æ­¢ï¼Œå› ä¸ºä¸šåŠ¡è´¦æˆ·ä¸åº”ç”¨äºå‘é€æ•°åæ¡ä¸ªäººåŠ©æ‰‹æ¶ˆæ¯ã€‚</li>
<li class="">ç»“æœï¼šä¸å¯é çš„ä¼ é€’å’Œé¢‘ç¹é˜»æ­¢ï¼Œå› æ­¤æ”¯æŒè¢«ç§»é™¤ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç™»å½•--å‡­æ®">ç™»å½• + å‡­æ®<a href="#ç™»å½•--å‡­æ®" class="hash-link" aria-label="ç™»å½• + å‡­æ®çš„ç›´æ¥é“¾æ¥" title="ç™»å½• + å‡­æ®çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">ç™»å½•å‘½ä»¤ï¼š<code>moltbot channels login</code>ï¼ˆé€šè¿‡å·²è¿æ¥è®¾å¤‡çš„ QRï¼‰ã€‚</li>
<li class="">å¤šè´¦æˆ·ç™»å½•ï¼š<code>moltbot channels login --account &lt;id&gt;</code>ï¼ˆ<code>&lt;id&gt;</code> = <code>accountId</code>ï¼‰ã€‚</li>
<li class="">é»˜è®¤è´¦æˆ·ï¼ˆå½“çœç•¥ <code>--account</code> æ—¶ï¼‰ï¼šå¦‚æœå­˜åœ¨ä¸º <code>default</code>ï¼Œå¦åˆ™ä¸ºç¬¬ä¸€ä¸ªé…ç½®çš„è´¦æˆ· IDï¼ˆæ’åºï¼‰ã€‚</li>
<li class="">å‡­æ®å­˜å‚¨åœ¨ <code>~/.clawdbot/credentials/whatsapp/&lt;accountId&gt;/creds.json</code>ã€‚</li>
<li class="">å¤‡ä»½å‰¯æœ¬åœ¨ <code>creds.json.bak</code>ï¼ˆåœ¨æŸåæ—¶æ¢å¤ï¼‰ã€‚</li>
<li class="">æ—§ç‰ˆå…¼å®¹æ€§ï¼šè¾ƒæ—§çš„å®‰è£…ç›´æ¥å°† Baileys æ–‡ä»¶å­˜å‚¨åœ¨ <code>~/.clawdbot/credentials/</code> ä¸­ã€‚</li>
<li class="">ç™»å‡ºï¼š<code>moltbot channels logout</code>ï¼ˆæˆ– <code>--account &lt;id&gt;</code>ï¼‰åˆ é™¤ WhatsApp è®¤è¯çŠ¶æ€ï¼ˆä½†ä¿ç•™å…±äº«çš„ <code>oauth.json</code>ï¼‰ã€‚</li>
<li class="">ç™»å‡ºå¥—æ¥å­— =&gt; é”™è¯¯æŒ‡ç¤ºé‡æ–°é“¾æ¥ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å…¥ç«™æµç¨‹ç§ä¿¡--ç¾¤ç»„">å…¥ç«™æµç¨‹ï¼ˆç§ä¿¡ + ç¾¤ç»„ï¼‰<a href="#å…¥ç«™æµç¨‹ç§ä¿¡--ç¾¤ç»„" class="hash-link" aria-label="å…¥ç«™æµç¨‹ï¼ˆç§ä¿¡ + ç¾¤ç»„ï¼‰çš„ç›´æ¥é“¾æ¥" title="å…¥ç«™æµç¨‹ï¼ˆç§ä¿¡ + ç¾¤ç»„ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">WhatsApp äº‹ä»¶æ¥è‡ª <code>messages.upsert</code>ï¼ˆBaileysï¼‰ã€‚</li>
<li class="">å…³æœºæ—¶åˆ†ç¦»æ”¶ä»¶ç®±ç›‘å¬å™¨ï¼Œä»¥é¿å…åœ¨æµ‹è¯•/é‡å¯ä¸­ç§¯ç´¯äº‹ä»¶å¤„ç†å™¨ã€‚</li>
<li class="">çŠ¶æ€/å¹¿æ’­èŠå¤©è¢«å¿½ç•¥ã€‚</li>
<li class="">ç›´æ¥èŠå¤©ä½¿ç”¨ E.164ï¼›ç¾¤ç»„ä½¿ç”¨ç¾¤ç»„ JIDã€‚</li>
<li class=""><strong>ç§ä¿¡ç­–ç•¥</strong>ï¼š<code>channels.whatsapp.dmPolicy</code> æ§åˆ¶ç›´æ¥èŠå¤©è®¿é—®ï¼ˆé»˜è®¤ï¼š<code>pairing</code>ï¼‰ã€‚
<ul>
<li class="">é…å¯¹ï¼šæœªçŸ¥å‘é€è€…è·å¾—é…å¯¹ç ï¼ˆé€šè¿‡ <code>moltbot pairing approve whatsapp &lt;code&gt;</code> æ‰¹å‡†ï¼›ä»£ç åœ¨ 1 å°æ—¶åè¿‡æœŸï¼‰ã€‚</li>
<li class="">å¼€æ”¾ï¼šéœ€è¦ <code>channels.whatsapp.allowFrom</code> åŒ…å« <code>&quot;*</code>ã€‚</li>
<li class="">æ‚¨çš„å·²é“¾æ¥ WhatsApp å·ç è¢«éšå¼ä¿¡ä»»ï¼Œå› æ­¤è‡ªæ¶ˆæ¯è·³è¿‡ <code>channels.whatsapp.dmPolicy</code> å’Œ <code>channels.whatsapp.allowFrom</code> æ£€æŸ¥ã€‚</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä¸ªäººå·ç æ¨¡å¼å›é€€">ä¸ªäººå·ç æ¨¡å¼ï¼ˆå›é€€ï¼‰<a href="#ä¸ªäººå·ç æ¨¡å¼å›é€€" class="hash-link" aria-label="ä¸ªäººå·ç æ¨¡å¼ï¼ˆå›é€€ï¼‰çš„ç›´æ¥é“¾æ¥" title="ä¸ªäººå·ç æ¨¡å¼ï¼ˆå›é€€ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>å¦‚æœæ‚¨åœ¨<strong>ä¸ªäºº WhatsApp å·ç </strong>ä¸Šè¿è¡Œ Moltbotï¼Œå¯ç”¨ <code>channels.whatsapp.selfChatMode</code>ï¼ˆå‚è§ä¸Šé¢çš„ç¤ºä¾‹ï¼‰ã€‚</p>
<p>è¡Œä¸ºï¼š</p>
<ul>
<li class="">å‡ºç«™ç§ä¿¡ä»ä¸è§¦å‘é…å¯¹å›å¤ï¼ˆé˜²æ­¢éªšæ‰°è”ç³»äººï¼‰ã€‚</li>
<li class="">å…¥ç«™æœªçŸ¥å‘é€è€…ä»éµå¾ª <code>channels.whatsapp.dmPolicy</code>ã€‚</li>
<li class="">è‡ªèŠæ¨¡å¼ï¼ˆallowFrom åŒ…å«æ‚¨çš„å·ç ï¼‰é¿å…è‡ªåŠ¨å·²è¯»å›æ‰§å¹¶å¿½ç•¥æåŠ JIDã€‚</li>
<li class="">ä¸ºéè‡ªèŠç§ä¿¡å‘é€å·²è¯»å›æ‰§ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å·²è¯»å›æ‰§">å·²è¯»å›æ‰§<a href="#å·²è¯»å›æ‰§" class="hash-link" aria-label="å·²è¯»å›æ‰§çš„ç›´æ¥é“¾æ¥" title="å·²è¯»å›æ‰§çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç½‘å…³åœ¨å…¥ç«™ WhatsApp æ¶ˆæ¯è¢«æ¥å—åå°†å…¶æ ‡è®°ä¸ºå·²è¯»ï¼ˆè“è‰²å‹¾å·ï¼‰ã€‚</p>
<p>å…¨å±€ç¦ç”¨ï¼š</p>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  channels: { whatsapp: { sendReadReceipts: false } }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>æŒ‰è´¦æˆ·ç¦ç”¨ï¼š</p>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  channels: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    whatsapp: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      accounts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        personal: { sendReadReceipts: false }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li class="">è‡ªèŠæ¨¡å¼å§‹ç»ˆè·³è¿‡å·²è¯»å›æ‰§ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="whatsapp-faqå‘é€æ¶ˆæ¯--é…å¯¹">WhatsApp FAQï¼šå‘é€æ¶ˆæ¯ + é…å¯¹<a href="#whatsapp-faqå‘é€æ¶ˆæ¯--é…å¯¹" class="hash-link" aria-label="WhatsApp FAQï¼šå‘é€æ¶ˆæ¯ + é…å¯¹çš„ç›´æ¥é“¾æ¥" title="WhatsApp FAQï¼šå‘é€æ¶ˆæ¯ + é…å¯¹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<p><strong>å½“æˆ‘é“¾æ¥ WhatsApp æ—¶ï¼ŒMoltbot ä¼šå‘éšæœºè”ç³»äººå‘é€æ¶ˆæ¯å—ï¼Ÿ</strong><br>
ä¸ä¼šã€‚é»˜è®¤ç§ä¿¡ç­–ç•¥æ˜¯<strong>é…å¯¹</strong>ï¼Œå› æ­¤æœªçŸ¥å‘é€è€…åªè·å¾—é…å¯¹ç ï¼Œä»–ä»¬çš„æ¶ˆæ¯<strong>ä¸ä¼šè¢«å¤„ç†</strong>ã€‚Moltbot åªå›å¤å®ƒæ”¶åˆ°çš„èŠå¤©ï¼Œæˆ–æ‚¨æ˜ç¡®è§¦å‘çš„å‘é€ï¼ˆä»£ç†/CLIï¼‰ã€‚</p>
<p><strong>WhatsApp ä¸Šçš„é…å¯¹å¦‚ä½•å·¥ä½œï¼Ÿ</strong><br>
é…å¯¹æ˜¯é’ˆå¯¹æœªçŸ¥å‘é€è€…çš„ç§ä¿¡é—¨ï¼š</p>
<ul>
<li class="">æ–°å‘é€è€…çš„é¦–æ¬¡ç§ä¿¡è¿”å›çŸ­ä»£ç ï¼ˆæ¶ˆæ¯æœªè¢«å¤„ç†ï¼‰ã€‚</li>
<li class="">é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰¹å‡†ï¼š<code>moltbot pairing approve whatsapp &lt;code&gt;</code>ï¼ˆé€šè¿‡ <code>moltbot pairing list whatsapp</code> åˆ—å‡ºï¼‰ã€‚</li>
<li class="">ä»£ç åœ¨ 1 å°æ—¶åè¿‡æœŸï¼›å¾…å¤„ç†è¯·æ±‚é™åˆ¶ä¸ºæ¯ä¸ªé€šé“ 3 ä¸ªã€‚</li>
</ul>
<p><strong>å¤šäººå¯ä»¥åœ¨ä¸€ä¸ª WhatsApp å·ç ä¸Šä½¿ç”¨ä¸åŒçš„ Moltbots å—ï¼Ÿ</strong><br>
æ˜¯çš„ï¼Œé€šè¿‡ <code>bindings</code> å°†æ¯ä¸ªå‘é€è€…è·¯ç”±åˆ°ä¸åŒä»£ç†ï¼ˆå¯¹ç­‰ <code>kind: &quot;dm&quot;</code>ï¼Œå‘é€è€… E.164 å¦‚ <code>+15551234567</code>ï¼‰ã€‚å›å¤ä»æ¥è‡ª<strong>åŒä¸€ WhatsApp è´¦æˆ·</strong>ï¼Œç›´æ¥èŠå¤©æŠ˜å åˆ°æ¯ä¸ªä»£ç†çš„ä¸»ä¼šè¯ï¼Œå› æ­¤ä¸ºæ¯äººä½¿ç”¨<strong>ä¸€ä¸ªä»£ç†</strong>ã€‚ç§ä¿¡è®¿é—®æ§åˆ¶ï¼ˆ<code>dmPolicy</code>/<code>allowFrom</code>ï¼‰æ˜¯æ¯ä¸ª WhatsApp è´¦æˆ·çš„å…¨å±€è®¾ç½®ã€‚å‚è§ <a class="" href="/moltbot-doc/concepts/multi-agent">å¤šä»£ç†è·¯ç”±</a>ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆå‘å¯¼è¯¢é—®æˆ‘çš„ç”µè¯å·ç ï¼Ÿ</strong><br>
å‘å¯¼ä½¿ç”¨å®ƒè®¾ç½®æ‚¨çš„<strong>å…è®¸åˆ—è¡¨/æ‰€æœ‰è€…</strong>ï¼Œä»¥ä¾¿æ‚¨çš„ç§ä¿¡è¢«å…è®¸ã€‚å®ƒä¸ç”¨äºè‡ªåŠ¨å‘é€ã€‚å¦‚æœæ‚¨åœ¨ä¸ªäºº WhatsApp å·ç ä¸Šè¿è¡Œï¼Œè¯·ä½¿ç”¨ç›¸åŒå·ç å¹¶å¯ç”¨ <code>channels.whatsapp.selfChatMode</code>ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æ¶ˆæ¯è§„èŒƒåŒ–æ¨¡å‹çœ‹åˆ°çš„å†…å®¹">æ¶ˆæ¯è§„èŒƒåŒ–ï¼ˆæ¨¡å‹çœ‹åˆ°çš„å†…å®¹ï¼‰<a href="#æ¶ˆæ¯è§„èŒƒåŒ–æ¨¡å‹çœ‹åˆ°çš„å†…å®¹" class="hash-link" aria-label="æ¶ˆæ¯è§„èŒƒåŒ–ï¼ˆæ¨¡å‹çœ‹åˆ°çš„å†…å®¹ï¼‰çš„ç›´æ¥é“¾æ¥" title="æ¶ˆæ¯è§„èŒƒåŒ–ï¼ˆæ¨¡å‹çœ‹åˆ°çš„å†…å®¹ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class=""><code>Body</code> æ˜¯å¸¦æœ‰ä¿¡å°çš„å½“å‰æ¶ˆæ¯æ­£æ–‡ã€‚</li>
<li class="">å¼•ç”¨å›å¤ä¸Šä¸‹æ–‡<strong>å§‹ç»ˆè¿½åŠ </strong>ï¼š
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">[å›å¤ç»™ +1555 id:ABC123]</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">&lt;å¼•ç”¨æ–‡æœ¬æˆ– &lt;media:...&gt;&gt;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">[/å›å¤]</span><br></span></code></pre></div></div>
</li>
<li class="">å›å¤å…ƒæ•°æ®ä¹Ÿè®¾ç½®ï¼š
<ul>
<li class=""><code>ReplyToId</code> = stanzaId</li>
<li class=""><code>ReplyToBody</code> = å¼•ç”¨æ­£æ–‡æˆ–åª’ä½“å ä½ç¬¦</li>
<li class=""><code>ReplyToSender</code> = å·²çŸ¥æ—¶çš„ E.164</li>
</ul>
</li>
<li class="">ä»…åª’ä½“å…¥ç«™æ¶ˆæ¯ä½¿ç”¨å ä½ç¬¦ï¼š
<ul>
<li class=""><code>&lt;media:image|video|audio|document|sticker&gt;</code></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç¾¤ç»„">ç¾¤ç»„<a href="#ç¾¤ç»„" class="hash-link" aria-label="ç¾¤ç»„çš„ç›´æ¥é“¾æ¥" title="ç¾¤ç»„çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">ç¾¤ç»„æ˜ å°„åˆ° <code>agent:&lt;agentId&gt;:whatsapp:group:&lt;jid&gt;</code> ä¼šè¯ã€‚</li>
<li class="">ç¾¤ç»„ç­–ç•¥ï¼š<code>channels.whatsapp.groupPolicy = open|disabled|allowlist</code>ï¼ˆé»˜è®¤ <code>allowlist</code>ï¼‰ã€‚</li>
<li class="">æ¿€æ´»æ¨¡å¼ï¼š
<ul>
<li class=""><code>mention</code>ï¼ˆé»˜è®¤ï¼‰ï¼šéœ€è¦ @æåŠæˆ–æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚</li>
<li class=""><code>always</code>ï¼šå§‹ç»ˆè§¦å‘ã€‚</li>
</ul>
</li>
<li class=""><code>/activation mention|always</code> ä»…æ‰€æœ‰è€…ï¼Œå¿…é¡»ä½œä¸ºç‹¬ç«‹æ¶ˆæ¯å‘é€ã€‚</li>
<li class="">æ‰€æœ‰è€… = <code>channels.whatsapp.allowFrom</code>ï¼ˆæˆ–æœªè®¾ç½®æ—¶çš„è‡ª E.164ï¼‰ã€‚</li>
<li class=""><strong>å†å²æ³¨å…¥</strong>ï¼ˆä»…å¾…å¤„ç†ï¼‰ï¼š
<ul>
<li class="">æœ€è¿‘çš„<em>æœªå¤„ç†</em>æ¶ˆæ¯ï¼ˆé»˜è®¤ 50ï¼‰æ’å…¥åœ¨ï¼š
<code>[è‡ªæ‚¨ä¸Šæ¬¡å›å¤ä»¥æ¥çš„èŠå¤©æ¶ˆæ¯ - ç”¨äºä¸Šä¸‹æ–‡]</code>ï¼ˆå·²åœ¨ä¼šè¯ä¸­çš„æ¶ˆæ¯ä¸ä¼šé‡æ–°æ³¨å…¥ï¼‰</li>
<li class="">å½“å‰æ¶ˆæ¯åœ¨ï¼š
<code>[å½“å‰æ¶ˆæ¯ - å›å¤æ­¤æ¶ˆæ¯]</code></li>
<li class="">å‘é€è€…åç¼€è¿½åŠ ï¼š<code>[æ¥è‡ªï¼šå§“å (+E164)]</code></li>
</ul>
</li>
<li class="">ç¾¤ç»„å…ƒæ•°æ®ç¼“å­˜ 5 åˆ†é’Ÿï¼ˆä¸»é¢˜ + å‚ä¸è€…ï¼‰ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å›å¤ä¼ é€’çº¿ç¨‹">å›å¤ä¼ é€’ï¼ˆçº¿ç¨‹ï¼‰<a href="#å›å¤ä¼ é€’çº¿ç¨‹" class="hash-link" aria-label="å›å¤ä¼ é€’ï¼ˆçº¿ç¨‹ï¼‰çš„ç›´æ¥é“¾æ¥" title="å›å¤ä¼ é€’ï¼ˆçº¿ç¨‹ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">WhatsApp Web å‘é€æ ‡å‡†æ¶ˆæ¯ï¼ˆå½“å‰ç½‘å…³ä¸­æ— å¼•ç”¨å›å¤çº¿ç¨‹ï¼‰ã€‚</li>
<li class="">æ­¤é€šé“å¿½ç•¥å›å¤æ ‡ç­¾ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç¡®è®¤ååº”æ¥æ”¶æ—¶è‡ªåŠ¨ååº”">ç¡®è®¤ååº”ï¼ˆæ¥æ”¶æ—¶è‡ªåŠ¨ååº”ï¼‰<a href="#ç¡®è®¤ååº”æ¥æ”¶æ—¶è‡ªåŠ¨ååº”" class="hash-link" aria-label="ç¡®è®¤ååº”ï¼ˆæ¥æ”¶æ—¶è‡ªåŠ¨ååº”ï¼‰çš„ç›´æ¥é“¾æ¥" title="ç¡®è®¤ååº”ï¼ˆæ¥æ”¶æ—¶è‡ªåŠ¨ååº”ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<p>WhatsApp å¯ä»¥åœ¨æ¥æ”¶æ¶ˆæ¯åç«‹å³è‡ªåŠ¨å‘é€è¡¨æƒ…ç¬¦å·ååº”ï¼Œç„¶ååœ¨æœºå™¨äººç”Ÿæˆå›å¤ä¹‹å‰ã€‚è¿™ä¸ºç”¨æˆ·æä¾›å³æ—¶åé¦ˆï¼Œè¡¨æ˜ä»–ä»¬çš„æ¶ˆæ¯å·²è¢«æ¥æ”¶ã€‚</p>
<p><strong>é…ç½®ï¼š</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token property" style="color:#F78C6C">&quot;whatsapp&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token property" style="color:#F78C6C">&quot;ackReaction&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;emoji&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;ğŸ‘€&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;direct&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token boolean" style="color:#F78C6C">true</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;group&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;mentions&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token punctuation" style="color:#C792EA">}</span><br></span></code></pre></div></div>
<p><strong>é€‰é¡¹ï¼š</strong></p>
<ul>
<li class=""><code>emoji</code>ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šç”¨äºç¡®è®¤çš„è¡¨æƒ…ç¬¦å·ï¼ˆä¾‹å¦‚ï¼Œ&quot;ğŸ‘€&quot;ï¼Œ&quot;âœ…&quot;ï¼Œ&quot;ğŸ“¨&quot;ï¼‰ã€‚ç©ºæˆ–çœç•¥ = åŠŸèƒ½ç¦ç”¨ã€‚</li>
<li class=""><code>direct</code>ï¼ˆå¸ƒå°”å€¼ï¼Œé»˜è®¤ï¼š<code>true</code>ï¼‰ï¼šåœ¨ç›´æ¥/ç§ä¿¡èŠå¤©ä¸­å‘é€ååº”ã€‚</li>
<li class=""><code>group</code>ï¼ˆå­—ç¬¦ä¸²ï¼Œé»˜è®¤ï¼š<code>&quot;mentions&quot;</code>ï¼‰ï¼šç¾¤ç»„èŠå¤©è¡Œä¸ºï¼š
<ul>
<li class=""><code>&quot;always&quot;</code>ï¼šå¯¹æ‰€æœ‰ç¾¤ç»„æ¶ˆæ¯ååº”ï¼ˆå³ä½¿æ²¡æœ‰ @æåŠï¼‰</li>
<li class=""><code>&quot;mentions&quot;</code>ï¼šä»…åœ¨æœºå™¨äººè¢« @æåŠ æ—¶ååº”</li>
<li class=""><code>&quot;never&quot;</code>ï¼šä»ä¸åœ¨ç¾¤ç»„ä¸­ååº”</li>
</ul>
</li>
</ul>
<p><strong>æŒ‰è´¦æˆ·è¦†ç›–ï¼š</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token property" style="color:#F78C6C">&quot;whatsapp&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token property" style="color:#F78C6C">&quot;accounts&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;work&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        </span><span class="token property" style="color:#F78C6C">&quot;ackReaction&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          </span><span class="token property" style="color:#F78C6C">&quot;emoji&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;âœ…&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          </span><span class="token property" style="color:#F78C6C">&quot;direct&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token boolean" style="color:#F78C6C">false</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          </span><span class="token property" style="color:#F78C6C">&quot;group&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;always&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token punctuation" style="color:#C792EA">}</span><br></span></code></pre></div></div>
<p><strong>è¡Œä¸ºæ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li class="">ååº”åœ¨æ¶ˆæ¯æ¥æ”¶æ—¶<strong>ç«‹å³</strong>å‘é€ï¼Œåœ¨è¾“å…¥æŒ‡ç¤ºå™¨æˆ–æœºå™¨äººå›å¤ä¹‹å‰ã€‚</li>
<li class="">åœ¨ <code>requireMention: false</code>ï¼ˆæ¿€æ´»ï¼šå§‹ç»ˆï¼‰çš„ç¾¤ç»„ä¸­ï¼Œ<code>group: &quot;mentions&quot;</code> å°†å¯¹æ‰€æœ‰æ¶ˆæ¯ååº”ï¼ˆä¸ä»… @æåŠï¼‰ã€‚</li>
<li class="">ä¸€æ¬¡æ€§å‘é€ï¼šååº”å¤±è´¥è¢«è®°å½•ä½†ä¸é˜»æ­¢æœºå™¨äººå›å¤ã€‚</li>
<li class="">å‚ä¸è€… JID è‡ªåŠ¨åŒ…å«åœ¨ç¾¤ç»„ååº”ä¸­ã€‚</li>
<li class="">WhatsApp å¿½ç•¥ <code>messages.ackReaction</code>ï¼›ä½¿ç”¨ <code>channels.whatsapp.ackReaction</code>ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä»£ç†å·¥å…·ååº”">ä»£ç†å·¥å…·ï¼ˆååº”ï¼‰<a href="#ä»£ç†å·¥å…·ååº”" class="hash-link" aria-label="ä»£ç†å·¥å…·ï¼ˆååº”ï¼‰çš„ç›´æ¥é“¾æ¥" title="ä»£ç†å·¥å…·ï¼ˆååº”ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">å·¥å…·ï¼š<code>whatsapp</code> ä¸ <code>react</code> åŠ¨ä½œï¼ˆ<code>chatJid</code>ï¼Œ<code>messageId</code>ï¼Œ<code>emoji</code>ï¼Œå¯é€‰ <code>remove</code>ï¼‰ã€‚</li>
<li class="">å¯é€‰ï¼š<code>participant</code>ï¼ˆç¾¤ç»„å‘é€è€…ï¼‰ï¼Œ<code>fromMe</code>ï¼ˆå¯¹è‡ªå·±æ¶ˆæ¯çš„ååº”ï¼‰ï¼Œ<code>accountId</code>ï¼ˆå¤šè´¦æˆ·ï¼‰ã€‚</li>
<li class="">ååº”ç§»é™¤è¯­ä¹‰ï¼šå‚è§ <a class="" href="/moltbot-doc/tools/reactions">/tools/reactions</a>ã€‚</li>
<li class="">å·¥å…·é—¨æ§ï¼š<code>channels.whatsapp.actions.reactions</code>ï¼ˆé»˜è®¤ï¼šå¯ç”¨ï¼‰ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é™åˆ¶">é™åˆ¶<a href="#é™åˆ¶" class="hash-link" aria-label="é™åˆ¶çš„ç›´æ¥é“¾æ¥" title="é™åˆ¶çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">å‡ºç«™æ–‡æœ¬åˆ†å‰²åˆ° <code>channels.whatsapp.textChunkLimit</code>ï¼ˆé»˜è®¤ 4000ï¼‰ã€‚</li>
<li class="">å¯é€‰çš„æ¢è¡Œåˆ†å‰²ï¼šè®¾ç½® <code>channels.whatsapp.chunkMode=&quot;newline&quot;</code> ä»¥åœ¨é•¿åº¦åˆ†å‰²ä¹‹å‰æŒ‰ç©ºè¡Œï¼ˆæ®µè½è¾¹ç•Œï¼‰åˆ†å‰²ã€‚</li>
<li class="">å…¥ç«™åª’ä½“ä¿å­˜é™åˆ¶ä¸º <code>channels.whatsapp.mediaMaxMb</code>ï¼ˆé»˜è®¤ 50 MBï¼‰ã€‚</li>
<li class="">å‡ºç«™åª’ä½“é¡¹ç›®é™åˆ¶ä¸º <code>agents.defaults.mediaMaxMb</code>ï¼ˆé»˜è®¤ 5 MBï¼‰ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å‡ºç«™å‘é€æ–‡æœ¬--åª’ä½“">å‡ºç«™å‘é€ï¼ˆæ–‡æœ¬ + åª’ä½“ï¼‰<a href="#å‡ºç«™å‘é€æ–‡æœ¬--åª’ä½“" class="hash-link" aria-label="å‡ºç«™å‘é€ï¼ˆæ–‡æœ¬ + åª’ä½“ï¼‰çš„ç›´æ¥é“¾æ¥" title="å‡ºç«™å‘é€ï¼ˆæ–‡æœ¬ + åª’ä½“ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">ä½¿ç”¨æ´»è·ƒçš„ç½‘ç»œç›‘å¬å™¨ï¼›å¦‚æœç½‘å…³æœªè¿è¡Œåˆ™å‡ºé”™ã€‚</li>
<li class="">æ–‡æœ¬åˆ†å‰²ï¼šæ¯æ¶ˆæ¯æœ€å¤§ 4kï¼ˆå¯é€šè¿‡ <code>channels.whatsapp.textChunkLimit</code> é…ç½®ï¼Œå¯é€‰ <code>channels.whatsapp.chunkMode</code>ï¼‰ã€‚</li>
<li class="">åª’ä½“ï¼š
<ul>
<li class="">æ”¯æŒå›¾åƒ/è§†é¢‘/éŸ³é¢‘/æ–‡æ¡£ã€‚</li>
<li class="">éŸ³é¢‘ä½œä¸º PTT å‘é€ï¼›<code>audio/ogg</code> =&gt; <code>audio/ogg; codecs=opus</code>ã€‚</li>
<li class="">æ ‡é¢˜ä»…åœ¨ç¬¬ä¸€ä¸ªåª’ä½“é¡¹ç›®ä¸Šã€‚</li>
<li class="">åª’ä½“è·å–æ”¯æŒ HTTP(S) å’Œæœ¬åœ°è·¯å¾„ã€‚</li>
<li class="">åŠ¨ç”» GIFï¼šWhatsApp æœŸæœ› MP4 ä¸ <code>gifPlayback: true</code> ç”¨äºå†…è”å¾ªç¯æ’­æ”¾ã€‚
<ul>
<li class="">CLIï¼š<code>moltbot message send --media &lt;mp4&gt; --gif-playback</code></li>
<li class="">ç½‘å…³ï¼š<code>send</code> å‚æ•°åŒ…æ‹¬ <code>gifPlayback: true</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¯­éŸ³ç¬”è®°ptt-éŸ³é¢‘">è¯­éŸ³ç¬”è®°ï¼ˆPTT éŸ³é¢‘ï¼‰<a href="#è¯­éŸ³ç¬”è®°ptt-éŸ³é¢‘" class="hash-link" aria-label="è¯­éŸ³ç¬”è®°ï¼ˆPTT éŸ³é¢‘ï¼‰çš„ç›´æ¥é“¾æ¥" title="è¯­éŸ³ç¬”è®°ï¼ˆPTT éŸ³é¢‘ï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<p>WhatsApp å°†éŸ³é¢‘ä½œä¸º<strong>è¯­éŸ³ç¬”è®°</strong>ï¼ˆPTT æ°”æ³¡ï¼‰å‘é€ã€‚</p>
<ul>
<li class="">æœ€ä½³ç»“æœï¼šOGG/Opusã€‚Moltbot å°† <code>audio/ogg</code> é‡å†™ä¸º <code>audio/ogg; codecs=opus</code>ã€‚</li>
<li class=""><code>[[audio_as_voice]]</code> å¯¹ WhatsApp è¢«å¿½ç•¥ï¼ˆéŸ³é¢‘å·²ä½œä¸ºè¯­éŸ³ç¬”è®°å‘é€ï¼‰ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="åª’ä½“é™åˆ¶--ä¼˜åŒ–">åª’ä½“é™åˆ¶ + ä¼˜åŒ–<a href="#åª’ä½“é™åˆ¶--ä¼˜åŒ–" class="hash-link" aria-label="åª’ä½“é™åˆ¶ + ä¼˜åŒ–çš„ç›´æ¥é“¾æ¥" title="åª’ä½“é™åˆ¶ + ä¼˜åŒ–çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">é»˜è®¤å‡ºç«™é™åˆ¶ï¼š5 MBï¼ˆæ¯ä¸ªåª’ä½“é¡¹ç›®ï¼‰ã€‚</li>
<li class="">è¦†ç›–ï¼š<code>agents.defaults.mediaMaxMb</code>ã€‚</li>
<li class="">å›¾åƒè‡ªåŠ¨ä¼˜åŒ–ä¸ºä½äºé™åˆ¶çš„ JPEGï¼ˆè°ƒæ•´å¤§å° + è´¨é‡æ‰«æï¼‰ã€‚</li>
<li class="">è¶…å¤§åª’ä½“ =&gt; é”™è¯¯ï¼›åª’ä½“å›å¤å›é€€åˆ°æ–‡æœ¬è­¦å‘Šã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å¿ƒè·³">å¿ƒè·³<a href="#å¿ƒè·³" class="hash-link" aria-label="å¿ƒè·³çš„ç›´æ¥é“¾æ¥" title="å¿ƒè·³çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class=""><strong>ç½‘å…³å¿ƒè·³</strong> è®°å½•è¿æ¥å¥åº·çŠ¶å†µï¼ˆ<code>web.heartbeatSeconds</code>ï¼Œé»˜è®¤ 60sï¼‰ã€‚</li>
<li class=""><strong>ä»£ç†å¿ƒè·³</strong> å¯ä»¥æŒ‰ä»£ç†é…ç½®ï¼ˆ<code>agents.list[].heartbeat</code>ï¼‰æˆ–å…¨å±€
é€šè¿‡ <code>agents.defaults.heartbeat</code>ï¼ˆå½“æœªè®¾ç½®æŒ‰ä»£ç†æ¡ç›®æ—¶å›é€€ï¼‰ã€‚
<ul>
<li class="">ä½¿ç”¨é…ç½®çš„å¿ƒè·³æç¤ºï¼ˆé»˜è®¤ï¼š<code>å¦‚æœå­˜åœ¨ HEARTBEAT.mdï¼ˆå·¥ä½œåŒºä¸Šä¸‹æ–‡ï¼‰è¯·é˜…è¯»ã€‚ä¸¥æ ¼éµå¾ªã€‚ä¸è¦ä»ä¹‹å‰çš„èŠå¤©ä¸­æ¨æ–­æˆ–é‡å¤æ—§ä»»åŠ¡ã€‚å¦‚æœæ— éœ€å…³æ³¨ï¼Œå›å¤ HEARTBEAT_OKã€‚</code>ï¼‰+ <code>HEARTBEAT_OK</code> è·³è¿‡è¡Œä¸ºã€‚</li>
<li class="">ä¼ é€’é»˜è®¤ä¸ºæœ€åä½¿ç”¨çš„é€šé“ï¼ˆæˆ–é…ç½®çš„ç›®æ ‡ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é‡è¿è¡Œä¸º">é‡è¿è¡Œä¸º<a href="#é‡è¿è¡Œä¸º" class="hash-link" aria-label="é‡è¿è¡Œä¸ºçš„ç›´æ¥é“¾æ¥" title="é‡è¿è¡Œä¸ºçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">é€€é¿ç­–ç•¥ï¼š<code>web.reconnect</code>ï¼š
<ul>
<li class=""><code>initialMs</code>ï¼Œ<code>maxMs</code>ï¼Œ<code>factor</code>ï¼Œ<code>jitter</code>ï¼Œ<code>maxAttempts</code>ã€‚</li>
</ul>
</li>
<li class="">å¦‚æœè¾¾åˆ°æœ€å¤§å°è¯•æ¬¡æ•°ï¼Œç½‘ç»œç›‘æ§åœæ­¢ï¼ˆé™çº§ï¼‰ã€‚</li>
<li class="">ç™»å‡º =&gt; åœæ­¢å¹¶è¦æ±‚é‡æ–°é“¾æ¥ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é…ç½®å¿«é€Ÿæ˜ å°„">é…ç½®å¿«é€Ÿæ˜ å°„<a href="#é…ç½®å¿«é€Ÿæ˜ å°„" class="hash-link" aria-label="é…ç½®å¿«é€Ÿæ˜ å°„çš„ç›´æ¥é“¾æ¥" title="é…ç½®å¿«é€Ÿæ˜ å°„çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class=""><code>channels.whatsapp.dmPolicy</code>ï¼ˆç§ä¿¡ç­–ç•¥ï¼šé…å¯¹/å…è®¸åˆ—è¡¨/å¼€æ”¾/ç¦ç”¨ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.selfChatMode</code>ï¼ˆåŒç”µè¯è®¾ç½®ï¼›æœºå™¨äººä½¿ç”¨æ‚¨çš„ä¸ªäºº WhatsApp å·ç ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.allowFrom</code>ï¼ˆç§ä¿¡å…è®¸åˆ—è¡¨ï¼‰ã€‚WhatsApp ä½¿ç”¨ E.164 ç”µè¯å·ç ï¼ˆæ— ç”¨æˆ·åï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.mediaMaxMb</code>ï¼ˆå…¥ç«™åª’ä½“ä¿å­˜é™åˆ¶ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.ackReaction</code>ï¼ˆæ¶ˆæ¯æ¥æ”¶æ—¶è‡ªåŠ¨ååº”ï¼š<code>{emoji, direct, group}</code>ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.accounts.&lt;accountId&gt;.*</code>ï¼ˆæŒ‰è´¦æˆ·è®¾ç½® + å¯é€‰ <code>authDir</code>ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.accounts.&lt;accountId&gt;.mediaMaxMb</code>ï¼ˆæŒ‰è´¦æˆ·å…¥ç«™åª’ä½“é™åˆ¶ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.accounts.&lt;accountId&gt;.ackReaction</code>ï¼ˆæŒ‰è´¦æˆ·ç¡®è®¤ååº”è¦†ç›–ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.groupAllowFrom</code>ï¼ˆç¾¤ç»„å‘é€è€…å…è®¸åˆ—è¡¨ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.groupPolicy</code>ï¼ˆç¾¤ç»„ç­–ç•¥ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.historyLimit</code> / <code>channels.whatsapp.accounts.&lt;accountId&gt;.historyLimit</code>ï¼ˆç¾¤ç»„å†å²ä¸Šä¸‹æ–‡ï¼›<code>0</code> ç¦ç”¨ï¼‰ã€‚</li>
<li class=""><code>channels.whatsapp.dmHistoryLimit</code>ï¼ˆç§ä¿¡å†å²é™åˆ¶ï¼ˆç”¨æˆ·å›åˆï¼‰ï¼‰ã€‚æŒ‰ç”¨æˆ·è¦†ç›–ï¼š<code>channels.whatsapp.dms[&quot;&lt;phone&gt;&quot;].historyLimit</code>ã€‚</li>
<li class=""><code>channels.whatsapp.groups</code>ï¼ˆç¾¤ç»„å…è®¸åˆ—è¡¨ + æåŠé—¨æ§é»˜è®¤å€¼ï¼›ä½¿ç”¨ <code>&quot;*&quot;</code> å…è®¸æ‰€æœ‰ï¼‰</li>
<li class=""><code>channels.whatsapp.actions.reactions</code>ï¼ˆé—¨æ§ WhatsApp å·¥å…·ååº”ï¼‰ã€‚</li>
<li class=""><code>agents.list[].groupChat.mentionPatterns</code>ï¼ˆæˆ– <code>messages.groupChat.mentionPatterns</code>ï¼‰</li>
<li class=""><code>messages.groupChat.historyLimit</code></li>
<li class=""><code>channels.whatsapp.messagePrefix</code>ï¼ˆå…¥ç«™å‰ç¼€ï¼›æŒ‰è´¦æˆ·ï¼š<code>channels.whatsapp.accounts.&lt;accountId&gt;.messagePrefix</code>ï¼›å·²å¼ƒç”¨ï¼š<code>messages.messagePrefix</code>ï¼‰</li>
<li class=""><code>messages.responsePrefix</code>ï¼ˆå‡ºç«™å‰ç¼€ï¼‰</li>
<li class=""><code>agents.defaults.mediaMaxMb</code></li>
<li class=""><code>agents.defaults.heartbeat.every</code></li>
<li class=""><code>agents.defaults.heartbeat.model</code>ï¼ˆå¯é€‰è¦†ç›–ï¼‰</li>
<li class=""><code>agents.defaults.heartbeat.target</code></li>
<li class=""><code>agents.defaults.heartbeat.to</code></li>
<li class=""><code>agents.defaults.heartbeat.session</code></li>
<li class=""><code>agents.list[].heartbeat.*</code>ï¼ˆæŒ‰ä»£ç†è¦†ç›–ï¼‰</li>
<li class=""><code>session.*</code>ï¼ˆèŒƒå›´ï¼Œç©ºé—²ï¼Œå­˜å‚¨ï¼Œä¸»é”®ï¼‰</li>
<li class=""><code>web.enabled</code>ï¼ˆä¸ºå‡æ—¶ç¦ç”¨é€šé“å¯åŠ¨ï¼‰</li>
<li class=""><code>web.heartbeatSeconds</code></li>
<li class=""><code>web.reconnect.*</code></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æ—¥å¿—--æ•…éšœæ’é™¤">æ—¥å¿— + æ•…éšœæ’é™¤<a href="#æ—¥å¿—--æ•…éšœæ’é™¤" class="hash-link" aria-label="æ—¥å¿— + æ•…éšœæ’é™¤çš„ç›´æ¥é“¾æ¥" title="æ—¥å¿— + æ•…éšœæ’é™¤çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ul>
<li class="">å­ç³»ç»Ÿï¼š<code>whatsapp/inbound</code>ï¼Œ<code>whatsapp/outbound</code>ï¼Œ<code>web-heartbeat</code>ï¼Œ<code>web-reconnect</code>ã€‚</li>
<li class="">æ—¥å¿—æ–‡ä»¶ï¼š<code>/tmp/moltbot/moltbot-YYYY-MM-DD.log</code>ï¼ˆå¯é…ç½®ï¼‰ã€‚</li>
<li class="">æ•…éšœæ’é™¤æŒ‡å—ï¼š<a class="" href="/moltbot-doc/gateway/troubleshooting">ç½‘å…³æ•…éšœæ’é™¤</a>ã€‚</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æ•…éšœæ’é™¤å¿«é€Ÿ">æ•…éšœæ’é™¤ï¼ˆå¿«é€Ÿï¼‰<a href="#æ•…éšœæ’é™¤å¿«é€Ÿ" class="hash-link" aria-label="æ•…éšœæ’é™¤ï¼ˆå¿«é€Ÿï¼‰çš„ç›´æ¥é“¾æ¥" title="æ•…éšœæ’é™¤ï¼ˆå¿«é€Ÿï¼‰çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<p><strong>æœªé“¾æ¥ / éœ€è¦ QR ç™»å½•</strong></p>
<ul>
<li class="">ç—‡çŠ¶ï¼š<code>channels status</code> æ˜¾ç¤º <code>linked: false</code> æˆ–è­¦å‘Š&quot;æœªé“¾æ¥&quot;ã€‚</li>
<li class="">ä¿®å¤ï¼šåœ¨ç½‘å…³ä¸»æœºä¸Šè¿è¡Œ <code>moltbot channels login</code> å¹¶æ‰«æ QRï¼ˆWhatsApp â†’ è®¾ç½® â†’ å·²è¿æ¥çš„è®¾å¤‡ï¼‰ã€‚</li>
</ul>
<p><strong>å·²é“¾æ¥ä½†æ–­å¼€è¿æ¥ / é‡è¿å¾ªç¯</strong></p>
<ul>
<li class="">ç—‡çŠ¶ï¼š<code>channels status</code> æ˜¾ç¤º <code>running, disconnected</code> æˆ–è­¦å‘Š&quot;å·²é“¾æ¥ä½†æ–­å¼€è¿æ¥&quot;ã€‚</li>
<li class="">ä¿®å¤ï¼š<code>moltbot doctor</code>ï¼ˆæˆ–é‡å¯ç½‘å…³ï¼‰ã€‚å¦‚æœæŒç»­ï¼Œè¯·é€šè¿‡ <code>channels login</code> é‡æ–°é“¾æ¥å¹¶æ£€æŸ¥ <code>moltbot logs --follow</code>ã€‚</li>
</ul>
<p><strong>Bun è¿è¡Œæ—¶</strong></p>
<ul>
<li class="">ä¸æ¨è<strong>Bun</strong>ã€‚WhatsAppï¼ˆBaileysï¼‰å’Œ Telegram åœ¨ Bun ä¸Šä¸å¯é ã€‚
ä½¿ç”¨<strong>Node</strong>è¿è¡Œç½‘å…³ã€‚ï¼ˆå‚è§å…¥é—¨è¿è¡Œæ—¶è¯´æ˜ã€‚ï¼‰</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="æ–‡ä»¶é€‰é¡¹å¡"></nav></div></div><div class="col col--3"><div class="tocWrapper_xKoj"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å¿«é€Ÿè®¾ç½®åˆå­¦è€…" class="table-of-contents__link toc-highlight">å¿«é€Ÿè®¾ç½®ï¼ˆåˆå­¦è€…ï¼‰</a></li><li><a href="#ç›®æ ‡" class="table-of-contents__link toc-highlight">ç›®æ ‡</a></li><li><a href="#é…ç½®å†™å…¥" class="table-of-contents__link toc-highlight">é…ç½®å†™å…¥</a></li><li><a href="#æ¶æ„è°æ‹¥æœ‰ä»€ä¹ˆ" class="table-of-contents__link toc-highlight">æ¶æ„ï¼ˆè°æ‹¥æœ‰ä»€ä¹ˆï¼‰</a></li><li><a href="#è·å–ç”µè¯å·ç ä¸¤ç§æ¨¡å¼" class="table-of-contents__link toc-highlight">è·å–ç”µè¯å·ç ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰</a><ul><li><a href="#ä¸“ç”¨å·ç æ¨è" class="table-of-contents__link toc-highlight">ä¸“ç”¨å·ç ï¼ˆæ¨èï¼‰</a></li><li><a href="#ä¸ªäººå·ç å›é€€" class="table-of-contents__link toc-highlight">ä¸ªäººå·ç ï¼ˆå›é€€ï¼‰</a></li><li><a href="#å·ç è·å–æŠ€å·§" class="table-of-contents__link toc-highlight">å·ç è·å–æŠ€å·§</a></li></ul></li><li><a href="#ä¸ºä»€ä¹ˆä¸ä½¿ç”¨-twilio" class="table-of-contents__link toc-highlight">ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ Twilioï¼Ÿ</a></li><li><a href="#ç™»å½•--å‡­æ®" class="table-of-contents__link toc-highlight">ç™»å½• + å‡­æ®</a></li><li><a href="#å…¥ç«™æµç¨‹ç§ä¿¡--ç¾¤ç»„" class="table-of-contents__link toc-highlight">å…¥ç«™æµç¨‹ï¼ˆç§ä¿¡ + ç¾¤ç»„ï¼‰</a><ul><li><a href="#ä¸ªäººå·ç æ¨¡å¼å›é€€" class="table-of-contents__link toc-highlight">ä¸ªäººå·ç æ¨¡å¼ï¼ˆå›é€€ï¼‰</a></li></ul></li><li><a href="#å·²è¯»å›æ‰§" class="table-of-contents__link toc-highlight">å·²è¯»å›æ‰§</a></li><li><a href="#whatsapp-faqå‘é€æ¶ˆæ¯--é…å¯¹" class="table-of-contents__link toc-highlight">WhatsApp FAQï¼šå‘é€æ¶ˆæ¯ + é…å¯¹</a></li><li><a href="#æ¶ˆæ¯è§„èŒƒåŒ–æ¨¡å‹çœ‹åˆ°çš„å†…å®¹" class="table-of-contents__link toc-highlight">æ¶ˆæ¯è§„èŒƒåŒ–ï¼ˆæ¨¡å‹çœ‹åˆ°çš„å†…å®¹ï¼‰</a></li><li><a href="#ç¾¤ç»„" class="table-of-contents__link toc-highlight">ç¾¤ç»„</a></li><li><a href="#å›å¤ä¼ é€’çº¿ç¨‹" class="table-of-contents__link toc-highlight">å›å¤ä¼ é€’ï¼ˆçº¿ç¨‹ï¼‰</a></li><li><a href="#ç¡®è®¤ååº”æ¥æ”¶æ—¶è‡ªåŠ¨ååº”" class="table-of-contents__link toc-highlight">ç¡®è®¤ååº”ï¼ˆæ¥æ”¶æ—¶è‡ªåŠ¨ååº”ï¼‰</a></li><li><a href="#ä»£ç†å·¥å…·ååº”" class="table-of-contents__link toc-highlight">ä»£ç†å·¥å…·ï¼ˆååº”ï¼‰</a></li><li><a href="#é™åˆ¶" class="table-of-contents__link toc-highlight">é™åˆ¶</a></li><li><a href="#å‡ºç«™å‘é€æ–‡æœ¬--åª’ä½“" class="table-of-contents__link toc-highlight">å‡ºç«™å‘é€ï¼ˆæ–‡æœ¬ + åª’ä½“ï¼‰</a></li><li><a href="#è¯­éŸ³ç¬”è®°ptt-éŸ³é¢‘" class="table-of-contents__link toc-highlight">è¯­éŸ³ç¬”è®°ï¼ˆPTT éŸ³é¢‘ï¼‰</a></li><li><a href="#åª’ä½“é™åˆ¶--ä¼˜åŒ–" class="table-of-contents__link toc-highlight">åª’ä½“é™åˆ¶ + ä¼˜åŒ–</a></li><li><a href="#å¿ƒè·³" class="table-of-contents__link toc-highlight">å¿ƒè·³</a></li><li><a href="#é‡è¿è¡Œä¸º" class="table-of-contents__link toc-highlight">é‡è¿è¡Œä¸º</a></li><li><a href="#é…ç½®å¿«é€Ÿæ˜ å°„" class="table-of-contents__link toc-highlight">é…ç½®å¿«é€Ÿæ˜ å°„</a></li><li><a href="#æ—¥å¿—--æ•…éšœæ’é™¤" class="table-of-contents__link toc-highlight">æ—¥å¿— + æ•…éšœæ’é™¤</a></li><li><a href="#æ•…éšœæ’é™¤å¿«é€Ÿ" class="table-of-contents__link toc-highlight">æ•…éšœæ’é™¤ï¼ˆå¿«é€Ÿï¼‰</a></li></ul></div><div class="tocFooter_Fu2z"><div class="themeGroup_RzWV" role="group" aria-label="Theme"><button class="themeBtn_tGr6" aria-label="Light theme" title="Light"><svg viewBox="0 0 24 24" width="15" height="15" fill="currentColor" aria-hidden="true"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg></button><button class="themeBtn_tGr6 themeBtnActive_A6tm" aria-label="Dark theme" title="Dark"><svg viewBox="0 0 24 24" width="15" height="15" fill="currentColor" aria-hidden="true"><path d="M11.38 2.019a7.5 7.5 0 1 0 10.6 10.6C21.83 17.963 17.315 22 12.002 22 6.477 22 2 17.523 2 12c0-5.314 4.038-9.827 9.38-10.28z"></path></svg></button></div></div></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 Moltbot Docs.</div></div></div></footer></div>
</body>
</html>