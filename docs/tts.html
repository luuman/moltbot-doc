<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">文本转语音 (TTS) | Moltbot Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://luuman.github.io/moltbot-doc/docs/tts"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="文本转语音 (TTS) | Moltbot Docs"><meta data-rh="true" name="description" content="Moltbot 可以使用 ElevenLabs、OpenAI 或 Edge TTS 将出站回复转换为音频。"><meta data-rh="true" property="og:description" content="Moltbot 可以使用 ElevenLabs、OpenAI 或 Edge TTS 将出站回复转换为音频。"><link data-rh="true" rel="icon" href="/moltbot-doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://luuman.github.io/moltbot-doc/docs/tts"><link data-rh="true" rel="alternate" href="https://luuman.github.io/moltbot-doc/docs/tts" hreflang="zh"><link data-rh="true" rel="alternate" href="https://luuman.github.io/moltbot-doc/docs/tts" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/moltbot-doc/blog/rss.xml" title="Moltbot Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/moltbot-doc/blog/atom.xml" title="Moltbot Docs Atom Feed"><link rel="stylesheet" href="/moltbot-doc/assets/css/styles.484b4c98.css">
<script src="/moltbot-doc/assets/js/runtime~main.6cf495cf.js" defer="defer"></script>
<script src="/moltbot-doc/assets/js/main.f9205183.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbar_MONK" role="navigation" aria-label="Main"><div class="navbarInner_ASTH"><div class="navbarLeft_pUmY"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="brand_SXL9" href="/moltbot-doc/"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" rx="6" fill="var(--ifm-color-primary)"></rect><path d="M7 8.5h10M7 12h7M7 15.5h10" stroke="white" stroke-width="1.8" stroke-linecap="round"></path></svg><span class="brandTitle_XbyU">Moltbot</span></a><div class="dropdown_GrgZ"><button class="dropdownToggle_Nf_z">全部站点<svg class="dropdownArrow_Eka8" viewBox="0 0 12 12" fill="none"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><ul class="dropdownMenu_zsxH"><li><a href="https://luuman.github.io/docs-workspace/docs" class="dropdownMenuItem_VBaP">Workspace</a></li><li><a href="https://luuman.github.io/claude-doc/docs" class="dropdownMenuItem_VBaP">Claude</a></li><li><a href="https://luuman.github.io/electron-doc/docs" class="dropdownMenuItem_VBaP">Electron</a></li><li><a href="https://luuman.github.io/tauri-doc/docs" class="dropdownMenuItem_VBaP">Tauri</a></li><li><a href="https://luuman.github.io/matrx-doc/docs" class="dropdownMenuItem_VBaP">Matrx</a></li><li><a href="https://luuman.github.io/brainboard-doc/docs" class="dropdownMenuItem_VBaP">Brainboard</a></li><li><a href="https://luuman.github.io/synology-doc/docs" class="dropdownMenuItem_VBaP">Synology</a></li><li><a href="https://luuman.github.io/codex-doc/docs" class="dropdownMenuItem_VBaP">Codex</a></li><li><a href="https://luuman.github.io/ai-doc/docs" class="dropdownMenuItem_VBaP">AI</a></li></ul></div></div><div class="navbarCenter_Zdr3"><div class="root_OF3s"><span class="icon_UcOK" aria-hidden="true"><svg viewBox="0 0 24 24" fill="currentColor" width="15" height="15"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg></span><div class="slot__FGx"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div class="navbarRight_q16u"><a class="navLink_RnnM" href="/moltbot-doc/docs">Docs</a><a class="navLink_RnnM" href="/moltbot-doc/blog">Blog</a><button class="themeToggle_zD_x" aria-label="Switch to light theme" title="Light"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg></button></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>文本转语音 (TTS)</h1></header>
<p>Moltbot 可以使用 ElevenLabs、OpenAI 或 Edge TTS 将出站回复转换为音频。
它可以在 Moltbot 可以发送音频的任何地方工作；Telegram 会得到一个圆形语音留言气泡。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="支持的服务">支持的服务<a href="#支持的服务" class="hash-link" aria-label="支持的服务的直接链接" title="支持的服务的直接链接" translate="no">​</a></h2>
<ul>
<li class=""><strong>ElevenLabs</strong> (主要或备用提供商)</li>
<li class=""><strong>OpenAI</strong> (主要或备用提供商；也用于摘要)</li>
<li class=""><strong>Edge TTS</strong> (主要或备用提供商；使用 <code>node-edge-tts</code>，没有 API 密钥时的默认选项)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="edge-tts-说明">Edge TTS 说明<a href="#edge-tts-说明" class="hash-link" aria-label="Edge TTS 说明的直接链接" title="Edge TTS 说明的直接链接" translate="no">​</a></h3>
<p>Edge TTS 通过 <code>node-edge-tts</code> 库使用 Microsoft Edge 的在线神经 TTS 服务。这是一个托管服务（不是本地的），使用 Microsoft 的端点，不需要 API 密钥。<code>node-edge-tts</code> 提供语音配置选项和输出格式，但并非所有选项都受 Edge 服务支持。</p>
<p>由于 Edge TTS 是一个没有发布 SLA 或配额的公共网络服务，请将其视为尽力而为的服务。如果您需要保证的限制和支持，请使用 OpenAI 或 ElevenLabs。Microsoft 的语音 REST API 文档记录了每个请求 10 分钟的音频限制；Edge TTS 没有发布限制，因此假设类似的或更低的限制。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="可选密钥">可选密钥<a href="#可选密钥" class="hash-link" aria-label="可选密钥的直接链接" title="可选密钥的直接链接" translate="no">​</a></h2>
<p>如果您想要 OpenAI 或 ElevenLabs：</p>
<ul>
<li class=""><code>ELEVENLABS_API_KEY</code> (或 <code>XI_API_KEY</code>)</li>
<li class=""><code>OPENAI_API_KEY</code></li>
</ul>
<p>Edge TTS <strong>不需要</strong> API 密钥。如果找不到 API 密钥，Moltbot 默认使用 Edge TTS（除非通过 <code>messages.tts.edge.enabled=false</code> 禁用）。</p>
<p>如果配置了多个提供商，将首先使用选定的提供商，其他提供商作为备用选项。
自动摘要使用配置的 <code>summaryModel</code>（或 <code>agents.defaults.model.primary</code>），
因此如果您启用了摘要，该提供商也必须经过身份验证。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="服务链接">服务链接<a href="#服务链接" class="hash-link" aria-label="服务链接的直接链接" title="服务链接的直接链接" translate="no">​</a></h2>
<ul>
<li class=""><a href="https://platform.openai.com/docs/guides/text-to-speech" target="_blank" rel="noopener noreferrer" class="">OpenAI 文本转语音指南</a></li>
<li class=""><a href="https://platform.openai.com/docs/api-reference/audio" target="_blank" rel="noopener noreferrer" class="">OpenAI 音频 API 参考</a></li>
<li class=""><a href="https://elevenlabs.io/docs/api-reference/text-to-speech" target="_blank" rel="noopener noreferrer" class="">ElevenLabs 文本转语音</a></li>
<li class=""><a href="https://elevenlabs.io/docs/api-reference/authentication" target="_blank" rel="noopener noreferrer" class="">ElevenLabs 身份验证</a></li>
<li class=""><a href="https://github.com/SchneeHertz/node-edge-tts" target="_blank" rel="noopener noreferrer" class="">node-edge-tts</a></li>
<li class=""><a href="https://learn.microsoft.com/azure/ai-services/speech-service/rest-text-to-speech#audio-outputs" target="_blank" rel="noopener noreferrer" class="">Microsoft 语音输出格式</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="默认启用吗">默认启用吗？<a href="#默认启用吗" class="hash-link" aria-label="默认启用吗？的直接链接" title="默认启用吗？的直接链接" translate="no">​</a></h2>
<p>没有。自动 TTS 默认是 <strong>关闭</strong> 的。在配置中使用
<code>messages.tts.auto</code> 启用，或在会话中使用 <code>/tts always</code>（别名：<code>/tts on</code>）。</p>
<p>Edge TTS 在 TTS 启用后默认是 <strong>启用</strong> 的，并且在没有 OpenAI 或 ElevenLabs API 密钥可用时自动使用。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="配置">配置<a href="#配置" class="hash-link" aria-label="配置的直接链接" title="配置的直接链接" translate="no">​</a></h2>
<p>TTS 配置位于 <code>moltbot.json</code> 中的 <code>messages.tts</code> 下。
完整架构在 <a class="" href="/moltbot-doc/gateway/configuration">网关配置</a> 中。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="最小配置启用--提供商">最小配置（启用 + 提供商）<a href="#最小配置启用--提供商" class="hash-link" aria-label="最小配置（启用 + 提供商）的直接链接" title="最小配置（启用 + 提供商）的直接链接" translate="no">​</a></h3>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  messages: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    tts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      auto: &quot;always&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      provider: &quot;elevenlabs&quot;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="openai-主要elevenlabs-备用">OpenAI 主要，ElevenLabs 备用<a href="#openai-主要elevenlabs-备用" class="hash-link" aria-label="OpenAI 主要，ElevenLabs 备用的直接链接" title="OpenAI 主要，ElevenLabs 备用的直接链接" translate="no">​</a></h3>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  messages: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    tts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      auto: &quot;always&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      provider: &quot;openai&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      summaryModel: &quot;openai/gpt-4.1-mini&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      modelOverrides: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        enabled: true</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      openai: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        apiKey: &quot;openai_api_key&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        model: &quot;gpt-4o-mini-tts&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        voice: &quot;alloy&quot;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      elevenlabs: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        apiKey: &quot;elevenlabs_api_key&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        baseUrl: &quot;https://api.elevenlabs.io&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        voiceId: &quot;voice_id&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        modelId: &quot;eleven_multilingual_v2&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        seed: 42,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        applyTextNormalization: &quot;auto&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        languageCode: &quot;en&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        voiceSettings: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          stability: 0.5,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          similarityBoost: 0.75,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          style: 0.0,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          useSpeakerBoost: true,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          speed: 1.0</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="edge-tts-主要无需-api-密钥">Edge TTS 主要（无需 API 密钥）<a href="#edge-tts-主要无需-api-密钥" class="hash-link" aria-label="Edge TTS 主要（无需 API 密钥）的直接链接" title="Edge TTS 主要（无需 API 密钥）的直接链接" translate="no">​</a></h3>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  messages: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    tts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      auto: &quot;always&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      provider: &quot;edge&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      edge: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        enabled: true,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        voice: &quot;en-US-MichelleNeural&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        lang: &quot;en-US&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        outputFormat: &quot;audio-24khz-48kbitrate-mono-mp3&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        rate: &quot;+10%&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        pitch: &quot;-5%&quot;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="禁用-edge-tts">禁用 Edge TTS<a href="#禁用-edge-tts" class="hash-link" aria-label="禁用 Edge TTS的直接链接" title="禁用 Edge TTS的直接链接" translate="no">​</a></h3>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  messages: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    tts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      edge: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        enabled: false</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="自定义限制--首选项路径">自定义限制 + 首选项路径<a href="#自定义限制--首选项路径" class="hash-link" aria-label="自定义限制 + 首选项路径的直接链接" title="自定义限制 + 首选项路径的直接链接" translate="no">​</a></h3>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  messages: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    tts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      auto: &quot;always&quot;,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      maxTextLength: 4000,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      timeoutMs: 30000,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      prefsPath: &quot;~/.clawdbot/settings/tts.json&quot;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="仅在收到入站语音留言后用音频回复">仅在收到入站语音留言后用音频回复<a href="#仅在收到入站语音留言后用音频回复" class="hash-link" aria-label="仅在收到入站语音留言后用音频回复的直接链接" title="仅在收到入站语音留言后用音频回复的直接链接" translate="no">​</a></h3>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  messages: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    tts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      auto: &quot;inbound&quot;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="为长回复禁用自动摘要">为长回复禁用自动摘要<a href="#为长回复禁用自动摘要" class="hash-link" aria-label="为长回复禁用自动摘要的直接链接" title="为长回复禁用自动摘要的直接链接" translate="no">​</a></h3>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  messages: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    tts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      auto: &quot;always&quot;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>然后运行：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts summary off</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="字段说明">字段说明<a href="#字段说明" class="hash-link" aria-label="字段说明的直接链接" title="字段说明的直接链接" translate="no">​</a></h3>
<ul>
<li class=""><code>auto</code>: 自动 TTS 模式 (<code>off</code>, <code>always</code>, <code>inbound</code>, <code>tagged</code>)。
<ul>
<li class=""><code>inbound</code> 仅在收到入站语音留言后发送音频。</li>
<li class=""><code>tagged</code> 仅在回复包含 <code>[[tts]]</code> 标签时发送音频。</li>
</ul>
</li>
<li class=""><code>enabled</code>: 传统切换（doctor 将其迁移到 <code>auto</code>）。</li>
<li class=""><code>mode</code>: <code>&quot;final&quot;</code> (默认) 或 <code>&quot;all&quot;</code> (包括工具/块回复)。</li>
<li class=""><code>provider</code>: <code>&quot;elevenlabs&quot;</code>, <code>&quot;openai&quot;</code> 或 <code>&quot;edge&quot;</code> (备用是自动的)。</li>
<li class="">如果 <code>provider</code> <strong>未设置</strong>，Moltbot 优先选择 <code>openai</code> (如果有密钥)，然后是 <code>elevenlabs</code> (如果有密钥)，
否则使用 <code>edge</code>。</li>
<li class=""><code>summaryModel</code>: 可选的廉价模型用于自动摘要；默认为 <code>agents.defaults.model.primary</code>。
<ul>
<li class="">接受 <code>provider/model</code> 或配置的模型别名。</li>
</ul>
</li>
<li class=""><code>modelOverrides</code>: 允许模型发出 TTS 指令 (默认开启)。</li>
<li class=""><code>maxTextLength</code>: TTS 输入的硬限制 (字符)。如果超出，<code>/tts audio</code> 会失败。</li>
<li class=""><code>timeoutMs</code>: 请求超时 (毫秒)。</li>
<li class=""><code>prefsPath</code>: 覆盖本地首选项 JSON 路径 (提供商/限制/摘要)。</li>
<li class=""><code>apiKey</code> 值回退到环境变量 (<code>ELEVENLABS_API_KEY</code>/<code>XI_API_KEY</code>, <code>OPENAI_API_KEY</code>)。</li>
<li class=""><code>elevenlabs.baseUrl</code>: 覆盖 ElevenLabs API 基础 URL。</li>
<li class=""><code>elevenlabs.voiceSettings</code>:
<ul>
<li class=""><code>stability</code>, <code>similarityBoost</code>, <code>style</code>: <code>0..1</code></li>
<li class=""><code>useSpeakerBoost</code>: <code>true|false</code></li>
<li class=""><code>speed</code>: <code>0.5..2.0</code> (1.0 = 正常)</li>
</ul>
</li>
<li class=""><code>elevenlabs.applyTextNormalization</code>: <code>auto|on|off</code></li>
<li class=""><code>elevenlabs.languageCode</code>: 2 字母 ISO 639-1 (例如 <code>en</code>, <code>de</code>)</li>
<li class=""><code>elevenlabs.seed</code>: 整数 <code>0..4294967295</code> (最佳努力确定性)</li>
<li class=""><code>edge.enabled</code>: 允许 Edge TTS 使用 (默认 <code>true</code>；无需 API 密钥)。</li>
<li class=""><code>edge.voice</code>: Edge 神经语音名称 (例如 <code>en-US-MichelleNeural</code>)。</li>
<li class=""><code>edge.lang</code>: 语言代码 (例如 <code>en-US</code>)。</li>
<li class=""><code>edge.outputFormat</code>: Edge 输出格式 (例如 <code>audio-24khz-48kbitrate-mono-mp3</code>)。
<ul>
<li class="">请参见 Microsoft 语音输出格式的有效值；并非所有格式都受 Edge 支持。</li>
</ul>
</li>
<li class=""><code>edge.rate</code> / <code>edge.pitch</code> / <code>edge.volume</code>: 百分比字符串 (例如 <code>+10%</code>, <code>-5%</code>)。</li>
<li class=""><code>edge.saveSubtitles</code>: 在音频文件旁写入 JSON 字幕。</li>
<li class=""><code>edge.proxy</code>: Edge TTS 请求的代理 URL。</li>
<li class=""><code>edge.timeoutMs</code>: 请求超时覆盖 (毫秒)。</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="模型驱动的覆盖-默认开启">模型驱动的覆盖 (默认开启)<a href="#模型驱动的覆盖-默认开启" class="hash-link" aria-label="模型驱动的覆盖 (默认开启)的直接链接" title="模型驱动的覆盖 (默认开启)的直接链接" translate="no">​</a></h2>
<p>默认情况下，模型 <strong>可以</strong> 为单个回复发出 TTS 指令。
当 <code>messages.tts.auto</code> 为 <code>tagged</code> 时，需要这些指令来触发音频。</p>
<p>启用后，模型可以发出 <code>[[tts:...]]</code> 指令来覆盖单个回复的语音，
再加上一个可选的 <code>[[tts:text]]...[[/tts:text]]</code> 块来
提供只应在音频中出现的表现性标签（笑声、唱歌提示等）。</p>
<p>示例回复负载：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">这里给您。</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">[[tts:provider=elevenlabs voiceId=pMsXgVXv3BLzUgSXRplE model=eleven_v3 speed=1.1]]</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">[[tts:text]](笑) 再读一遍这首歌。[ [/tts:text]]</span><br></span></code></pre></div></div>
<p>可用的指令键（启用时）：</p>
<ul>
<li class=""><code>provider</code> (<code>openai</code> | <code>elevenlabs</code> | <code>edge</code>)</li>
<li class=""><code>voice</code> (OpenAI 语音) 或 <code>voiceId</code> (ElevenLabs)</li>
<li class=""><code>model</code> (OpenAI TTS 模型或 ElevenLabs 模型 id)</li>
<li class=""><code>stability</code>, <code>similarityBoost</code>, <code>style</code>, <code>speed</code>, <code>useSpeakerBoost</code></li>
<li class=""><code>applyTextNormalization</code> (<code>auto|on|off</code>)</li>
<li class=""><code>languageCode</code> (ISO 639-1)</li>
<li class=""><code>seed</code></li>
</ul>
<p>禁用所有模型覆盖：</p>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  messages: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    tts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      modelOverrides: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        enabled: false</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>可选的允许列表（禁用特定覆盖同时保持标签启用）：</p>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  messages: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    tts: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      modelOverrides: {</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        enabled: true,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        allowProvider: false,</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">        allowSeed: false</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="每用户首选项">每用户首选项<a href="#每用户首选项" class="hash-link" aria-label="每用户首选项的直接链接" title="每用户首选项的直接链接" translate="no">​</a></h2>
<p>斜杠命令将本地覆盖写入 <code>prefsPath</code>（默认：
<code>~/.clawdbot/settings/tts.json</code>，使用 <code>CLAWDBOT_TTS_PREFS</code> 或
<code>messages.tts.prefsPath</code> 覆盖）。</p>
<p>存储的字段：</p>
<ul>
<li class=""><code>enabled</code></li>
<li class=""><code>provider</code></li>
<li class=""><code>maxLength</code> (摘要阈值；默认 1500 字符)</li>
<li class=""><code>summarize</code> (默认 <code>true</code>)</li>
</ul>
<p>这些会覆盖该主机的 <code>messages.tts.*</code>。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="输出格式固定">输出格式（固定）<a href="#输出格式固定" class="hash-link" aria-label="输出格式（固定）的直接链接" title="输出格式（固定）的直接链接" translate="no">​</a></h2>
<ul>
<li class=""><strong>Telegram</strong>: Opus 语音留言（ElevenLabs 的 <code>opus_48000_64</code>，OpenAI 的 <code>opus</code>）。
<ul>
<li class="">48kHz / 64kbps 是语音留言的良好平衡，也是圆形气泡所必需的。</li>
</ul>
</li>
<li class=""><strong>其他频道</strong>: MP3（ElevenLabs 的 <code>mp3_44100_128</code>，OpenAI 的 <code>mp3</code>）。
<ul>
<li class="">44.1kHz / 128kbps 是语音清晰度的默认平衡。</li>
</ul>
</li>
<li class=""><strong>Edge TTS</strong>: 使用 <code>edge.outputFormat</code>（默认 <code>audio-24khz-48kbitrate-mono-mp3</code>）。
<ul>
<li class=""><code>node-edge-tts</code> 接受 <code>outputFormat</code>，但并非所有格式都可用
从 Edge 服务获得。</li>
<li class="">输出格式值遵循 Microsoft 语音输出格式（包括 Ogg/WebM Opus）。</li>
<li class="">Telegram <code>sendVoice</code> 接受 OGG/MP3/M4A；如果您需要
保证的 Opus 语音留言，请使用 OpenAI/ElevenLabs。</li>
<li class="">如果配置的 Edge 输出格式失败，Moltbot 会重试 MP3。</li>
</ul>
</li>
</ul>
<p>OpenAI/ElevenLabs 格式是固定的；Telegram 期望 Opus 用于语音留言用户体验。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="自动-tts-行为">自动 TTS 行为<a href="#自动-tts-行为" class="hash-link" aria-label="自动 TTS 行为的直接链接" title="自动 TTS 行为的直接链接" translate="no">​</a></h2>
<p>启用后，Moltbot:</p>
<ul>
<li class="">如果回复已包含媒体或 <code>MEDIA:</code> 指令，则跳过 TTS。</li>
<li class="">跳过非常短的回复（&lt; 10 个字符）。</li>
<li class="">在启用时使用 <code>agents.defaults.model.primary</code>（或 <code>summaryModel</code>）总结长回复。</li>
<li class="">将生成的音频附加到回复。</li>
</ul>
<p>如果回复超过 <code>maxLength</code> 且摘要关闭（或没有
摘要模型的 API 密钥），则跳过音频
并发送正常文本回复。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="流程图">流程图<a href="#流程图" class="hash-link" aria-label="流程图的直接链接" title="流程图的直接链接" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">回复 -&gt; TTS 启用？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  否  -&gt; 发送文本</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  是 -&gt; 包含媒体 / MEDIA: / 短？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          是 -&gt; 发送文本</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">          否  -&gt; 长度 &gt; 限制？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">                   否  -&gt; TTS -&gt; 附加音频</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">                   是 -&gt; 启用摘要？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">                            否  -&gt; 发送文本</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">                            是 -&gt; 摘要 (summaryModel 或 agents.defaults.model.primary)</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">                                      -&gt; TTS -&gt; 附加音频</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="斜杠命令使用">斜杠命令使用<a href="#斜杠命令使用" class="hash-link" aria-label="斜杠命令使用的直接链接" title="斜杠命令使用的直接链接" translate="no">​</a></h2>
<p>只有一个命令：<code>/tts</code>。
请参见 <a class="" href="/moltbot-doc/tools/slash-commands">斜杠命令</a> 了解启用详情。</p>
<p>Discord 注意：<code>/tts</code> 是 Discord 的内置命令，因此 Moltbot 在那里注册
<code>/voice</code> 作为原生命令。文本 <code>/tts ...</code> 仍然有效。</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts off</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts always</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts inbound</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts tagged</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts status</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts provider openai</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts limit 2000</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts summary off</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">/tts audio Hello from Moltbot</span><br></span></code></pre></div></div>
<p>说明：</p>
<ul>
<li class="">命令需要授权发送者（允许列表/所有者规则仍然适用）。</li>
<li class="">必须启用 <code>commands.text</code> 或原生命令注册。</li>
<li class=""><code>off|always|inbound|tagged</code> 是每会话切换（<code>/tts on</code> 是 <code>/tts always</code> 的别名）。</li>
<li class=""><code>limit</code> 和 <code>summary</code> 存储在本地首选项中，而不是主配置中。</li>
<li class=""><code>/tts audio</code> 生成一次性音频回复（不会切换 TTS 开启）。</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="代理工具">代理工具<a href="#代理工具" class="hash-link" aria-label="代理工具的直接链接" title="代理工具的直接链接" translate="no">​</a></h2>
<p><code>tts</code> 工具将文本转换为语音并返回 <code>MEDIA:</code> 路径。当
结果与 Telegram 兼容时，工具包括 <code>[[audio_as_voice]]</code> 以便
Telegram 发送语音气泡。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="网关-rpc">网关 RPC<a href="#网关-rpc" class="hash-link" aria-label="网关 RPC的直接链接" title="网关 RPC的直接链接" translate="no">​</a></h2>
<p>网关方法：</p>
<ul>
<li class=""><code>tts.status</code></li>
<li class=""><code>tts.enable</code></li>
<li class=""><code>tts.disable</code></li>
<li class=""><code>tts.convert</code></li>
<li class=""><code>tts.setProvider</code></li>
<li class=""><code>tts.providers</code></li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"></nav></div></div><div class="col col--3"><div class="tocWrapper_xKoj"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#支持的服务" class="table-of-contents__link toc-highlight">支持的服务</a><ul><li><a href="#edge-tts-说明" class="table-of-contents__link toc-highlight">Edge TTS 说明</a></li></ul></li><li><a href="#可选密钥" class="table-of-contents__link toc-highlight">可选密钥</a></li><li><a href="#服务链接" class="table-of-contents__link toc-highlight">服务链接</a></li><li><a href="#默认启用吗" class="table-of-contents__link toc-highlight">默认启用吗？</a></li><li><a href="#配置" class="table-of-contents__link toc-highlight">配置</a><ul><li><a href="#最小配置启用--提供商" class="table-of-contents__link toc-highlight">最小配置（启用 + 提供商）</a></li><li><a href="#openai-主要elevenlabs-备用" class="table-of-contents__link toc-highlight">OpenAI 主要，ElevenLabs 备用</a></li><li><a href="#edge-tts-主要无需-api-密钥" class="table-of-contents__link toc-highlight">Edge TTS 主要（无需 API 密钥）</a></li><li><a href="#禁用-edge-tts" class="table-of-contents__link toc-highlight">禁用 Edge TTS</a></li><li><a href="#自定义限制--首选项路径" class="table-of-contents__link toc-highlight">自定义限制 + 首选项路径</a></li><li><a href="#仅在收到入站语音留言后用音频回复" class="table-of-contents__link toc-highlight">仅在收到入站语音留言后用音频回复</a></li><li><a href="#为长回复禁用自动摘要" class="table-of-contents__link toc-highlight">为长回复禁用自动摘要</a></li><li><a href="#字段说明" class="table-of-contents__link toc-highlight">字段说明</a></li></ul></li><li><a href="#模型驱动的覆盖-默认开启" class="table-of-contents__link toc-highlight">模型驱动的覆盖 (默认开启)</a></li><li><a href="#每用户首选项" class="table-of-contents__link toc-highlight">每用户首选项</a></li><li><a href="#输出格式固定" class="table-of-contents__link toc-highlight">输出格式（固定）</a></li><li><a href="#自动-tts-行为" class="table-of-contents__link toc-highlight">自动 TTS 行为</a></li><li><a href="#流程图" class="table-of-contents__link toc-highlight">流程图</a></li><li><a href="#斜杠命令使用" class="table-of-contents__link toc-highlight">斜杠命令使用</a></li><li><a href="#代理工具" class="table-of-contents__link toc-highlight">代理工具</a></li><li><a href="#网关-rpc" class="table-of-contents__link toc-highlight">网关 RPC</a></li></ul></div><div class="tocFooter_Fu2z"><div class="themeGroup_RzWV" role="group" aria-label="Theme"><button class="themeBtn_tGr6" aria-label="Light theme" title="Light"><svg viewBox="0 0 24 24" width="15" height="15" fill="currentColor" aria-hidden="true"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg></button><button class="themeBtn_tGr6 themeBtnActive_A6tm" aria-label="Dark theme" title="Dark"><svg viewBox="0 0 24 24" width="15" height="15" fill="currentColor" aria-hidden="true"><path d="M11.38 2.019a7.5 7.5 0 1 0 10.6 10.6C21.83 17.963 17.315 22 12.002 22 6.477 22 2 17.523 2 12c0-5.314 4.038-9.827 9.38-10.28z"></path></svg></button></div></div></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Moltbot Docs.</div></div></div></footer></div>
</body>
</html>